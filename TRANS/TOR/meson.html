<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<title>Meson Build System</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>Meson Build System</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="__meson">Отримання meson</h2>
<div class="sectionbody">
<div class="paragraph"><p>Meson реалізований в Python 3 і вимагає 3.5 або новішої версії. Якщо ваша операційна система надає менеджер пакунків, вам слід встановити його. Для платформ, які не мають менеджера пакунків, потрібно завантажити його з домашньої сторінки Python. Дивіться нижче щодо тонкощів платформи Python3.</p></div>
<div class="sect2">
<h3 id="__meson_2">Завантаження meson</h3>
<div class="paragraph"><p>Випуски Meson можна завантажити зі сторінки випуску GitHub, і виконати <code>./meson.py</code> зсередини випуску чи самого сховища git, не роблячи нічого особливого.</p></div>
<div class="paragraph"><p>Найновіший код розробки можна отримати безпосередньо від Git, і ми прагнемо до того, щоб він завжди працював і використовувався. Усі коміти проходять через процес запиту на оновлення, який запускає CI і тестує кілька платформ.</p></div>
</div>
<div class="sect2">
<h3 id="__meson___pip">Встановлення Meson за допомогою pip</h3>
<div class="paragraph"><p>Meson доступний в переліку пакетів Python і може бути встановлений за допомогою <code>pip3 install meson</code>, який потребує <code>root</code> та встановить його у всій системі.</p></div>
<div class="paragraph"><p>Крім того, ви можете використовувати <code>pip3 install --user meson</code>, який встановить його для вашого користувача і не потребує спеціальних привілеїв. Це дозволить встановити пакет у <code>~/.local/</code>, тому вам доведеться додати <code>~/.local/bin</code> до вашого <code>PATH</code>.</p></div>
</div>
<div class="sect2">
<h3 id="__meson__ninja____msi">Встановлення Meson і Ninja за допомогою інсталятора MSI</h3>
<div class="paragraph"><p>Ми надаємо інсталятор MSI на сторінці випуску GitHub, який можна використовувати для встановлення Meson і Ninja одразу для Windows. Він також містить вбудовану копію Python, тому сценарії, які використовують модуль Python та не мають зовнішніх залежностей, продовжуватимуть працювати, як очікувалося.</p></div>
<div class="paragraph"><p>Зауважте, що це нова функція, тому повідомлення про помилки очікуються та вітаються!</p></div>
</div>
<div class="sect2">
<h3 id="_">Залежності</h3>
<div class="paragraph"><p>У найпоширенішому випадку вам знадобиться виконуваний файл Ninja, щоб використовувати бекенд <code>ninja</code>, що є типовим для Meson. Цей бекенд можна використовувати на всіх платформах та з усіма ланцюгами інструментів, включаючи GCC, Clang, Visual Studio, MinGW, ICC, ARMCC тощо.</p></div>
<div class="paragraph"><p>Ви можете використовувати версію, надану менеджером пакунків, якщо це можливо, інакше завантажте двійковий виконуваний файл зі сторінки випуску проекту Ninja.</p></div>
<div class="paragraph"><p>Якщо ви будете використовувати лише бекенд Visual Studio (<code>--backend=vs</code>) для генерування рішень Visual Studio у Windows або XCode backend (<code>--backend=xcode</code>) для генерації проектів XCode на macOS, вам не потрібен Ninja.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__meson_3">Використання Meson</h2>
<div class="sectionbody">
<div class="paragraph"><p>Meson був розроблений таким чином, щоб бути максимально простим у використанні. На цій сторінці викладено початкові кроки, необхідні для встановлення, усунення несправностей та стандартного використання.</p></div>
<div class="paragraph"><p>Для отримання більш досконалої конфігурації зверніться до довідки <code>meson --help</code> командного рядка або до документації Meson, розміщеної на веб-сайті Mesonbuild.</p></div>
<div class="sect2">
<h3 id="_____">Установка за допомогою менеджера пакунків</h3>
<div class="paragraph"><p>Ubuntu:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ sudo apt-get install python3 python3-pip python3-setuptools python3-wheel ninja-build
</pre></div></div></div>
<div class="paragraph"><p>Завдяки нашому частому циклу випуску та швидкості розробки програмне забезпечення, що іде в пакетах, може швидко застаріти.</p></div>
</div>
<div class="sect2">
<h3 id="____python">Установка за допомогою Python</h3>
<div class="paragraph"><p>Вимагає: <code>pip3</code></p></div>
<div class="paragraph"><p>Найкращий спосіб отримати найновішу версію Mesonbuild.</p></div>
<div class="paragraph"><p>Встановити як локальний користувач (рекомендується):</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ pip3 install --user meson
</pre></div></div></div>
<div class="paragraph"><p>Встановити як root:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ sudo -H pip3 install meson
</pre></div></div></div>
<div class="paragraph"><p>Якщо ви не впевнені, встановити як root або локальний користувач, встановіть його для локального користувача.</p></div>
</div>
<div class="sect2">
<h3 id="___">Установка з джерела</h3>
<div class="paragraph"><p>Вимагає: <code>git</code></p></div>
<div class="paragraph"><p>Meson можна запустити безпосередньо з клонованого сховища git.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ git clone https://github.com/mesonbuild/meson.git
</pre></div></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="___meson">Компіляція проекту Meson</h2>
<div class="sectionbody">
<div class="paragraph"><p>Найпоширеніший випадок використання Meson - це компіляція  на базі коду, над яким ви працюєте. Кроки, які потрібно зробити, дуже прості.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /path/to/source/root
$ meson builddir <span class="o">&amp;&amp;</span> <span class="nb">cd</span> builddir
$ ninja
$ ninja <span class="nb">test</span>
</pre></div></div></div>
<div class="paragraph"><p>Єдине, що слід зазначити, це те, що вам потрібно створити окремий каталог збірки. Meson не дозволить вам будувати вихідний код всередині вашого джерела. Усі артефакти збірки зберігаються в каталозі збірки. Це дозволяє мати декілька дерев побудови з різною конфігурацією одночасно. Таким чином, згенеровані файли не додаються до контролю версій випадково.</p></div>
<div class="paragraph"><p>Щоб перекомпілювати після зміни коду, просто введіть <code>ninja</code>. Команда побудови завжди однакова. Ви можете робити довільні зміни вихідного коду та створювати системні файли, а Meson виявить їх і зробить правильно. Якщо ви хочете створити оптимізовані бінарні файли, просто використовуйте аргумент <code>--buildtype=debugoptimized</code> під час запуску Meson. Рекомендується зберігати один каталог збірок для неоптимізованих збірок і один для оптимізованих. Щоб скомпілювати будь-яку задану конфігурацію, просто перейдіть у відповідний каталог збірки та запустіть <code>ninja</code>.</p></div>
<div class="paragraph"><p>Meson автоматично додаватиме прапори компілятора, щоб увімкнути інформацію про налагодження та попередження компілятора (тобто <code>-g</code> та <code>-Wall</code>). Це означає, що користувачеві не доведеться з ними мати справу і може замість цього зосередитись на кодуванні.</p></div>
<div class="sect2">
<h3 id="__meson___">Використання Meson як пакувача дистрибутиву</h3>
<div class="paragraph"><p>Пакувальники дістро зазвичай хочуть повного контролю над використовуваними прапорами збірки. Meson підтримує цей випадок використання в природно. Команди, необхідні для створення та встановлення проектів Meson, наступні.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /path/to/source/root
$ meson --prefix /usr --buildtype<span class="o">=</span>plain builddir -Dc_args<span class="o">=</span>... -Dcpp_args<span class="o">=</span>... -Dc_link_args<span class="o">=</span>... -Dcpp_link_args<span class="o">=</span>...
$ ninja -v -C builddir
$ ninja -C builddir <span class="nb">test</span>
$ <span class="nv">DESTDIR</span><span class="o">=</span>/path/to/staging/root ninja -C builddir install
</pre></div></div></div>
<div class="paragraph"><p>Перемикач командного рядка <em>--buildtype=plain</em> повідомляє Meson не додавати власні прапори до командного рядка. Це дає пакувальнику повний контроль над використовуваними прапорами.</p></div>
<div class="paragraph"><p>Це дуже схоже на інші системи побудови. Єдина відмінність полягає в тому, що змінна <code>DESTDIR</code> передається як змінна середовища, а не як аргумент для <code>ninja install</code>.</p></div>
<div class="paragraph"><p>Оскільки побудова дистрибутивів відбувається завжди з нуля, ви можете розглянути можливість ввімкнення модульних збірок у ваших пакунках, оскільки вони швидші та створюють кращий код. Однак існує багато проектів, які не будуються з увімкненими модульними побудовами, тому рішення про використання модульної побудови єдності повинно приймати пакувальник у кожному конкретному випадку.</p></div>
</div>
</div>
</div>
<h1 id="__">Навчальний посібник</h1>
<div class="paragraph"><p>Ця сторінка з самого початку показує, як створити визначення побудови Meson для простого проекту. Потім ми розширюємо його на використання зовнішніх залежностей, щоб показати, наскільки легко вони можуть бути інтегровані у ваш проект.</p></div>
<div class="paragraph"><p>Цей підручник написаний здебільшого для використання в Linux. Це передбачає, що у вас є бібліотеки розвитку GTK, доступні в системі. У таких системах, як Debian, як Ubuntu, їх можна встановити за допомогою наступної команди:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>sudo apt install libgtk-3-dev
</pre></div></div></div>
<div class="paragraph"><p>Можна побудувати додаток GUI на інших платформах, таких як Windows та macOS, але вам потрібно встановити необхідні залежності.</p></div>
<div class="sect1">
<h2 id="___2">Неквапний початок</h2>
<div class="sectionbody">
<div class="paragraph"><p>Почнемо з найосновніших програм, класичного прикладу hello. Спочатку ми створюємо файл <code>main.c</code>, який містить джерело. Це виглядає приблизно так.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello there.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div></div>
<div class="paragraph"><p>Потім ми створюємо опис збірки Meson і поміщаємо його у файл під назвою <code>meson.build</code> у тій самій директорії. Його зміст наступний.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Це все. Зараз ми готові створити нашу програму. Спочатку нам потрібно ініціалізувати збірку, зайшовши у вихідний каталог та видавши наступні команди.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ meson builddir
</pre></div></div></div>
<div class="paragraph"><p>Ми створюємо окремий каталог збірки, щоб вмістити весь вихід компілятора. Meson відрізняється від інших систем побудови тим, що він не дозволяє будувати серед джерела. Ви завжди повинні створювати окремий каталог збірки. Загальна норма полягає в тому, щоб помістити каталог збірки за замовчуванням у підкаталог вашого вихідного каталогу верхнього рівня.</p></div>
<div class="paragraph"><p>При запуску Meson він друкує наступний вихід.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>The Meson build system
 version: 0.13.0-research
Source dir: /home/jpakkane/mesontutorial
Build dir: /home/jpakkane/mesontutorial/builddir
Build type: native build
Project name is "tutorial".
Using native c compiler "ccache cc". (gcc 4.8.2)
Creating build target "demo" with 1 files.</code></pre>
</div></div>
<div class="paragraph"><p>Now we are ready to build our code.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> builddir
$ ninja
</pre></div></div></div>
<div class="paragraph"><p>Після цього ми можемо запустити отриманий двійковий файл.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ ./demo

Hello there.</code></pre>
</div></div>
<div class="paragraph"><p>Це дає очікуваний вихід.</p></div>
<div class="sect2">
<h3 id="___3">Додавання залежностей</h3>
<div class="paragraph"><p>Просто друк тексту трохи старомодний. Давайте оновимо нашу програму, щоб натомість створити графічне вікно. Ми використовуватимемо інструментарій віджетів GTK+. Спочатку ми редагуємо основний файл, щоб використовувати GTK+. Нова версія виглядає приблизно так.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="cpf">&lt;gtk/gtk.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">GtkWidget</span> <span class="o">*</span><span class="n">win</span><span class="p">;</span>
  <span class="n">gtk_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">argv</span><span class="p">);</span>
  <span class="n">win</span> <span class="o">=</span> <span class="n">gtk_window_new</span><span class="p">(</span><span class="n">GTK_WINDOW_TOPLEVEL</span><span class="p">);</span>
  <span class="n">gtk_window_set_title</span><span class="p">(</span><span class="n">GTK_WINDOW</span><span class="p">(</span><span class="n">win</span><span class="p">),</span> <span class="s">&quot;Hello there&quot;</span><span class="p">);</span>
  <span class="n">g_signal_connect</span><span class="p">(</span><span class="n">win</span><span class="p">,</span> <span class="s">&quot;destroy&quot;</span><span class="p">,</span> <span class="n">G_CALLBACK</span><span class="p">(</span><span class="n">gtk_main_quit</span><span class="p">),</span> <span class="nb">NULL</span><span class="p">);</span>
  <span class="n">gtk_widget_show</span><span class="p">(</span><span class="n">win</span><span class="p">);</span>
  <span class="n">gtk_main</span><span class="p">();</span>
<span class="p">}</span>
</pre></div></div></div>
<div class="paragraph"><p>Потім ми редагуємо файл Meson, доручаючи йому знаходити та використовувати бібліотеки GTK +.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Now we are ready to build. The thing to notice is that we do not need to recreate our build directory, run any sort of magical commands or the like. Instead we just type the exact same command as if we were rebuilding our code without any build system changes.
Тепер ми готові будувати. Що потрібно помітити, це те, що нам не потрібно відтворювати наш каталог збирання, запускати будь-які магічні команди тощо. Замість цього ми просто вводимо таку саму команду, як ніби ми перебудовували наш код без будь-яких змін системи побудови.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ ninja
</pre></div></div></div>
<div class="paragraph"><p>Після того, як ви вперше налаштували каталог збирання, вам більше ніколи не потрібно запускати команду meson. Ви завжди просто запускаєте ніндзя. Meson автоматично визначить, коли ви внесли зміни до створення визначень, і подбає про все, щоб користувачі не піклувалися про них. У цьому випадку виробляється наступний вихід.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[1/1] Regenerating build files
The Meson build system
 version: 0.13.0-research
Source dir: /home/jpakkane/mesontutorial
Build dir: /home/jpakkane/mesontutorial/builddir
Build type: native build
Project name is "tutorial".
Using native c compiler "ccache cc". (gcc 4.8.2)
Found pkg-config version 0.26.
Dependency gtk+-3.0 found: YES
Creating build target "demo" with 1 files.
[1/2] Compiling c object demo.dir/main.c.o
[2/2] Linking target demo</code></pre>
</div></div>
<div class="paragraph"><p>Зауважте, як Meson помітив, що визначення збірки змінилося і перезапустилося автоматично. Програма тепер готова до запуску:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span></span>$ ./demo
</pre></div></div></div>
<div class="paragraph"><p>Це створює наступну програму GUI.
<span class="image">
<img src=":gtksample.png" alt=":gtksample.png" />
</span></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__2">Огляд</h2>
<div class="sectionbody">
<div class="paragraph"><p>Meson - це система побудови, розроблена таким чином, щоб бути максимально зручною для користувачів без шкоди для продуктивності. Основним інструментом для цього є користувацька мова, яку користувач використовує для опису структури своєї збірки. Головними цілями дизайну цієї мови були простота, чіткість і стислість. Багато натхнення було черпано з мови програмування Python, яка вважається дуже читаною, навіть людям, які раніше не програмували на Python.</p></div>
<div class="paragraph"><p>Іншою основною ідеєю було надання першокласної підтримки сучасних засобів програмування та найкращих практик. Сюди можна віднести такі різні функції, як юніт тестування, звітність про покриття коду, попередньо складені заголовки тощо. Усі ці функції повинні бути негайно доступними для будь-якого проекту, що використовує Meson. Користувачеві не потрібно шукати макроси сторонніх розробників або писати сценарії оболонок, щоб отримати ці функції. Вони повинні просто працювати з коробки.</p></div>
<div class="paragraph"><p>Ця потужність не повинна надходити за рахунок обмеженої юзабіліті. Багато програмних засобів вимагають неортодоксальних кроків. Поширеним прикладом є те, що спочатку потрібно створити спеціальний інструмент, а потім використовувати цей інструмент, щоб створити більше вихідного коду для створення. Цей функціонал повинен підтримуватися і бути таким же простим у використанні, як і інші частини системи.</p></div>
<div class="sect2">
<h3 id="__3">Термінологія</h3>
<div class="paragraph"><p>Meson сліує за загальною структурою інших популярних систем побудови, таких як CMake та GNU Autotools. Це означає, що збірка поділена на два дискретні етапи: кроку <code>configure</code> та збірки. Перший крок оглядає систему, перевіряє наявність залежностей та виконує всі інші кроки, необхідні для налаштування збірки. Потім він генерує фактичну систему побудови. Другий крок - це просто виконати цю створену систему складання. Кінцевим результатом є купа цілей збирання, які, як правило, є виконавчі файли, спільні та статичні бібліотеки.</p></div>
<div class="paragraph"><p>Каталог, який містить вихідний код, називається вихідним каталогом. Відповідно каталог, де записаний вихід, називається каталогом збірки. В інших системах побудови звичайно, щоб ці двоє були однаковими каталогами. Це називається збіркою в джерелі. Випадок, коли каталог збірки є окремим, називається збіркою за межами джерела.</p></div>
<div class="paragraph"><p>Meson відрізняє від більшості систем збирання те, що він застосовує окремий каталог збірки. Усі файли, створені системою збирання, потрапляють в каталог збірки. Насправді неможливо зробити збірку джерела. Для людей, які звикли будувати всередині свого кодового дерева, це може здатися непотрібним ускладненням. Однак є декілька переваг, як робити лише збірки з джерела. Вони будуть пояснені в наступному розділі.</p></div>
<div class="paragraph"><p>Коли побудований вихідний код, зазвичай виконується набір юніт тестів. Вони гарантують, що програма працює як слід. Якщо це так, результат збірки можна встановити, після чого він готовий до використання.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="___4">Вбудовані опції</h2>
<div class="sectionbody">
<div class="paragraph"><p>Meson пропонує два типи опцій: параметри збирання, що надаються файлами збірки, та вбудовані параметри, які є або універсальними, базовими, параметрами компілятора.</p></div>
<div class="sect2">
<h3 id="___5">Універсальні опції</h3>
<div class="paragraph"><p>Список цих параметрів можна знайти, запустивши <code>meson --help</code>. Все це можна встановити, передавши в meson  (він же meson setup) будь-яким із цих способів: <code>--option=value</code>, <code>--option value</code>, <code>-Doption=value</code> або встановивши їх всередині <code>default_options</code> для <code>project()</code> у вашому <code>meson.build</code>.</p></div>
<div class="paragraph"><p>З історичних причин <code>--warnlevel</code> - це аргумент cli для параметра <code>warning_level</code>.</p></div>
<div class="paragraph"><p>Вони також можуть бути відредаговані після налаштування за допомогою <code>meson configure</code>.</p></div>
<div class="paragraph"><p>Параметри встановлення всі відносні до <code>prefix</code>, за винятком:</p></div>
<div class="ulist"><ul>
<li>
<p>
Коли префікс є <code>/usr</code>: за замовчуванням <code>sysconfdir</code> встановлене в  <code>/etc</code>, <code>defaultstatedir</code> за замовчуванням  <code>/var</code>, а <code>sharedstatedir</code> за замовчуванням <code>/var/lib</code>
</p>
</li>
<li>
<p>
Коли префікс <code>/usr/local</code>: <code>defaultstatedir</code> за замовчуванням <code>/var/local</code>, а <code>sharedstatedir</code> за замовчуванням до <code>/var/local/lib</code>
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="__4">Директорії</h3>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Опція</p></td>
<td align="left" valign="top"><p class="table">Замовчання</p></td>
<td align="left" valign="top"><p class="table">Опис</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">prefix</p></td>
<td align="left" valign="top"><p class="table">див нижче</p></td>
<td align="left" valign="top"><p class="table">префікс інсталяції</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">bindir</p></td>
<td align="left" valign="top"><p class="table">bin</p></td>
<td align="left" valign="top"><p class="table">директорія виконавчих файлів</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">datadir</p></td>
<td align="left" valign="top"><p class="table">share</p></td>
<td align="left" valign="top"><p class="table">директорія файлів даних</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">includedir</p></td>
<td align="left" valign="top"><p class="table">include</p></td>
<td align="left" valign="top"><p class="table">директорія файлів заголовків</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">infodir</p></td>
<td align="left" valign="top"><p class="table">share/info</p></td>
<td align="left" valign="top"><p class="table">директорія інфо сторінок</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">libdir</p></td>
<td align="left" valign="top"><p class="table">див нижче</p></td>
<td align="left" valign="top"><p class="table">директорія бібліотек</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">libexecdir</p></td>
<td align="left" valign="top"><p class="table">libexec</p></td>
<td align="left" valign="top"><p class="table">директорія виконавчих бібліотек</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">localedir</p></td>
<td align="left" valign="top"><p class="table">share/locale</p></td>
<td align="left" valign="top"><p class="table">директорія даних локалі</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">localstatedir</p></td>
<td align="left" valign="top"><p class="table">var</p></td>
<td align="left" valign="top"><p class="table">директорія локального стану</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">mandir</p></td>
<td align="left" valign="top"><p class="table">share/man</p></td>
<td align="left" valign="top"><p class="table">директорія man сторінок</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">sbindir</p></td>
<td align="left" valign="top"><p class="table">sbin</p></td>
<td align="left" valign="top"><p class="table">директорія системних програм</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">sharedstatedir</p></td>
<td align="left" valign="top"><p class="table">com</p></td>
<td align="left" valign="top"><p class="table">директорія незалежних від архітектури даних</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">sysconfdir</p></td>
<td align="left" valign="top"><p class="table">etc</p></td>
<td align="left" valign="top"><p class="table">директорія системних налаштувань</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><code>prefix</code> по замовчанню <code>C:/</code> на Windows, та <code>/usr/local</code> в іншому випадку. Ви завжди повинні перевизначити це значення.</p></div>
<div class="paragraph"><p><code>libdir</code> автоматично визначається на основі вашої платформи, це має бути правильним під час "природної" компіляції (машина побудови == машина виконання). Для крос-компіляцій meson намагатиметься відгадати правильний <code>libdir</code>, але це може бути не точно, особливо в Linux, де різні дистрибутиви мають різні замовчування. Можливо знадобиться <code>cross</code> файл, особливо розділ шляхів.</p></div>
</div>
<div class="sect2">
<h3 id="___6">Основні опції</h3>
<div class="paragraph"><p>Параметри, позначені в таблиці "на кожну машину", встановлюються на кожну машину. Префіксація параметра за допомогою <code>build.</code> впливає на конфігурацію машини побудови, тоді як відсутність префіксу впливає на конфігурацію хост-машини. Використання параметра as-is без префікса стосується всіх машин. Наприклад:</p></div>
<div class="paragraph"><p><code>build.pkg_config_path</code> контролює шляхи, де <code>pkg-config</code> для залежностей <code>native:true</code> (build machine).</p></div>
<div class="paragraph"><p><code>pkg_config_path</code> контролює шляхи, де <code>pkg-config</code> для залежностей <code>native:true</code> (host machine).</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Опція</p></td>
<td align="left" valign="top"><p class="table">Замовчання</p></td>
<td align="left" valign="top"><p class="table">Опис</p></td>
<td align="left" valign="top"><p class="table">На кожну машину</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">auto_features {enabled, disabled, auto}</p></td>
<td align="left" valign="top"><p class="table">auto</p></td>
<td align="left" valign="top"><p class="table">Перекриває всі <em>auto</em> можливості</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">backend {ninja, vs, vs2010, vs2015, vs2017, vs2019, xcode}</p></td>
<td align="left" valign="top"><p class="table">ninja</p></td>
<td align="left" valign="top"><p class="table">Використати бекенд</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">buildtype {plain, debug, debugoptimized, release, minsize, custom}</p></td>
<td align="left" valign="top"><p class="table">debug</p></td>
<td align="left" valign="top"><p class="table">Тип побудови</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">debug</p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">Налаштування</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">default_library {shared, static, both}</p></td>
<td align="left" valign="top"><p class="table">shared</p></td>
<td align="left" valign="top"><p class="table">Тип бібліотеки</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">errorlogs</p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">Чи друкувати журнал збійних тестів</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">install_umask {preserve, 0000-0777}</p></td>
<td align="left" valign="top"><p class="table">022</p></td>
<td align="left" valign="top"><p class="table">umask для дозволів встановлюваних файлів</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">layout {mirror,flat}</p></td>
<td align="left" valign="top"><p class="table">mirror</p></td>
<td align="left" valign="top"><p class="table">Лейаут директорії побудови</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">optimization {0, g, 1, 2, 3, s}</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Рівень оптимізації</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">pkg_config_path {OS поділений шлях}</p></td>
<td align="left" valign="top"><p class="table">''</p></td>
<td align="left" valign="top"><p class="table">Додаткові шляхи для pkg-config для пошуку перед вбудованими шляхами</p></td>
<td align="left" valign="top"><p class="table">yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">cmake_prefix_path</p></td>
<td align="left" valign="top"><p class="table">[]</p></td>
<td align="left" valign="top"><p class="table">Додаткові префікси для cmake для пошуку перед вбудованими шляхами</p></td>
<td align="left" valign="top"><p class="table">yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">stdsplit</p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">Розділити stdout та stderr в журналах тестів</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">strip</p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">Обскубти цілі при інсталяції</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">unity {on, off, subprojects}</p></td>
<td align="left" valign="top"><p class="table">off</p></td>
<td align="left" valign="top"><p class="table">Unity побудова</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">unity_size {&gt;=2}</p></td>
<td align="left" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">розмір блоку файла</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">warning_level {0, 1, 2, 3}</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Встановити рівень попереджень від 0 = none до 3 = highest</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">werror</p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">Трактувати попередження як помилки</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">wrap_mode {default, nofallback, nodownload, forcefallback}</p></td>
<td align="left" valign="top"><p class="table">default</p></td>
<td align="left" valign="top"><p class="table">Режим огортання</p></td>
<td align="left" valign="top"><p class="table">no</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Для встановлення рівнів оптимізації та перемикання налагодження ви можете або встановити параметр <code>buildtype</code>, або ви можете встановити параметри <code>optimization</code> та <code>debug</code>, які дають більш точний контроль над тим же самим. Що б ви не вирішили використовувати, інше буде виведено з нього. Наприклад, <code>-Dbuildtype=debugoptimized</code> - це те саме, що <code>-Ddebug=true</code> <code>-Doptimization=2</code> і навпаки. Ця таблиця документує двостороннє відображення:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">buildtype</p></td>
<td align="left" valign="top"><p class="table">debug</p></td>
<td align="left" valign="top"><p class="table">optimization</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">plain</p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">debug</p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">debugoptimized</p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">release</p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">3</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">minsize</p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">s</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Усі інші комбінації налагодження та оптимізації встановлюють тип збірки на <code>custom</code>.</p></div>
</div>
<div class="sect2">
<h3 id="___7">Базові опції</h3>
<div class="paragraph"><p>Вони встановлюються так само, як і універсальні параметри, але не можуть бути показані у розділі <code>meson --help</code>, оскільки вони залежать як від поточної платформи, так і від компілятора, який буде обраний. Єдиний спосіб їх побачити - це встановити <code>builddir</code>, а потім запустити на ньому <code>meson configure</code> без параметрів.</p></div>
<div class="paragraph"><p>The following options are available. Note that they may not be available on all platforms or with all compilers:
Доступні наступні опції. Зауважте, що вони можуть бути недоступні на всіх платформах або з усіма компіляторами:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Опція</p></td>
<td align="left" valign="top"><p class="table">Замовчування</p></td>
<td align="left" valign="top"><p class="table">Можливі значення</p></td>
<td align="left" valign="top"><p class="table">Опис</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_asneeded</code></p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">При лінкуванні використовувати <code>-Wl,--as-needed</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_bitcode</code></p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">Вбудувати біткод Apple</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_colorout</code></p></td>
<td align="left" valign="top"><p class="table">always</p></td>
<td align="left" valign="top"><p class="table">auto, always, never</p></td>
<td align="left" valign="top"><p class="table">Кольоровий друк</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_coverage</code></p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">Трекінг покриття</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_lundef</code></p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">При лінкуванні не дозволяти невизначені символи</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_lto</code></p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">Оптимізація часу лінкування</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_ndebug</code></p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">true, false, if-release</p></td>
<td align="left" valign="top"><p class="table">Вимкнути assert</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_pch</code></p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">Використовувати прекомпільовані заголовки</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_pgo</code></p></td>
<td align="left" valign="top"><p class="table">off</p></td>
<td align="left" valign="top"><p class="table">off, generate, use</p></td>
<td align="left" valign="top"><p class="table">Оптимізація на основі профілю</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_sanitize</code></p></td>
<td align="left" valign="top"><p class="table">none</p></td>
<td align="left" valign="top"><p class="table">див. в примітках</p></td>
<td align="left" valign="top"><p class="table">Санація коду</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_staticpic</code></p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">Будувати статичні бібліотеки як незалежні від позиції</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_pie</code></p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">Будувати незалежні від позиції виконавчі файли</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>b_vscrt</code></p></td>
<td align="left" valign="top"><p class="table">from_buildtype</p></td>
<td align="left" valign="top"><p class="table">none, md, mdd, mt, mtd, from_buildtype</p></td>
<td align="left" valign="top"><p class="table">Бібдіотека VS рантайм</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Значення <code>b_sanitize</code> може бути одним із: none, address, thread, undefined, memory, address.</p></div>
<div class="paragraph"><p>Значенням <code>b_vscrt</code> за замовчуванням є <code>from_buildtype</code>. У цьому випадку для вибору аргументів компілятора CRT внутрішньо використовується наступна таблиця, виходячи зі значення опції <code>buildtype</code>:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">buildtype</p></td>
<td align="left" valign="top"><p class="table">Visual Studio CRT</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">debug</p></td>
<td align="left" valign="top"><p class="table">/MDd</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">debugoptimized</p></td>
<td align="left" valign="top"><p class="table">/MD</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">release</p></td>
<td align="left" valign="top"><p class="table">/MD</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">minsize</p></td>
<td align="left" valign="top"><p class="table">/MD</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">custom</p></td>
<td align="left" valign="top"><p class="table">error!</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_____apple">Примітки про підтримку біткодів Apple</h5>
<div class="paragraph"><p><code>b_bitcode</code> передасть <code>-fembed-bitcode</code> під час компіляції та передасть <code>-Wl, -bitcode_bundle</code> під час лінкування. Ці параметри несумісні з <code>b_asneeded</code>, тому ця опція буде мовчазно відключена.</p></div>
<div class="paragraph"><p>Спільні модулі не матимуть вбудованого бітового коду, оскільки <code>-Wl, -bitcode_bundle</code> несумісний із обома, <code>-bundle</code> та <code>-Wl,-undefined,dynamic_lookup</code>, необхідними для роботи спільних модулів.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="___8">Параметри компілятора</h3>
<div class="paragraph"><p>Ті ж застереження, що й для базових опцій, наведені вище.</p></div>
<div class="paragraph"><p>Доступні наступні опції. Зауважте, що і самі параметри, і можливі значення, які вони можуть приймати, залежатимуть від цільової платформи або компілятора, який використовується:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Опція</p></td>
<td align="left" valign="top"><p class="table">Замовчування</p></td>
<td align="left" valign="top"><p class="table">Можливі значення</p></td>
<td align="left" valign="top"><p class="table">Опис</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>c_args</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">список через кому</p></td>
<td align="left" valign="top"><p class="table">Аргументи C компілятора</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>c_link_args</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">список через кому</p></td>
<td align="left" valign="top"><p class="table">Аргументи C компілятора</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>c_std</code></p></td>
<td align="left" valign="top"><p class="table">none</p></td>
<td align="left" valign="top"><p class="table">none, c89, c99, c11, c17, c18, gnu89, gnu99, gnu11, gnu17, gnu18</p></td>
<td align="left" valign="top"><p class="table">Стандарт мови C</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>c_winlibs</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">список через кому</p></td>
<td align="left" valign="top"><p class="table">Стандартні бібліотеки Windows для лінкування</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>c_thread_count</code></p></td>
<td align="left" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">ціле число ≥ 0</p></td>
<td align="left" valign="top"><p class="table">Число потоків в emcc</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cpp_args</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">список через кому</p></td>
<td align="left" valign="top"><p class="table">Аргументи компілятора C++</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cpp_link_args</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">список через кому</p></td>
<td align="left" valign="top"><p class="table">Аргументи лінкера C++</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cpp_std</code></p></td>
<td align="left" valign="top"><p class="table">none</p></td>
<td align="left" valign="top"><p class="table">none, c<code>98, c</code>03, c<code>11, c</code>14, c<code>17, c</code>1z, gnu<code>03, gnu</code>11, gnu<code>14, gnu</code>17, gnu<code>1z, vc</code>14, vc<code>17, vc</code>latest</p></td>
<td align="left" valign="top"><p class="table">Стандарт мови C++</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cpp_debugstl</code></p></td>
<td align="left" valign="top"><p class="table">false</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">Режим налаштування C++ STL</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cpp_eh</code></p></td>
<td align="left" valign="top"><p class="table">default</p></td>
<td align="left" valign="top"><p class="table">none, default, a, s, sc</p></td>
<td align="left" valign="top"><p class="table">Тип обробки виключень C++</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cpp_rtti</code></p></td>
<td align="left" valign="top"><p class="table">true</p></td>
<td align="left" valign="top"><p class="table">true, false</p></td>
<td align="left" valign="top"><p class="table">Чи додавати RTTI (runtime type identification)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cpp_thread_count</code></p></td>
<td align="left" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">ціле число ≥ 0</p></td>
<td align="left" valign="top"><p class="table">Число потоків в emcc</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cpp_winlibs</code></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">список через кому</p></td>
<td align="left" valign="top"><p class="table">Стандартні бібліотеки Windows для лінкування</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>fortran_std</code></p></td>
<td align="left" valign="top"><p class="table">none</p></td>
<td align="left" valign="top"><p class="table">[none, legacy, f95, f2003, f2008, f2018]</p></td>
<td align="left" valign="top"><p class="table">Стандарт мови Fortran</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Значення <code>c_winlibs</code> та <code>cpp_winlibs</code> за замовчуванням знаходяться у специфічних для компілятора формах аргументів, але бібліотеки: kernel32, user32, gdi32, winpool, shell32, ole32, oleaut32, uuid, comdlg32, advapi32.</p></div>
<div class="paragraph"><p><code>c_args</code>, <code>cpp_args</code>, <code>c_link_args</code> та <code>cpp_link_args</code> впливають лише на природні збірки, при перехресному компілюванні вони не застосовуватимуться до бінарних файлів або бібліотек, орієнтованих на хост-систему, лише до тих, що запущені в системі збірки.</p></div>
<div class="paragraph"><p>При використанні MSVC, <code>cpp_eh=none</code> не призведе до передачі прапорців, тоді як <code>cpp_eh = [значення]</code> призведе до <code>/EH[значення]</code>. Починаючи з 0.51.0 <code>cpp_eh=default</code> призведе до <code>/EHsc</code> на MSVC. При використанні компіляторів в стилі gcc нічого не передається (дозволяючи виняткам працювати), тоді як <code>cpp_eh=none</code> передає <code>-fno-exceptions</code>.</p></div>
<div class="paragraph"><p>З версії 0.54.0 Параметр <code>&lt;lang&gt;_thread_count</code> може використовуватися для управління значенням, переданим на <code>-s PTHREAD_POOL_SIZE</code> при використанні emcc. Жоден інший компілятор c/c++ не підтримує цю опцію.</p></div>
</div>
<div class="sect2">
<h3 id="__meson_4">Зразок Meson</h3>
<div class="paragraph"><p>Файл Meson, який створює виконуваний файл, виглядає приблизно так.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Усі визначення побудови Meson починаються з команди <code>project</code>. У ній вказується назва проекту та які мови програмування він використовує. Тут проект називається <code>simple</code> і він використовує лише мову програмування С. Усі рядки в лапках.</p></div>
<div class="paragraph"><p>У наступному рядку ми визначаємо ціль збірки, в цьому випадку виконуваний файл, який називається <code>myexe</code>. Він складається з одного вихідного файла. Це весь код, який потрібно написати користувачеві, щоб скласти виконуваний файл з Meson.</p></div>
<div class="paragraph"><p>Змінні повністю підтримуються. Вищенаведений фрагмент коду також міг бути таким.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Більшість виконуваних файлів складаються з декількох вихідних файлів. Найпростіший спосіб впоратися з цим - це помістити їх у масив.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Месон також підтримує поняття ключових слів аргументів. Дійсно, більшість аргументів до функцій можна передавати лише використовуючи їх. Вищенаведений фрагмент можна переписати так.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Ці два формати є рівнозначними, а вибір одного над іншим здебільшого є питанням особистої переваги.</p></div>
<div class="paragraph"><p>Команда <code>executable</code> фактично повертає виконуваний об'єкт, який представляє задану ціль збірки. Він може передаватися іншим функціям.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Тут ми створюємо юніт тест, який називається <code>simple test</code>, і в якому використовується побудований виконуваний файл. Коли тести виконуються за допомогою команди тестування ninja <code>test</code>, виконується побудований виконуваний файл. Якщо він повертає нуль, тест проходить. Ненульове значення повернення вказує на помилку, про яку Meson потім повідомить користувачеві.</p></div>
<div class="sect4">
<h5 id="____visual_studio">Примітка для користувачів Visual Studio</h5>
<div class="paragraph"><p>Існує невелика різниця в термінології між Meson і Visual Studio. Проект Meson - еквівалент рішення Visual Studio. Тобто найвище, що охоплює всі речі, які потрібно будувати. Проект Visual Studio, з іншого боку, є еквівалентом мети збірки верхнього рівня Meson, наприклад виконуваних файлів або спільної бібліотеки.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__5">Синтаксис</h2>
<div class="sectionbody">
<div class="paragraph"><p>Синтаксис мови специфікації Meson зберігався максимально простим. Він сильно типизований, тому жоден об'єкт ніколи не перетворюється на інший непомічений. Змінні не мають видимого типу, завдяки чому Месон динамічно типізований (також відоме як качина типізація).</p></div>
<div class="paragraph"><p>Основними будівельними блоками мови є змінні, числа, булеві, рядки, масиви, виклики функцій, виклики методів, <code>if</code> оператори і включення.</p></div>
<div class="paragraph"><p>Зазвичай один вислів Meson займає лише один рядок. Немає можливості мати кілька висловлювань в одному рядку, як, наприклад, C. Списки аргументів функцій та методів можна розділити на кілька рядків. Месон автоматично розпізнає цей випадок і зробить правильно. В інших випадках ви можете отримати багаторядкові твердження, закінчивши рядок символом \. Крім пробілу, що закінчує рядок, пробіл не має синтаксичного значення.</p></div>
<div class="sect2">
<h3 id="__6">Змінні</h3>
<div class="paragraph"><p>Змінні в Meson працюють так само, як і в інших мовах програмування високого рівня. Змінна може містити значення будь-якого типу, наприклад ціле число або рядок. Змінні не потрібно попередньо визначати, ви можете просто призначити їх, і вони з'являться. Ось як можна призначити значення двом різним змінним.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Однією важливою відмінністю роботи змінних в Meson є те, що всі об'єкти незмінні. Це відрізняється від, наприклад, того, як працює Python.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="sect3">
<h4 id="__7">Числа</h4>
<div class="paragraph"><p>Месон підтримує лише цілі числа. Вони оголошуються просто, виписавши їх. Основні арифметичні операції підтримуються.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Шістнадцяткові літерали підтримуються з версії 0.45.0:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Восьмиричні та двійкові літерали підтримуються з версії 0.47.0:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Рядки можна перетворити на число:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Числа можуть бути перетворені в рядок:</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect3">
<h4 id="__8">Булеві</h4>
<div class="paragraph"><p>Булевий або <code>true</code>, або <code>false</code>.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect3">
<h4 id="__9">Рядки</h4>
<div class="paragraph"><p>Рядки в Meson оголошуються простими лапками. Щоб ввести літеральну лапку, зробіть це так:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Повний список ескейп послідовностей:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>\\ Backslash
\' Single quote
\a Bell
\b Backspace
\f Formfeed
\n Newline
\r Carriage Return
\t Horizontal Tab
\v Vertical Tab
\ooo Character with octal value ooo
\xhh Character with hex value hh
\uxxxx Character with 16-bit hex value xxxx
\Uxxxxxxxx Character with 32-bit hex value xxxxxxxx
\N{name} Character named name in Unicode database</code></pre>
</div></div>
<div class="paragraph"><p>Як і в пітоні та на C, до \ ooo приймаються до трьох восьмеричних цифр.</p></div>
<div class="paragraph"><p>Нерозпізнані послідовності залишаються в рядку незмінними, тобто зворотна коса залишається в рядку.</p></div>
</div>
<div class="sect3">
<h4 id="____2">З'єднання рядків</h4>
<div class="paragraph"><p>Рядки можна об'єднати, щоб утворити новий рядок, використовуючи символ +.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect3">
<h4 id="______">Рядки, що проходять через кілька рядків</h4>
<div class="paragraph"><p>Рядки, що перебігають через кілька рядків, можуть бути оголошені трьома окремими лапками, наприклад:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Це сирі рядки, які не підтримують ескейп послідовності, перелічені вище. Ці рядки можуть також поєднуватися з функцією форматування рядків, описаною нижче.</p></div>
</div>
<div class="sect3">
<h4 id="___9">Форматування рядків</h4>
<div class="paragraph"><p>Рядки можна побудувати за допомогою функції форматування рядків.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Як бачимо, форматування працює, заміняючи заповнювачі типу <code>@number@</code> відповідним аргументом.</p></div>
</div>
<div class="sect3">
<h4 id="___10">Строкові методи</h4>
<div class="paragraph"><p>Рядки також підтримують ряд інших методів, які повертають трансформовані копії.</p></div>
<div class="paragraph"><p><code>.strip()</code></p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p><code>.to_upper(), .to_lower()</code></p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p><code>.to_int()</code></p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p><code>.contains(), .startswith(), .endswith()</code></p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p><code>.split(), .join()</code></p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p><code>.underscorify()</code></p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p><code>.version_compare()</code></p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
</div>
<div class="sect2">
<h3 id="__10">Масиви</h3>
<div class="paragraph"><p>Масиви розмежовані дужками. Масив може містити довільну кількість об'єктів будь-якого типу.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Доступ до елементів масиву можна здійснити за допомогою індексації масиву:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Ви можете додати більше елементів у такий масив:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Додаючи один елемент, не потрібно вкладати його в масив:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Зауважте, що додавання до масиву завжди створюватиме новий об’єкт масиву та призначатиме його <code>my_array</code> замість зміни оригіналу, оскільки всі об'єкти в Meson незмінні.</p></div>
<div class="paragraph"><p>З 0.49.0 ви можете перевірити, чи містить масив такий елемент:</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect2">
<h3 id="___11">Методи масивів</h3>
<div class="paragraph"><p>Наступні методи визначені для всіх масивів:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>length</code>, розмір масиву
</p>
</li>
<li>
<p>
<code>contains</code>, повертає <code>true</code>, якщо масив містить об'єкт, заданий як аргумент, інакше <code>false</code>
</p>
</li>
<li>
<p>
<code>get</code>, повертає об'єкт за заданим індексом, відлік негативних індексів із кінця масиву, індексація поза межами - фатальна помилка. За умови зворотної сумісності, вона ідентична індексуванню масиву.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="__11">Словники</h3>
<div class="paragraph"><p>Словники розмежовані фігурними дужками. Словник може містити довільну кількість пар ключових значень. Ключі повинні бути рядками, значення можуть бути об'єктами будь-якого типу. До 0.53.0 ключі повинні були бути літеральними рядками.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Ключі мають бути унікальними:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Словники незмінні і не мають гарантованого порядку. Словники доступні з 0.47.0. Перегляньте Довідковий посібник, щоб ознайомитись із методами, викритими словниками. З 0.49.0 ви можете перевірити, чи містить словник такий ключ:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Починаючи з 0.53.0 ключі можуть бути будь-яким виразом, що повертає значення рядка, більше не обмежуючись рядковими літералами.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect2">
<h3 id="___12">Виклики функцій</h3>
<div class="paragraph"><p>Meson надає набір корисних функцій. Найпоширеніший випадок використання - це створення об’єктів побудови.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Більшість функцій мають лише декілька позиційних аргументів, але кілька аргументів ключових слів, які вказані так:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Починаючи з версії 0.49.0 аргументи ключових слів можна задавати динамічно. Це робиться шляхом передачі словника, що представляє ключові слова, встановлені в ключовому слові kwargs. Попередній приклад буде вказано так:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Одна функція може приймати аргументи ключового слова як безпосередньо у виклику функції, так і опосередковано через аргумент ключового слова kwargs. Єдине обмеження полягає в тому, що, помилково не отримати передачу будь-якого конкретного ключа як прямий, так і непрямий аргумент.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Спроба зробити це змушує Mason негайно вийти з помилкою.</p></div>
</div>
<div class="sect2">
<h3 id="___13">Виклики методів</h3>
<div class="paragraph"><p>Об'єкти можуть мати методи, які викликаються оператором крапки. Точні методи, які він забезпечує, залежать від об'єкта.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect2">
<h3 id="_if_">If твердження</h3>
<div class="paragraph"><p>If твердження працюють так само, як і в інших мовах.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect2">
<h3 id="___14">Логічні операції</h3>
<div class="paragraph"><p>Meson має стандартний діапазон логічних операцій, які можна використовувати в операторах <code>if</code>.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Логічні операції працюють лише на булевих значеннях.</p></div>
</div>
<div class="sect2">
<h3 id="__foreach">Вирази foreach</h3>
<div class="paragraph"><p>Щоб виконати операцію над усіма елементами ітерабельного, використовуйте команду <code>foreach</code>.</p></div>
<div class="paragraph"><p>Зауважте, що змінні Meson незмінні. Намагання призначити нове значення ітераційному об’єкту всередині циклу <code>foreach</code> не вплине на потік управління <code>foreach</code>.</p></div>
<div class="sect3">
<h4 id="_foreach__">Foreach з масивом</h4>
<div class="paragraph"><p>Ось приклад того, як ви могли визначити два виконувані файли за допомогою відповідних тестів за допомогою масивів та <code>foreach</code>.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect3">
<h4 id="_foreach___2">Foreach зі словником</h4>
<div class="paragraph"><p>Ось приклад того, як ви могли обійти набір компонентів, які слід скласти згідно з деякою конфігурацією. Для цього використовується словник, який доступний з 0,47,0.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect3">
<h4 id="_foreach_break__continue">Foreach break і continue</h4>
<div class="paragraph"><p>Починаючи з 0.49.0 всередині циклів <code>foreach</code> можуть використовуватися <code>break</code> and <code>continue</code>.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
</div>
<div class="sect2">
<h3 id="__12">Коментарі</h3>
<div class="paragraph"><p>Коментар починається з символу <code>#</code> і поширюється до кінця рядка.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect2">
<h3 id="___15">Тримісний оператор</h3>
<div class="paragraph"><p>Тримісний оператор працює так само, як і в інших мовах.</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Єдиним винятком є ​​те, що вкладені потрійні оператори заборонені для покращення розбірливості. Якщо ваші потреби розгалуження складніші, ніж це, вам потрібно написати конструкцію <code>if</code>/<code>else</code>.</p></div>
</div>
<div class="sect2">
<h3 id="__13">Включення</h3>
<div class="paragraph"><p>Більшість дерев-джерел мають декілька підкаталогів для обробки. З ними можна обробити команду <code>subdir</code> Meson. Вона змінюється у вказаному підкаталозі та виконує вміст <code>meson.build</code> у цьому підкаталозі. Весь стан (змінні тощо) передаються в підкаталог і з нього. Ефект приблизно такий же, як якщо б вміст файлу Meson для підкаталогу був би записаний там, де є команда <code>include</code>.</p></div>
<div class="listingblock">
<div class="content"></div></div>
</div>
<div class="sect2">
<h3 id="______2">Функції та методи, визначені користувачем</h3>
<div class="paragraph"><p>Наразі Meson не підтримує визначені користувачем функції або методи. Додавання визначених користувачем функцій зробить Meson Тьюрінг-завершеним, що ускладнить міркування та ускладнить інтеграцію з такими інструментами, як IDE. Більш детально про це ви знайдете у FAQ. Якщо через це обмеження ви дуже багато копіюєте та вставляєте код, натомість ви зможете використовувати цикл <code>foreach</code>.</p></div>
</div>
<div class="sect2">
<h3 id="___16">Обіцяна стабільність</h3>
<div class="paragraph"><p>Meson дуже активно розвивається і постійно вдосконалюється. Існує ймовірність того, що майбутні вдосконалення системи збирання Meson потребують змін у синтаксисі. Такими змінами можуть бути додавання нових зарезервованих ключових слів, зміна значення існуючих ключових слів або доповнень навколо основних складових блоків, таких як твердження та фундаментальні типи. Планується стабілізувати синтаксис за допомогою випуску 1.0.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_______2">Посилання на кросс та природний файл</h2>
<div class="sectionbody">
<div class="paragraph"><p>Перехресні та рідні файли майже однакові, але не повністю. Це документація щодо загальних значень, що використовуються обома, для конкретних значень одного чи іншого див. Перехресну компіляцію та нативне середовище.</p></div>
<div class="sect2">
<h3 id="__14">Розділи</h3>
<div class="paragraph"><p>Наступні розділи дозволені: <code>binaries</code>, <code>paths</code>, <code>properties</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_binaries">Binaries</h3>
<div class="paragraph"><p>Розділ <code>binaries</code> містить список бінарних файлів. Вони можуть використовуватися внутрішньо meson або функцією <code>find_program</code>:</p></div>
<div class="paragraph"><p>Компілятори та лінкери визначаються тут, використовуючи <code>&lt;lang&gt;</code> і <code>&lt;lang&gt;_ld</code>. <code>&lt;lang&gt;_ld</code> є особливим, оскільки він специфічний для компілятора. Для компіляторів, таких як <code>gcc</code> і <code>clang</code>, які використовуються для виклику лінкера, це значення, яке потрібно передати їх аргументу "вибрати linker" (<code>-fuse-ld=</code> в цьому випадку). Для компіляторів, таких як <code>MSVC</code> і <code>Clang-Cl</code>, це шлях до лінкера для виклику з <code>meson</code>, наприклад, <code>link.exe</code> або <code>lld-link.exe</code>. Підтримка <code>ls</code> є новою в 0.53.0</p></div>
<div class="paragraph"><p>змінено в 0.53.1 змінну <code>ld</code> було замінено на <code>&lt;lang&gt;_ld</code>, оскільки вона регресувала велику кількість проектів. у 0,53,0 замість цього використовували змінну <code>ld</code>.</p></div>
<div class="paragraph"><p>Природний приклад:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Перехресний приклад:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Неповний перелік внутрішньо використовуваних програм, які тут можна змінити:
<code>cmake</code>, <code>cups-config</code>, <code>gnustep-config</code>, <code>gpgme-config</code>, <code>libgcrypt-config</code>, <code>libwmf-config</code>, <code>llvm-config</code>, <code>pcap-config</code>, <code>pkgconfig</code>, <code>sdl2-config</code>, <code>wx-config</code>, (або <code>wx-3.0-config</code> або <code>wx-config-gtk</code>).</p></div>
</div>
<div class="sect2">
<h3 id="____3">Шляхи та каталоги</h3>
<div class="paragraph"><p>Станом на 0.50.0 шляхи та каталоги, такі як <code>libdir</code>, можна визначити в нативному файлі в розділі шляхів</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>Ці значення завантажуватимуться лише тоді, коли не виконується кросс компіляція. Будь-які аргументи в командному рядку замінять будь-які параметри в рідному файлі. Наприклад, передача <code>--libdir=otherlibdir</code> спричинить за собою префікс <code>/myprefix</code> і <code>libdir</code> <code>otherlibdir</code>.</p></div>
</div>
<div class="sect2">
<h3 id="__15">Властивості</h3>
<div class="paragraph"><p>Нове у власних файлах у версії 0.54.0, завжди в крос-файлах.</p></div>
<div class="paragraph"><p>На додаток до спеціальних даних, які можуть бути вказані у перехресних файлах, цей розділ може містити пари випадкових значень ключів, доступ до яких здійснюється за допомогою <code>meson.get_external_property()</code></p></div>
</div>
<div class="sect2">
<h3 id="__16">Властивості</h3>
<div class="paragraph"><p>Нове для власних файлів у версії 0.54.0</p></div>
<div class="paragraph"><p>Розділ властивостей може містити будь-яку вподобану вам змінну, і доступ до неї здійснюється через <code>meson.get_external_property</code> або <code>meson.get_cross_property</code>.</p></div>
</div>
<div class="sect2">
<h3 id="____4">Завантаження декількох файлів</h3>
<div class="paragraph"><p>Природні файли дозволяють шарувати (перехресні файли можуть бути поєднані з meson 0.52.0). Можна завантажити більше одного власного файлу, при цьому значення з попереднього файлу будуть замінені наступним. Намір цього не є головним, а дозволити складати власні файли. Це складання виконується шляхом передачі аргументу командного рядка кілька разів:</p></div>
<div class="listingblock">
<div class="content"></div></div>
<div class="paragraph"><p>У цьому випадку завантажуватиметься <code>first.ini</code>, потім <code>second.ini</code>, зі значеннями <code>second.ini</code> замінюючи <code>first.ini</code> тощо.</p></div>
<div class="paragraph"><p>Наприклад, якщо є проект, що використовує C і C ++, python 3.4-3.7 та LLVM 5-7, і його потрібно будувати з clang 5, 6 і 7, і gcc 5.x, 6.x і 7.x; складання всіх цих конфігурацій у монолітних конфігураціях призведе до 81 різних власних файлів. Шляхом їх розміщення можна виразити лише 12 нативних файлів.</p></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2020-05-31 01:15:26 EEST
</div>
</div>
</body>
</html>
