<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.0.0rc2" />
<title>SCALA 3 Book</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>SCALA 3 Book</h1>
<span id="author">Перекладено: ac2epsilon@gmail.com</span><br />
</div>
<div id="content">
<div class="sect1">
<h2 id="_властивості_scala_3">Властивості Scala 3</h2>
<div class="sectionbody">
<div class="paragraph"><p>Ім&#8217;я <em>Scala</em> походить від <em>scalable</em>, маштабований, і виправдовуючи це ім&#8217;я, мова Scala використовується для підсилення завантажених веб сайтів та аналізу величезних обсягів даних. Цей розіділ знайомить вас з властивостями, що роблять Scala такою маштабованою мовою. Ці властивості поділені на три розділи:</p></div>
<div class="ulist"><ul>
<li>
<p>
Високорівневі мовні властивості
</p>
</li>
<li>
<p>
Низькорівневі мовні властивості
</p>
</li>
<li>
<p>
Властивості екосистеми Scala
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_високорівневі_властивості">Високорівневі властивості</h3>
<div class="paragraph"><p>Дивлячись на Scala з уявного пташиного політу, ви можете зробити наступні зауваження щодо цієї мови:</p></div>
<div class="ulist"><ul>
<li>
<p>
Це мова програмування високого рівня
</p>
</li>
<li>
<p>
Вона має стислий та читаємий синтаксис
</p>
</li>
<li>
<p>
Вона статично типізована (але відчувається як динамічно типізована)
</p>
</li>
<li>
<p>
Вона має виразну систему типів
</p>
</li>
<li>
<p>
Це функціо
нальна (FP) мова програмування
</p>
</li>
<li>
<p>
Вона також є об&#8217;єктно орієнтовною (OOP) мовою програмування
</p>
</li>
<li>
<p>
Вона підтримує поєднання FP та OOP
</p>
</li>
<li>
<p>
Контекстуальні абстракції провадять ясний шлях для <em>виводу термів</em>
</p>
</li>
<li>
<p>
Все виконується на JVM (або в браузері)
</p>
</li>
<li>
<p>
Забезпечена безшовна взаємодія з Java кодом
</p>
</li>
<li>
<p>
Використовується для застосувань сервер-сайду (включаючи мікросервіси), застосувань біг-дейта, але також може застосовуватись в браузері через Scala.js.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Наступні розділи дають швидкий огляд ціх властивостей.</p></div>
<div class="sect3">
<h4 id="_мова_високого_рівня">Мова високого рівня</h4>
<div class="paragraph"><p>Scala має бути визнана як мова високого рівня, щонайменьше через два аспекти. По перше, як Java та багато іншіх сучасних мов програмування, ви не маєте справу з низькорівневими концепціями, як вказівники та керування пам&#8217;яттю.</p></div>
<div class="paragraph"><p>По друге, за допомогою лямбд та функцій вищого гатунку ви пишете ваш код на дуже високому рівні. Як здверджує прикизка функціональної мови, ви кажете <em>що</em> ви бажаєте, а не <em>як</em> цього досягти. Тобто ви не пишете імперативний код як наступний:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">double</span></span><span style="color: #990000">(</span>ints<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span><span style="color: #009900">Int</span><span style="color: #990000">])</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span><span style="color: #009900">Int</span><span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> buffer <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ListBuffer[Int]</span></span><span style="color: #990000">()</span>
  <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
      buffer <span style="color: #990000">+</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span>
  <span style="color: #FF0000">}</span>
  buffer<span style="color: #990000">.</span>toList
<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> newNumbers <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">double</span></span><span style="color: #990000">(</span>oldNumbers<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Цей код інструктує компілятор що робити, крок за кроком. Замість цього ми пишемо на вищому рівні, функціональний код, використовуючи функції вищого гатунку та лямбди, як нижче, для отримання того самого результату:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> newNumbers <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">oldNumbers.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Як ви можете бачити, цей код значно більш стислий, простіший для читання та простіший для підтримки.</p></div>
</div>
<div class="sect3">
<h4 id="_стислий_синтаксис">Стислий синтаксис</h4>
<div class="paragraph"><p>Scala має стислий, читабельний синтаксис. Наприклад, змінні створюються стисло, та їх тип зрозумілий:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> nums <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span><span style="color: #993399">2</span><span style="color: #990000">,</span><span style="color: #993399">3</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Martin"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Odersky"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Функції вищого гатунку та лямбди створені для стислого коду, що можливо прочитати:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">nums.map</span></span><span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// довга форма</span></span>
<span style="font-weight: bold"><span style="color: #000000">nums.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>        <span style="font-style: italic"><span style="color: #9A1900">// коротка форма</span></span>

<span style="font-weight: bold"><span style="color: #000000">nums.filter</span></span><span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> i <span style="color: #990000">&gt;</span> <span style="color: #993399">1</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">nums.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&gt;</span> <span style="color: #993399">1</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Трейти, класи та методи визначені в стислому і прозорому синтаксисі:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Animal</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit

<span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">HasTail</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">wagTail</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Dog</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Animal<span style="color: #990000">,</span> HasTail<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Woof"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">wagTail</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"⎞⎜⎛  ⎞⎜⎛"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Досліди показали, що час, який розробник витрачає на <em>читання</em> коду до <em>написання</em> коду складає щонайменьше 1/10, так що написання стислого та читабельного коду так важливе.</p></div>
</div>
<div class="sect3">
<h4 id="_відчуття_динамічності">Відчуття динамічності</h4>
<div class="paragraph"><p>Scala є статично типізованою мовою, але завдячуючи її можливостям по виведенню типів, вона відчувається як динамічна. Всі ці вирази виглядають як динамічно-типізована мова, як Python або Ruby, але все це Scala:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Hello"</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Al"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Pacino"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> sum <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">ints.reduceLeft</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">+</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> y <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> nums <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> z <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">nums.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&gt;</span> <span style="color: #993399">100</span><span style="color: #990000">)</span>
            <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> 10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span>
            <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Як стверджує Heather Miller, Scala визначено сильно, статично типізована мова, та ви можете отримати всі переваги статичних типів:</p></div>
<div class="ulist"><ul>
<li>
<p>
Коректність: ви відловлюєте більшість помилок під час компіляції
</p>
</li>
<li>
<p>
Чудова підтримка IDE:
</p>
<div class="ulist"><ul>
<li>
<p>
Надійне завершення коду
</p>
</li>
<li>
<p>
Відловлення помилок під час компіляції означає перехоплення помилок по мірі набору
</p>
</li>
<li>
<p>
Простий та надійний рефакторинг
</p>
</li>
</ul></div>
</li>
<li>
<p>
Ви можете впевнено рефакторити свій код
</p>
</li>
<li>
<p>
Декларації типів методів  кажуть читачеві, що робить метод, та служить в якості документації
</p>
</li>
<li>
<p>
Маштабованість та підтримуваність: типи допомагають переконатись в коректності між довільно великими застосуваннями та командами розробників
</p>
</li>
<li>
<p>
Сильна типізація, в комбінації з чудовим виведенням, дозволяє механізми, як контекстуальна абстракція, що дозволяє вам уникати шаблонного коду. Часто цей шаблонний код може бути виведений компілятором, базуючись на визначенні типів та певному контексті.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_виразна_система_типів">Виразна система типів</h4>
<div class="paragraph"><p>Система типів Scala примушуе, під час компіляції, щоб абстракції використовувались в безпечний та узгоджений спосіб. Зокрема, система типів підтримує:</p></div>
<div class="ulist"><ul>
<li>
<p>
Виведені типи
</p>
</li>
<li>
<p>
Дженерік класи
</p>
</li>
<li>
<p>
Анотації варіантності
</p>
</li>
<li>
<p>
Верхні і нижні межі типів
</p>
</li>
<li>
<p>
Поліморфні методи
</p>
</li>
<li>
<p>
Типи перетину
</p>
</li>
<li>
<p>
Юніон типи
</p>
</li>
<li>
<p>
Типові лямбди
</p>
</li>
<li>
<p>
Примірники <code>given</code> та <code>using</code> класи
</p>
</li>
<li>
<p>
Методи розширення
</p>
</li>
<li>
<p>
Класи типів
</p>
</li>
<li>
<p>
Мультиверсальне порівняння
</p>
</li>
<li>
<p>
Прозорі псевдоніми типів
</p>
</li>
<li>
<p>
Відкриті класи
</p>
</li>
<li>
<p>
Класи порівнянь
</p>
</li>
<li>
<p>
Типи залежної функції
</p>
</li>
<li>
<p>
Типи поліморфної функції
</p>
</li>
<li>
<p>
Межі контексту
</p>
</li>
<li>
<p>
Функції контексту
</p>
</li>
<li>
<p>
Внутрішні класи та абстрактні члени класів як члени об&#8217;єктів
</p>
</li>
</ul></div>
<div class="paragraph"><p>В комбінації ці властивості провадять потужний базис для безпечного використання абстракцій програмування, та для типо-безпечного розширення програм.</p></div>
</div>
<div class="sect3">
<h4 id="_функціональна_мова_програмування">Функціональна мова програмування</h4>
<div class="paragraph"><p>Scala є функціональною мовою програмування. Це означає:</p></div>
<div class="ulist"><ul>
<li>
<p>
Функції є значеннями, і можуть передаватись як будь-які значення
</p>
</li>
<li>
<p>
Пряма підтримка функцій вищого гатунку
</p>
</li>
<li>
<p>
Вбудовані лямбда
</p>
</li>
<li>
<p>
Все в Scala э виразом, що повертає значення
</p>
</li>
<li>
<p>
Синтаксично просте використання незмінних змінних, і їх використання заохочується
</p>
</li>
<li>
<p>
Наявне різноманіття класів для незмінних колекцій в стандартній бібліотеці
</p>
</li>
<li>
<p>
Ці класи колекцій ідуть з десятками функціональних методів: вони не змінюють колекцію, та замість цього повертають оновлену копію даних
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_об_8217_єктно_орієнтовна_мова">Об&#8217;єктно-орієнтовна мова</h4>
<div class="paragraph"><p>Scala є об&#8217;єктно-орієнтовною мовою програмування (OOP). Кожне значення є примірником класу і кожний "оператор" є методом.</p></div>
<div class="paragraph"><p>В Scala всі типи походять від кореневого класу <code>Any</code>, чиї безпосередні діти є <code>AnyVal</code> (<em>типи-значення</em>, такі як <code>Int</code> або <code>Boolean</code>), та <code>AnyRef</code> (<em>типи-посилання</em>, як в Java). Це означає, що різниця між примітивними типами, та боксованими типами (як <code>int</code> vs <code>Integer</code>), відсутня в Scala. Боксування та розбоксування повністю прозорі для користувача.</p></div>
</div>
<div class="sect3">
<h4 id="_підтримка_змішування_fp_oop">Підтримка змішування FP/OOP</h4>
<div class="paragraph"><p>Основою Scala є змішування функціонального програмування та об&#8217;єктно-орієнтовного програмування в прописній істині:</p></div>
<div class="ulist"><ul>
<li>
<p>
Функції для логіки
</p>
</li>
<li>
<p>
Об&#8217;єкти для модульності
</p>
</li>
</ul></div>
<div class="paragraph"><p>Як стверджував Martin Odersky, "Scala була розроблена, щоб показати, що злиття функціонального та об&#8217;єктно-орієнтовного програмування є можливим та практичним".</p></div>
</div>
<div class="sect3">
<h4 id="_вивід_термів_зроблене_зрозумілішим">Вивід термів, зроблене зрозумілішим</h4>
<div class="paragraph"><p>Слідуючи за Haskell, Scala була другою за популярністю мовою, що мала деяку форму <em>імплісітів</em>. В Scala 3 ці концепції були повністю переосмислені, і реалізовані більш зрозуміло.</p></div>
<div class="paragraph"><p>Головна ідея є <em>вивід термів</em>: маючи тип, компілятор синтезує "канонічний" терм, що має такий тип. В Scala контекстний параметр прямо веде до виведеного терму аргументу, що також може бути записаний явно.</p></div>
<div class="paragraph"><p>Випадки застосування цієї концепції включають реалізацію класів типу, встановлення контексту, ін&#8217;єкція залежностей, вираження спроможностей, обчислення нових типів, та налагодження відносин між ними.</p></div>
<div class="paragraph"><p>Scala 3 робить цей процесс більш прозорим, ніж будь-коли до цього. Читайте про контекстуальні абстракції в референсній документації.</p></div>
</div>
<div class="sect3">
<h4 id="_клієнт_та_сервер">Клієнт та сервер</h4>
<div class="paragraph"><p>Scala код виконується на Java Virtual Machine (JVM), так що ви отримуєте всі її переваги:</p></div>
<div class="ulist"><ul>
<li>
<p>
Безпеку
</p>
</li>
<li>
<p>
Продуктивність
</p>
</li>
<li>
<p>
Керування пам&#8217;ятю
</p>
</li>
<li>
<p>
Портабельність та незалежність від платформи
</p>
</li>
<li>
<p>
Здатність використовувати богатства існуючих бібліотек Java та JVM
</p>
</li>
</ul></div>
<div class="paragraph"><p>На додаток до виконання на JVM, Scala також робить в браузері, за допомогою Scala.js (та бібліотек з відкритим кодом для інтеграції з популярними бібліотеками JavaScript), та нативними виконавчими файлами, що можуть бути побудовані з допомогою Scala Native та GraalVM.</p></div>
</div>
<div class="sect3">
<h4 id="_безшовна_інтеграція_з_java">Безшовна інтеграція з Java</h4>
<div class="paragraph"><p>Ви можете використовувати класи та бібліотеки Java в ваших Scala застосуваннях, та ви можете використовувати код Scala в ваших Java застосуваннях. Що до другого твердження, великі бібліотеки, як Akka та Play Framework, написані на Scala, та можуть бути використані в Java застосуваннях.</p></div>
<div class="paragraph"><p>Відносно першого твердження, Java класи та бібліотеки використовуються в застосуваннях Scala кожний день. Наприклад, в Scala ви можете читати файли за допомогою Java <code>BufferedReader</code> та <code>FileReader</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>io<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> br <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">BufferedReader(FileReader</span></span><span style="color: #990000">(</span>filename<span style="color: #990000">))</span>
<span style="font-style: italic"><span style="color: #9A1900">// читати файл через `br` ...</span></span></tt></pre></div></div>
<div class="paragraph"><p>Використання Java коду в Scala є загалом безшовним.</p></div>
<div class="paragraph"><p>Java колекції також можуть бути використані в Scala, та якщо ви бажаєте використати багаті класи колекцій Scala з ними, ви можете конвертувати їх в парі рядків кода:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> scala<span style="color: #990000">.</span>jdk<span style="color: #990000">.</span>CollectionConverters<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> scalaList<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Seq<span style="color: #990000">[</span>Integer<span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">JavaClass.getJavaList</span></span><span style="color: #990000">().</span>asScala<span style="color: #990000">.</span>toSeq</tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_багатство_бібліотек">Багатство бібліотек</h4>
<div class="paragraph"><p>Як ви побачите в третій частині цієї сторінки, Scala бібліотеки та фреймворки, як ці, були написані, щоб підсилити завантажені веб сайти, і робити з велетенськими базами даних:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Play Framework - це легковажна, безстанова, дружня до розробника, дружня до веб архітектура для створення високо-маштабованих застосувань
</p>
</li>
<li>
<p>
Lagom - фреймворк мікросервісів, що допомагає роз&#8217;єднати ваш застарілий моноліт, та побудувати, протестувати, та розгорнути цілі системи реактивних мікросервісів
</p>
</li>
<li>
<p>
Apache Spark - уніфікований аналітичний рушій для обробки великих обсягів даних, з вбудованими модулями для стримінгу, SQL, машинним навчанням та обробкою графів
</p>
</li>
</ol></div>
<div class="paragraph"><p>Список Awesome Scala показує десятки додаткових інструментів з відкритим кодом, що створені розробниками для побудови Scala застосувань.</p></div>
<div class="paragraph"><p>На додаток до серверного програмування, Scala.js є сильно-типізованою заміною для написання JavaScript, з бібліотеками з відкритим кодом третіх сторін, що включають інструменти для інтергації з бібліотекою Facebook React, jQuery, тощо.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_низькорівневі_властивості_мови">Низькорівневі властивості мови</h3>
<div class="paragraph"><p>В той час, коли попередній розділ розповідав про високо-рівневі можливості Scala, цікаво зауважити, що на вищому рівні ви можете зробити ті самі зауваження щодо обох, Scala 2 та Scala 3. Десятиріччя тому Scala розпочинала з міцного фундаменту бажаних властивостей, і, як ви побачите в цьому розділі, ці переваги були покращені в Scala 3.</p></div>
<div class="paragraph"><p>На "рівні моря" з погляду на деталі - тобто, на можливості мови, які програмісти використовують щодня - Scala 3 має значні переваги над Scala 3:</p></div>
<div class="ulist"><ul>
<li>
<p>
Здатність створювати алгебраїчні типи даних (ADT) більш стисло, за допомогою енумерацій
</p>
</li>
<li>
<p>
Навіть ще більш стислий та читабельний синтаксис:
</p>
<div class="ulist"><ul>
<li>
<p>
"Тихий" синтаксис керівних структур, що простіше читається
</p>
</li>
<li>
<p>
Опціональні дужки
</p>
<div class="ulist"><ul>
<li>
<p>
Менше символів в коді створює меньше візуального галасу, що легше читається
</p>
</li>
</ul></div>
</li>
<li>
<p>
Ключове слово <code>new</code> загалом більше не потрібне при створенні примірників класів
</p>
</li>
<li>
<p>
Формальності об&#8217;єкта-пакунка були відкинуті на користь простіших визначень "вищого рівня"
</p>
</li>
</ul></div>
</li>
<li>
<p>
Зрозуміліша граматика
</p>
<div class="ulist"><ul>
<li>
<p>
Декілька різних використань ключового слова <code>implicit</code> були видалені; ці використання замінені на більш очевидні ключові слова, як <code>given</code>, <code>using</code>, <code>extension</code>, фокусуючись на призначенні замість механізмів (дивіться розділ Given)
</p>
</li>
<li>
<p>
Методи розширення замінюють імплісіт-класи з яснішим та простішим механізмом
</p>
</li>
<li>
<p>
Додавання модифікатора <code>open</code> до класів робить явними наміри розробника зробити клас відкритим для модифікацій, таким чином обмежуючи ad-hoc розширення кодової бази
</p>
</li>
<li>
<p>
Мультиверсальна еквівалентність відкидає безглуздзі порівняння за допомогою <code>==</code> та <code>!=</code> (тобто, порівняння <code>Person</code> та <code>Planet</code>)
</p>
</li>
<li>
<p>
Макроси реалізовані значно простіше
</p>
</li>
<li>
<p>
Юніони та перетини пропонують гнучкий шлях моделювання типів
</p>
</li>
<li>
<p>
Параметри трейтів замінюють та спрощують ранні ініціалізатори
</p>
</li>
<li>
<p>
Прозорі псевдоніми типів замінюють більшість використань класів-значень, при цьому гарантуючи відсутність боксування
</p>
</li>
<li>
<p>
Твердження експорту провадять простий та узагальнений спосіб вираження агрегації, що може замінити попередній паттерн фасаду наслідування об&#8217;єктів пакунку від класів
</p>
</li>
<li>
<p>
Процедурний синтаксис був відкинутий, та синтаксис <code>varargs</code> був змінений, обоє щоб зробити мову більш узгодженою
</p>
</li>
<li>
<p>
Анотація <code>@infix</code> робить очевидним, як ви бажаєте застосувати метод
</p>
</li>
<li>
<p>
Анотація методу <code>@targetName</code> визначає альтернативне ім&#8217;я для методу, покращуючи взаємодію з Java, та провадячи псевдоніми для символічних операторів
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>Демонстрація всіх цих можливостей прямо тут заняла б багато місця, але слідуючи за посиланнями ви можете побачити можливості в дії. Всі ці можливості обговорюються на сторінках <em>Нове, змінене та відкинуте</em> в оглядовій документації.</p></div>
</div>
<div class="sect2">
<h3 id="_екосистема_scala">Екосистема Scala</h3>
<div class="paragraph"><p>Scala має вируючу екосистему, з бібліотеками та фреймворками для кожної потреби. Список <em>Awesome Scala</em> провадить перелік сотен доступних розробникам проектів з відкритим кодом, та Scaladex провадить пошук Scala бібліотек. Деякі з самих помітних перелічені нижче.</p></div>
<div class="sect3">
<h4 id="_веб_розробка">Веб розробка</h4>
<div class="ulist"><ul>
<li>
<p>
<em>Play Framework</em> слідує за моделлю Ruby on Rails, щоб стати легковажною, безстановою, розробник-дружньою, веб-дружньою архітектурою для високо маштабованих застосувань
</p>
</li>
<li>
<p>
<em>Scalatra</em> є маленьким, високопродуктивним, асинхронним веб фреймворком, натхненим Sinatra
</p>
</li>
<li>
<p>
<em>Finatra</em> є Scala сервісами, побудованими на TwitterServer та Finagle
</p>
</li>
<li>
<p>
<em>Scala.js</em> - це сильно типізована заміна для JavaScript, що провадить безпечніший шлях для побудови надійнішого фронт-енду веб застосувань
</p>
</li>
<li>
<p>
<em>ScalaJs-React</em> підіймає бібліотеку Facebook React до Scala.js, та намагається зробити її настільки безпечною та Scala-дружньою, як це можливо
</p>
</li>
<li>
<p>
<em>Lagom</em> - фреймворк мікросервісів, що допомагає декомпозиції існуючих монолітів, та побудові, тестуванню, та розгортанню цілих систем реактивних мікросервісів
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_http_s_бібліотеки">HTTP(S) бібліотеки</h4>
<div class="ulist"><ul>
<li>
<p>
akka-http
</p>
</li>
<li>
<p>
Finch
</p>
</li>
<li>
<p>
Http4s
</p>
</li>
<li>
<p>
Sttp
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_json_бібліотеки">JSON бібліотеки</h4>
<div class="ulist"><ul>
<li>
<p>
Argonaut
</p>
</li>
<li>
<p>
Circe
</p>
</li>
<li>
<p>
Json4s
</p>
</li>
<li>
<p>
Play-JSON
</p>
</li>
<li>
<p>
ScalaPB (серіалізіція)
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_наукові_обчислення_та_обробка_даних">Наукові обчислення та обробка даних</h4>
<div class="ulist"><ul>
<li>
<p>
Algebird
</p>
</li>
<li>
<p>
Spire
</p>
</li>
<li>
<p>
Squants
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_big_data">Big data</h4>
<div class="ulist"><ul>
<li>
<p>
Apache Spark
</p>
</li>
<li>
<p>
Apache Flink
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_ai_машинне_навчання">AI, машинне навчання</h4>
<div class="ulist"><ul>
<li>
<p>
BigDL (Distributed Deep Learning Framework) для Apache Spark
</p>
</li>
<li>
<p>
TensorFlow Scala
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_функціональне_та_реактивне_програмування">Функціональне (та реактивне) програмування</h4>
<div class="ulist"><ul>
<li>
<p>
Cats
</p>
</li>
<li>
<p>
Zio
</p>
</li>
<li>
<p>
fs2
</p>
</li>
<li>
<p>
monix
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_інструменти_побудови">Інструменти побудови</h4>
<div class="ulist"><ul>
<li>
<p>
sbt
</p>
</li>
<li>
<p>
Gradle
</p>
</li>
<li>
<p>
Mill
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="_підсумок">Підсумок</h3>
<div class="paragraph"><p>Як показує ця сторінка, Scala має багато неймовірних властивостей мови на вищому рівні, на рівні щоденного програмування, та через екосистему розробників.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_чому_scala_3">Чому Scala 3?</h2>
<div class="sectionbody">
<div class="paragraph"><p>Існує багато переваг використання Scala, зокрема Scala 3. Важко перелічити всі переваги Scala, але топ-10 може виглядати так:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Scala обіймає злиття функціонального програмування (FP), та об&#8217;єктно-орієнтовного програмування (OOP)
</p>
</li>
<li>
<p>
Scala статично типізована, але часто відчувається як динамічно типізована мова
</p>
</li>
<li>
<p>
Синтаксис Scala стислий, але все ще зрозумілий; на нього часто посилаються як на <em>виразний</em>.
</p>
</li>
<li>
<p>
<em>Імплісіти</em> в Scala 2 були визначальною можливыстю, і вони були покращені та спрощені в Scala 3
</p>
</li>
<li>
<p>
Scala безшовно інтегрується з Java, так що ви можете створювати змішані проекти на Scala та Java, та код Scala може легко використовувати тисячі існуючих Java бібліотек
</p>
</li>
<li>
<p>
Scala може використовуватись на сервері, але також в браузері, за допомогою Scala.js
</p>
</li>
<li>
<p>
Стандартна бібліотека Scala має десятки пре-побудованих, функціональних методів, щоб зберігти ваш час, та значно зменшити потребу писати власні <code>for</code> цикли та алгоритми
</p>
</li>
<li>
<p>
"Кращі практики" вбудовані в Scala, що надає перевагу незмінності, анонімних функцій, функцій вищого гатунку, порівняння шаблонів, класів, що не розширюються по замовчанню, та інше
</p>
</li>
<li>
<p>
Екосистема Scala пропонує найбільш сучасні FP бібліоеки в світі
</p>
</li>
<li>
<p>
Сильна система типів
</p>
</li>
</ol></div>
<div class="sect2">
<h3 id="_1_злиття_fp_oop">1) Злиття FP/OOP</h3>
<div class="paragraph"><p>Більше ніж будь-яка інша мова, Scala підтримує злиття парадігм FP та OOP. Як стверджував Мартін Одерскі, основа Scala в злитті функціонального та об&#8217;єктно-орієнтовного програмування в типовому оточенні:</p></div>
<div class="ulist"><ul>
<li>
<p>
Функції для логіки
</p>
</li>
<li>
<p>
Об&#8217;єкти для модульності
</p>
</li>
</ul></div>
<div class="paragraph"><p>Можливо, один з кращих прикладів модульності є класи в стандартній бібліотеці. Наприклад, <code>List</code> визначений як клас - технічно це абстрактний клас - і новий примірник створюється так:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Однак, для програміста виглядає так, що простий <code>List</code> насправді побудований як комбінація декількох спеціалізованих типів, включаючи трейти з назвами <code>Iterable</code>, <code>Seq</code> та <code>LinearSeq</code>. Ці типи подібним чином скомпоновані з інших, меньших, модульних одиниць коду.</p></div>
<div class="paragraph"><p>На додаток до побудови типів як <code>List</code> з послідовності модульних трейтів, <code>List</code> API також складається з десятків інших методів, багато з яких є функціями вищого гатунку:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> xs <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> <span style="color: #993399">4</span><span style="color: #990000">,</span> <span style="color: #993399">5</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #000000">xs.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">+</span> <span style="color: #993399">1</span><span style="color: #990000">)</span>         <span style="font-style: italic"><span style="color: #9A1900">// List(2, 3, 4, 5, 6)</span></span>
<span style="font-weight: bold"><span style="color: #000000">xs.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>      <span style="font-style: italic"><span style="color: #9A1900">// List(1, 2)</span></span>
<span style="font-weight: bold"><span style="color: #000000">xs.find</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&gt;</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>        <span style="font-style: italic"><span style="color: #9A1900">// Some(4)</span></span>
<span style="font-weight: bold"><span style="color: #000000">xs.takeWhile</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// List(1, 2)</span></span></tt></pre></div></div>
<div class="paragraph"><p>В ціх прикладах значення в списку не може бути модифіковане, клас <code>List</code> є незмінним. Так що ці методи повертають нові значення, як показано в коментарях.</p></div>
</div>
<div class="sect2">
<h3 id="_2_динамічне_відчуття">2) Динамічне відчуття</h3>
<div class="paragraph"><p><em>Вивід типів</em> Scala часто робить відчуття мови динамічно типізованим, навіть хоча вона статично типізована. Це так для декларацій змінних:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Hello, world"</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span><span style="color: #993399">2</span><span style="color: #990000">,</span><span style="color: #993399">3</span><span style="color: #990000">,</span><span style="color: #993399">4</span><span style="color: #990000">,</span><span style="color: #993399">5</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> stuff <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span><span style="color: #FF0000">"fish"</span><span style="color: #990000">,</span> <span style="color: #993399">42</span><span style="color: #990000">,</span> 1<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">234.5</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Це також вірно, коли анонімна функція передається до функції вищого гатунку:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">list.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">4</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">list.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">list.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">4</span><span style="color: #990000">)</span>
    <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>та при визначенні методів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">+</span> b</tt></pre></div></div>
<div class="paragraph"><p>Це все ще більше вірно в Scala 3, як при використанні юніон типів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// параметр юніон типу</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">help</span></span><span style="color: #990000">(</span>id<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Username <span style="color: #990000">|</span> Password<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> user <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> id <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Username</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">lookupName</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Password</span></span><span style="color: #990000">(</span>hash<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">lookupPassword</span></span><span style="color: #990000">(</span>hash<span style="color: #990000">)</span>
  <span style="font-style: italic"><span style="color: #9A1900">// тут код ...</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// значення юніон типу</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Password <span style="color: #990000">|</span> Username <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">)</span> name <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> password</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_3_стислий_синтаксис">3) Стислий синтаксис</h3>
<div class="paragraph"><p>Scala - мова без церемоній, "стисла, але читабельна". Наприклад, декларація змінних стисла:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Hello, world"</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span><span style="color: #993399">2</span><span style="color: #990000">,</span><span style="color: #993399">3</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Створення типів, як трейти, класи та енумерації, є стислим:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Tail</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">wagTail</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">stopTail</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit

enum Topping<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Cheese<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">,</span> Sausage<span style="color: #990000">,</span> Mushrooms<span style="color: #990000">,</span> Onions

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Dog</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Animal<span style="color: #990000">,</span> Tail<span style="color: #990000">,</span> Legs<span style="color: #990000">,</span> RubberyNose

<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span>
  firstName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span>
  lastName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span>
  age<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span>
<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Функції вищого гатунку також стислі:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">list.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">4</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">list.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Всі ці вирази, і багато інших, є стислими, та при цьому все ще зрозумілі: ми називаємо це <em>виразність</em>.</p></div>
</div>
<div class="sect2">
<h3 id="_4_імплісіти_спрощені">4) Імплісіти, спрощені</h3>
<div class="paragraph"><p>Імплісіти в Scala 2 були головною знаковою відмінністю дизайну. Вони репрезентували фундаментальний шлях абстрагуватись від контексту, з уніфікованою парадігмою, що служить багатому різноманіттю випадків. Серед них:</p></div>
<div class="ulist"><ul>
<li>
<p>
Реалізація класів типу
</p>
</li>
<li>
<p>
Встановлення контексту
</p>
</li>
<li>
<p>
Ін&#8217;єкція залежностей
</p>
</li>
<li>
<p>
Вираз можливостей
</p>
</li>
</ul></div>
<div class="paragraph"><p>З тих пір багато мов прийняли подібні концепції, всі з яких є варіантами головної ідеї <em>виводу термів</em>: маючи тип, компілятор синтезує "канонічний" терм, що має цей тип.</p></div>
<div class="paragraph"><p>Хоча імплісіти були визначальною властивістю в Scala 2, їх дизайн був суттєво покращений в Scala 3:</p></div>
<div class="ulist"><ul>
<li>
<p>
Існує єдиний спосіб визначити <code>given</code> значення
</p>
</li>
<li>
<p>
Існує єдиний спосіб ввести імплісіт параметри та аргументи
</p>
</li>
<li>
<p>
Існує окремий шлях імпортувати <code>given</code>, що не дозволяє їм загубитись в морі звичайних імпортів
</p>
</li>
<li>
<p>
Існує єдиний спосіб визначити імплісіт конверсію, яка зрозуміло помічена як така, і не потребує спеціального синтаксису
</p>
</li>
</ul></div>
<div class="paragraph"><p>Переваги таких змін наступні:</p></div>
<div class="ulist"><ul>
<li>
<p>
Новий дизайн уникає взаємодії можливостей, та робить мову більш узгодженою
</p>
</li>
<li>
<p>
Це робить імплісіти простішими для вивчання, та складнішими для невірного використання
</p>
</li>
<li>
<p>
Це гарно підвищує прозорість 95% Scala програм, що використовують імплісіти
</p>
</li>
<li>
<p>
Існує потенціал робити вивід термів в принциповий спосіб, що також доступний та дружній
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ці властивості детально описані в інших розділах. Дивіться вступ до Контекстуальної абстракції, та розділ про <code>given</code> та <code>using</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_5_безшовна_java_інтеграція">5) Безшовна Java інтеграція</h3>
<div class="paragraph"><p>Інтеграція Scala/Java є безшовною в багатьох сенсах. Наприклад:</p></div>
<div class="ulist"><ul>
<li>
<p>
Ви можете використовувати всі тисячі Java бібліотек в ваших Scala проектах
</p>
</li>
<li>
<p>
Scala <code>String</code> в основі є Java <code>String</code>, з додатковими можливостями
</p>
</li>
<li>
<p>
Scala безшовно використовує класи дати та часу в пакунку <em>java.time</em>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ви також можете використовувати Java колекції в Scala, і, щоб надати їм більше функціональності, Scala включає методи, так що ви можете трансформувати їх в Scala колекції.</p></div>
<div class="paragraph"><p>Хоча майже кожна взаємодія є безшовною, глава <em>Взаємодія з Java</em> демонструє, як використовувати деякі можливості разом, включаючи використання:</p></div>
<div class="ulist"><ul>
<li>
<p>
Java колекції в Scala
</p>
</li>
<li>
<p>
Java <code>Optional</code> в Scala
</p>
</li>
<li>
<p>
Java інтерфейси в Scala
</p>
</li>
<li>
<p>
Scala колекції в Java
</p>
</li>
<li>
<p>
Scala <code>Option</code> в Java
</p>
</li>
<li>
<p>
Scala трейти в Java
</p>
</li>
<li>
<p>
Scala методи, що закидають виключення, в Java
</p>
</li>
<li>
<p>
Scala <code>varargs</code> параметри в Java
</p>
</li>
</ul></div>
<div class="paragraph"><p>Дивіться відповідну главу для додаткової інформації по цім темам.</p></div>
</div>
<div class="sect2">
<h3 id="_6_клієнт_і_сервер">6) Клієнт і сервер</h3>
<div class="paragraph"><p>Scala може бути використана з боку сервера за допомогою несамовитих фреймворків та мікросервісів:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Play Framework</em> дозволяє вам будувати високо маштабовані серверні застосування та мікросервіси
</p>
</li>
<li>
<p>
<em>Akka Actors</em> дозволяють використовувати модель акторів, щоб значно спростити розподілені та конкурентні софтверні застосування
</p>
</li>
</ul></div>
<div class="paragraph"><p>Scala також може бути використана в браузері завдяки проекту Scala.js, що є типо-безпечною заміною JavaScript. Екосистема Scala.js має десятки бібліотек, що дозволяють використовувати React, Angular, jQuery, та багато інших бібліотек JavaScript та Scala в браузері.</p></div>
<div class="paragraph"><p>На додаток до ціх інструментів проект Scala Native "є оптимізуючим ahead-of-time компілятором і легковажним керованим рантаймом, розробленим спеціально для Scala". Він дозволяє будувати бінарні застосування за допомогою звичайного коду Scala, а також дозволяє використовувати низькорівневі примітиви.</p></div>
</div>
<div class="sect2">
<h3 id="_7_методи_стандартної_бібліотеки">7) Методи стандартної бібліотеки</h3>
<div class="paragraph"><p>Тепер вам рідко потрібно власноруч писати цикли <code>for</code>, тому що десятки функціональних методів в стандартній бібліотеці Scala одночасно зберігає ваш час, та допомагає робити код більш узгодженим між різними застосуваннями.</p></div>
<div class="paragraph"><p>Наступні приклади демонструють деякі з вбудованих методів колекцій, і є багато ще інших. Хоча всі вони використовують клас <code>List</code>, ті самі методи методи роблять з іншими класами колекцій, як <code>Seq</code>, <code>LazyList</code>, <code>Set</code>, <code>Map</code>, <code>Array</code>, <code>ArrayBuffer</code>.</p></div>
<div class="paragraph"><p>Ось деяки приклади:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">List.range</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>                          <span style="font-style: italic"><span style="color: #9A1900">// List(1, 2)</span></span>
<span style="font-weight: bold"><span style="color: #000000">List.range</span></span><span style="color: #990000">(</span>start <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span><span style="color: #990000">,</span> end <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">6</span><span style="color: #990000">,</span> step <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span><span style="color: #990000">)</span>  <span style="font-style: italic"><span style="color: #9A1900">// List(1, 3, 5)</span></span>
<span style="font-weight: bold"><span style="color: #000000">List.fill(3)</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"foo"</span><span style="color: #990000">)</span>                       <span style="font-style: italic"><span style="color: #9A1900">// List(foo, foo, foo)</span></span>
<span style="font-weight: bold"><span style="color: #000000">List.tabulate(3)</span></span><span style="color: #990000">(</span>n <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> n <span style="color: #990000">*</span> n<span style="color: #990000">)</span>              <span style="font-style: italic"><span style="color: #9A1900">// List(0, 1, 4)</span></span>
<span style="font-weight: bold"><span style="color: #000000">List.tabulate(4)</span></span><span style="color: #990000">(</span>n <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> n <span style="color: #990000">*</span> n<span style="color: #990000">)</span>              <span style="font-style: italic"><span style="color: #9A1900">// List(0, 1, 4, 9)</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">,</span> <span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">30</span><span style="color: #990000">,</span> <span style="color: #993399">40</span><span style="color: #990000">,</span> <span style="color: #993399">10</span><span style="color: #990000">)</span>          <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 30, 40, 10)</span></span>
a<span style="color: #990000">.</span>distinct                                <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 30, 40)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.drop</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">)</span>                                 <span style="font-style: italic"><span style="color: #9A1900">// List(30, 40, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.dropRight</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">)</span>                            <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 30)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.dropWhile</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">25</span><span style="color: #990000">)</span>                       <span style="font-style: italic"><span style="color: #9A1900">// List(30, 40, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">25</span><span style="color: #990000">)</span>                          <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&gt;</span> <span style="color: #993399">100</span><span style="color: #990000">)</span>                         <span style="font-style: italic"><span style="color: #9A1900">// List()</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.find</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&gt;</span> <span style="color: #993399">20</span><span style="color: #990000">)</span>                            <span style="font-style: italic"><span style="color: #9A1900">// Some(30)</span></span>
a<span style="color: #990000">.</span>head                                    <span style="font-style: italic"><span style="color: #9A1900">// 10</span></span>
a<span style="color: #990000">.</span>headOption                              <span style="font-style: italic"><span style="color: #9A1900">// Some(10)</span></span>
a<span style="color: #990000">.</span>init                                    <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 30, 40)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.intersect(List</span></span><span style="color: #990000">(</span><span style="color: #993399">19</span><span style="color: #990000">,</span><span style="color: #993399">20</span><span style="color: #990000">,</span><span style="color: #993399">21</span><span style="color: #990000">))</span>               <span style="font-style: italic"><span style="color: #9A1900">// List(20)</span></span>
a<span style="color: #990000">.</span>last                                    <span style="font-style: italic"><span style="color: #9A1900">// 10</span></span>
a<span style="color: #990000">.</span>lastOption                              <span style="font-style: italic"><span style="color: #9A1900">// Some(10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>                              <span style="font-style: italic"><span style="color: #9A1900">// List(20, 40, 60, 80, 20)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.slice</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">4</span><span style="color: #990000">)</span>                             <span style="font-style: italic"><span style="color: #9A1900">// List(30, 40)</span></span>
a<span style="color: #990000">.</span>tail                                    <span style="font-style: italic"><span style="color: #9A1900">// List(20, 30, 40, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.take</span></span><span style="color: #990000">(</span><span style="color: #993399">3</span><span style="color: #990000">)</span>                                 <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 30)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.takeRight</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">)</span>                            <span style="font-style: italic"><span style="color: #9A1900">// List(40, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.takeWhile</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">30</span><span style="color: #990000">)</span>                       <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">30</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">10</span><span style="color: #990000">)</span>              <span style="font-style: italic"><span style="color: #9A1900">// List(100, 200, 100)</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> fruits <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"apple"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"pear"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">fruits.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">.</span>toUpperCase<span style="color: #990000">)</span>                 <span style="font-style: italic"><span style="color: #9A1900">// List(APPLE, PEAR)</span></span>
<span style="font-weight: bold"><span style="color: #000000">fruits.flatMap</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">.</span>toUpperCase<span style="color: #990000">)</span>             <span style="font-style: italic"><span style="color: #9A1900">// List(A, P, P, L, E, P, E, A, R)</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> nums <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">,</span> <span style="color: #993399">5</span><span style="color: #990000">,</span> <span style="color: #993399">8</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">7</span><span style="color: #990000">)</span>
nums<span style="color: #990000">.</span>sorted                               <span style="font-style: italic"><span style="color: #9A1900">// List(1, 5, 7, 8, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">nums.sortWith</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span>                      <span style="font-style: italic"><span style="color: #9A1900">// List(1, 5, 7, 8, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">nums.sortWith</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span>                      <span style="font-style: italic"><span style="color: #9A1900">// List(10, 8, 7, 5, 1)</span></span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_8_вбудовані_кращі_практики">8) Вбудовані кращі практики</h3>
<div class="paragraph"><p>Ідіоми Scala заохочують кращі практики в декілька способів. Для незмінності вас заохочують створювати незмінні <code>val</code> декларації:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>   <span style="font-style: italic"><span style="color: #9A1900">// незмінна змінна</span></span></tt></pre></div></div>
<div class="paragraph"><p>Вас також заохочують використовувати класи незмінних колекцій, як <code>List</code> та <code>Map</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span><span style="color: #993399">2</span><span style="color: #990000">,</span><span style="color: #993399">3</span><span style="color: #990000">)</span>       <span style="font-style: italic"><span style="color: #9A1900">// List незмінний</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Map</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span> <span style="color: #990000">-&gt;</span> <span style="color: #FF0000">"one"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// Map незмінний</span></span></tt></pre></div></div>
<div class="paragraph"><p>Кейс класи загалом призначені для використання в доменному моделюванні, і їх параметри незмінні:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Michael Scott"</span><span style="color: #990000">)</span>
p<span style="color: #990000">.</span>name           <span style="font-style: italic"><span style="color: #9A1900">// Michael Scott</span></span>
p<span style="color: #990000">.</span>name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Joe"</span>   <span style="font-style: italic"><span style="color: #9A1900">// помилка компілятора (переприсвоєння val)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Як показано в попередньому розділі, класи колекцій Scala підтримують функції вищого гатунку, і ви можете передавати до них методи (не показані) та анонімні функції:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">a.dropWhile</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">25</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">a.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">25</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">a.takeWhile</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">30</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">a.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">30</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">10</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">nums.sortWith</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">nums.sortWith</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Вирази <code>match</code> дозволяють використовувати порівняння шаблонів, і вони насправді є виразами, що повертають значення:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> numAsString <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">1</span> <span style="color: #990000">|</span> <span style="color: #993399">3</span> <span style="color: #990000">|</span> <span style="color: #993399">5</span> <span style="color: #990000">|</span> <span style="color: #993399">7</span> <span style="color: #990000">|</span> <span style="color: #993399">9</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"odd"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">2</span> <span style="color: #990000">|</span> <span style="color: #993399">4</span> <span style="color: #990000">|</span> <span style="color: #993399">6</span> <span style="color: #990000">|</span> <span style="color: #993399">8</span> <span style="color: #990000">|</span> <span style="color: #993399">10</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"even"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"too big"</span></tt></pre></div></div>
<div class="paragraph"><p>Оскільки вони повертають значення, вони часто використовуються як тіло функції:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Matchable<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">0</span> <span style="color: #990000">|</span> <span style="color: #FF0000">""</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_9_бібліотеки_екосистеми">9) Бібліотеки екосистеми</h3>
<div class="paragraph"><p>Бібліотеки Scala для функціонального програмування (FP), як Cats та Zio, знаходяться на передньому фланзі бібліотек FP спільноти. Всі ці штампи, як високо-продуктивний, безпека типів, конкурентний, асинхронний, ресурсо-безпечний, тестовний, функціональний, модуларний, бінарно-сумісний, ефективний, та більше, що можна сказати про ці бібліотеки.</p></div>
<div class="paragraph"><p>Ви можете перегорнути сотні бібліотек, але, на щастя, всі вони перелічені в одному місці: для деталей дивіться <em>Awesome Scala</em>.</p></div>
</div>
<div class="sect2">
<h3 id="_10_сильна_система_типів">10) Сильна система типів</h3>
<div class="paragraph"><p>Scala має сильну систему типів, і вона була навіть ще більше покращена в Scala 3. Цілі Scala 3 були визначені на ранній стадії, і ті, що мають відношення до системи типів, включають:</p></div>
<div class="ulist"><ul>
<li>
<p>
Спрощення
</p>
</li>
<li>
<p>
Уникнення неузгодженостей
</p>
</li>
<li>
<p>
Безпека
</p>
</li>
<li>
<p>
Ергономіка
</p>
</li>
<li>
<p>
Продуктивність
</p>
</li>
</ul></div>
<div class="paragraph"><p><em>Спрощення</em> досягається через десятки змінених та відкинутих можливостей. Наприклад, зміна від перевантаженого ключового слова <code>implicit</code> в Scala 2, до термів <code>given</code> та <code>using</code> в Scala 3, що робить мову більш зрозумілою, особливо для розробників-початківців.</p></div>
<div class="paragraph"><p><em>Уникнення неузгодженостей</em> пов&#8217;язане з десятками відкинутих можливостей, змінених можливостей та доданих можливостей в Scala 3. Деякі з найбільш важливих можливостей в цій категорії:</p></div>
<div class="ulist"><ul>
<li>
<p>
Перетини типів
</p>
</li>
<li>
<p>
Юніон типи
</p>
</li>
<li>
<p>
Типи імплісіт функції
</p>
</li>
<li>
<p>
Типи залежної функції
</p>
</li>
<li>
<p>
Параметри трейтів
</p>
</li>
<li>
<p>
Дженерік тапли
</p>
</li>
</ul></div>
<div class="paragraph"><p><em>Безпека</em> пов&#8217;язана з новими та зміненими властивостями:</p></div>
<div class="ulist"><ul>
<li>
<p>
Мультіверсальна еквівалентність
</p>
</li>
<li>
<p>
Обмеження імплісіт конверсій
</p>
</li>
<li>
<p>
null-безпечність
</p>
</li>
<li>
<p>
Безпечна ініціалізація
</p>
</li>
</ul></div>
<div class="paragraph"><p>Гарні приклади <em>ергономіки</em> є енумерації та методи розширення, що були додані в Scala 3 в дуже зрозумілий спосіб:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// енумерація</span></span>
enum Color<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Red<span style="color: #990000">,</span> Green<span style="color: #990000">,</span> Blue

<span style="font-style: italic"><span style="color: #9A1900">// методи розширення</span></span>
<span style="font-weight: bold"><span style="color: #000000">extension</span></span> <span style="color: #990000">(</span>c<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Circle<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> circumference<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> c<span style="color: #990000">.</span>radius <span style="color: #990000">*</span> math<span style="color: #990000">.</span>Pi <span style="color: #990000">*</span> <span style="color: #993399">2</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> diameter<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> c<span style="color: #990000">.</span>radius <span style="color: #990000">*</span> <span style="color: #993399">2</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> area<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> math<span style="color: #990000">.</span>Pi <span style="color: #990000">*</span> c<span style="color: #990000">.</span>radius <span style="color: #990000">*</span> c<span style="color: #990000">.</span>radius</tt></pre></div></div>
<div class="paragraph"><p><em>Продуктивність</em> відноситься до декількох речей. Одна з них є прозорі типи. В Scala 2 було декілька спроб вирішити питання дотримання практики Domain-driven design (DDD) надавати значенням більш осмислені типи. Ці спроби включають:</p></div>
<div class="ulist"><ul>
<li>
<p>
Псевдоніми типів
</p>
</li>
<li>
<p>
Класи-значення
</p>
</li>
<li>
<p>
Кейс класи
</p>
</li>
</ul></div>
<div class="paragraph"><p>Нажаль, всі з ціх підходів мають свої вади, як описано в <code>Opaque Types SIP</code>. Навпаки, ціллю прозорих типів є, як описано в цьому SIP, щоб "операції на ціх типах-огортках не створювали додаткового навантаження під час виконання, при цьому провадячи безпеку типів рід час компіляції".</p></div>
<div class="paragraph"><p>Більше щодо деталей системи типів дивіться відповідні посилання.</p></div>
</div>
<div class="sect2">
<h3 id="_інші_значні_властивості">Інші значні властивості</h3>
<div class="paragraph"><p>Scala має багато гарних властивостей, та вибір Топ-10 може бути суб&#8217;єктиним. Декілька досліджень показали, що різні групи розробників люблять різні властивості. Маємо надію, що ви знайдете інші потужні можливості Scala по мірі використання мови.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_смак_scala">Смак Scala</h2>
<div class="sectionbody">
<div class="paragraph"><p>Ця глава провадить карколомний тур по основним можливостям мови програмування Scala 3. Після цього початкового туру залишок книги провадить більше деталей по цім можливостям, та нарешті Референсна документація надає <em>значно</em> быльше деталей.</p></div>
<div class="paragraph"><p>На протязі цієї книги ми рекомендуємо експериментувати з прикладами на <em>Scastie</em>, або <em>Scala REPL</em>, які ми скоро побачимо.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_hello_wold">Hello, Wold!</h2>
<div class="sectionbody">
<div class="paragraph"><p>Приклад "Hello, World!" на Scala 3 виглядає таким чином. Спочатку покладіть наступний код в файл <em>Hello.scala</em>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt> <span style="font-weight: bold"><span style="color: #0000FF">@</span></span>main <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> hello <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hello, world!"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>В цьому коді <code>hello</code> є метод. Він визначається за допомогою <code>def</code>, і задекларований як <code>main</code> за допомогою анотації <code>@main</code>. Він друкує <em>"Hello, world!"</em> в стандартний вивід (STDOUT), використовуючи метод <code>println</code>.</p></div>
<div class="paragraph"><p>Далі скомпілюйте код в <code>scalac</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ scalac Hello<span style="color: #990000">.</span>scala</tt></pre></div></div>
<div class="literalblock">
<div class="content">
<pre><code>Прим.перекл. Станом на 01 січня 2022 року компілятор та ланчер Scala 3 мали назву `scala3-compiler` та `scala3`, відповідно. Майте це на увазі, Scala 2 видасть помилку вже на першій декларації `@main`.</code></pre>
</div></div>
<div class="paragraph"><p>Якщо ви прийшли в Scala з Java, <code>scalac</code> такий саме, як <code>javac</code>, так що ця команда створить декілька файлів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ ls -<span style="color: #993399">1</span>
Hello<span style="color: #009900">$package$.</span>class
Hello<span style="color: #009900">$package</span><span style="color: #990000">.</span>class
Hello<span style="color: #009900">$package</span><span style="color: #990000">.</span>tasty
Hello<span style="color: #990000">.</span>scala
hello<span style="color: #990000">.</span>class
hello<span style="color: #990000">.</span>tasty</tt></pre></div></div>
<div class="paragraph"><p>Як і в Java, файли <code>.class</code> є файлами байткоду, і вони готові для виконання в JVM.</p></div>
<div class="paragraph"><p>Тепер ви можете виконати метод <code>hello</code> в команді ланчера <code>scala</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ scala hello
Hello<span style="color: #990000">,</span> world<span style="color: #990000">!</span></tt></pre></div></div>
<div class="paragraph"><p>Вважаючи, що все робить, прийміть поздоровлення. Ви тільки що скомпілювали та виконали ваше перше застосування на Scala.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Більше інформації щодо _sbt_ та інших інструментів, що спрощують розробку на Scala, можна знайти в главі _Інструменти Scala_.</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_repl">REPL</h2>
<div class="sectionbody">
<div class="paragraph"><p>Scala REPL (“Read-Evaluate-Print-Loop”) є інтерпретатором командного рядка, який ви використовуєте для перевірки вашого Scala коду. Ви запускаєте вашу REPL сессію, виконуючи команду <code>scala</code> в командному рядку операційної системи. Ви маєте побачити запрошення. подібне до наступного:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ scala
Welcome to Scala <span style="color: #993399">3.0</span><span style="color: #990000">.</span><span style="color: #993399">0</span> <span style="color: #990000">(</span>OpenJDK <span style="color: #993399">64</span>-Bit Server VM<span style="color: #990000">,</span> Java <span style="color: #993399">11.0</span><span style="color: #990000">.</span><span style="color: #993399">9</span><span style="color: #990000">).</span>
Type <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> expressions <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> evaluation<span style="color: #990000">.</span>
Or try <span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #0000FF">help</span></span><span style="color: #990000">.</span>

scala<span style="color: #990000">&gt;</span> _</tt></pre></div></div>
<div class="paragraph"><p>REPL є інтерпретатором командного рядка, так що він очікує, доки ви введете будь-що. Тепер ви можете вводити вирази Scala, щоб побачити як вони роблять:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="color: #993399">1</span> <span style="color: #990000">+</span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> res0<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span>

scala<span style="color: #990000">&gt;</span> <span style="color: #993399">2</span> <span style="color: #990000">+</span> <span style="color: #993399">2</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> res1<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">4</span></tt></pre></div></div>
<div class="paragraph"><p>Як стверджує результат, якщо ви не присвоєте результат до змінної, REPL створить змінні з іменами <code>res1</code>, <code>res2</code>, тощо. Ви можете  використовувати ці имена в наступних виразах:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> res0 <span style="color: #990000">*</span> <span style="color: #993399">10</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">20</span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, що REPL також відображужє результат обчислення ваших виразів.</p></div>
<div class="paragraph"><p>Ви можете виконувати в REPL всі типи експериментів. Цей приклад показує, як створити та потім виконати метод <code>sum</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">sum</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">+</span> b
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">sum</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span>

scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #000000">sum</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> res2<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">4</span></tt></pre></div></div>
<div class="paragraph"><p>Якщо ви обираєте онлайн плейграунд, ви також можете використовувати <a href="http://scastie.scala-lang.org">http://scastie.scala-lang.org</a>.</p></div>
<div class="paragraph"><p>Якщо ви обираєте, замість підказки консолі, писати код в текстовому редакторі, ви можете використовувати <em>worksheet</em>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_змінні_і_типи_даних">Змінні і типи даних</h2>
<div class="sectionbody">
<div class="paragraph"><p>Цей розділ провадить погляд на змінні та типи даних Scala.</p></div>
<div class="sect2">
<h3 id="_два_типи_змінних">Два типи змінних</h3>
<div class="paragraph"><p>Коли ви створюєте нову змінну в Scala, ви декларуєте, чи буде змінна незмінною аба змінною:</p></div>
<div class="paragraph"><p><strong>Тип</strong>  <strong>Опис</strong>
<code>val</code>   Створює <em>незмінну</em> змінну, як <code>final</code> в Java. Ви завжди маєте створювати змінні за допомогою <code>val</code>, крім наявності причини створити змінну змінну.
<code>var</code>   створює <em>мінливу</em> змінну, і має створюватись, тільки коли значення повинне змінюватись у часі.</p></div>
<div class="paragraph"><p>Наступні приклади показують, як створювати змінні <code>val</code> та <code>var</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// незмінна</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0</span>

<span style="font-style: italic"><span style="color: #9A1900">// змінна</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span></tt></pre></div></div>
<div class="paragraph"><p>В застосуванні <code>val</code> не може бути переприсвоєна. Ви отримаєте помилку компілятора, якщо спробуєте зробити переприсвоєння:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> msg <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Hello, world"</span>
msg <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Aloha"</span>   <span style="font-style: italic"><span style="color: #9A1900">// помилка; це не буде компілюватись</span></span></tt></pre></div></div>
<div class="paragraph"><p>І навпаки, <code>var</code> мможе бути переприсвоєна:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> msg <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Hello, world"</span>
msg <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Aloha"</span>   <span style="font-style: italic"><span style="color: #9A1900">// це скомпілюється, var може переприсвоюватись</span></span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_декларування_типів_змінних">Декларування типів змінних</h3>
<div class="paragraph"><p>Коли ви створюєте змінну, ви можете явно декларувати її тип, або дати компілятору вивести тип самостійно:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>   <span style="font-style: italic"><span style="color: #9A1900">// явний тип</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>        <span style="font-style: italic"><span style="color: #9A1900">// компілятор виводить тип неявно</span></span></tt></pre></div></div>
<div class="paragraph"><p>Друга форма має назву <em>вивід типу</em>, і це чудовий спосіб підтримувати код стислим. Компілятор Scala загалом може вивести тип даних, як можна бачити з результатів роботи прикладів в REPL:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>

scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"a string"</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a string

scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> nums <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> nums<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span><span style="color: #009900">Int</span><span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ви завжди можете явно декларувати тип змінної, якщо бажаєте, але в простих випадках в цьому немає потреби:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"a string"</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Person <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Richard"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, що при такому підході код виглядає більш галасливим, ніж потрібно.</p></div>
</div>
<div class="sect2">
<h3 id="_вбудовані_типи_даних">Вбудовані типи даних</h3>
<div class="paragraph"><p>Scala іде зі стандартними числовими типами, як ви можете очікувать, і вони є повноцінні примірники класів. в Scala будь-що є об&#8217;єктом.</p></div>
<div class="paragraph"><p>Ці приклади показують, як декларувати змінні числових типів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Byte</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> l<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Long</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Short</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> d<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2.0</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> f<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Float</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">3.0</span></tt></pre></div></div>
<div class="paragraph"><p>Оскільки <code>Int</code> та <code>Double</code> є числовими типами по замовчанню, ви зазвичай створюєте їх без явного декларування типу даних:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">123</span>   <span style="font-style: italic"><span style="color: #9A1900">//  Int</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1.0</span>   <span style="font-style: italic"><span style="color: #9A1900">//  Double</span></span></tt></pre></div></div>
<div class="paragraph"><p>Також в своєму коді ви можете додати символи <code>L</code>, <code>D</code>, <code>F</code> (та їх прописні еквіваленти) до чисел, щоб вказати що це значення <code>Long</code>, <code>Double</code> або <code>Float</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 1<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000L</span>   <span style="font-style: italic"><span style="color: #9A1900">// val x: Long = 1000</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> y <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span><span style="color: #990000">.</span>2D     <span style="font-style: italic"><span style="color: #9A1900">// val y: Double = 2.2</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> z <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">3</span><span style="color: #990000">.</span>3F     <span style="font-style: italic"><span style="color: #9A1900">// val z: Float = 3.3</span></span></tt></pre></div></div>
<div class="paragraph"><p>Якщо нам треба дійсно великі числа, використовуйте типи <code>BigInt</code> та <code>BigDecimal</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">BigInt</span></span><span style="color: #990000">(</span>1<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>234<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>567<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>890<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>987<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>654<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">321L</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">var</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">BigDecimal</span></span><span style="color: #990000">(</span>123<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">456.789</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>В той час, як <code>Double</code> та <code>Float</code> округлюють десяткові числа,<code>BigDecimal</code> використовують точну арифметику.</p></div>
<div class="paragraph"><p>Scala також має типи даних <code>String</code> та <code>Char</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Bill"</span>   <span style="font-style: italic"><span style="color: #9A1900">// String</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">'a'</span>         <span style="font-style: italic"><span style="color: #9A1900">// Char</span></span></tt></pre></div></div>
<div class="sect3">
<h4 id="_рядки">Рядки</h4>
<div class="paragraph"><p>Рядки Scala подібні до рядків Java, але мають дві додаткові функції:</p></div>
<div class="ulist"><ul>
<li>
<p>
Вони підтримують інтерполяцію рядків
</p>
</li>
<li>
<p>
Легко створювати багаторядкові рядки
</p>
</li>
</ul></div>
<div class="sect4">
<h5 id="_інтерполяція_рядків">Інтерполяція рядків</h5>
<div class="paragraph"><p>Інтерполяція рядків провадить дуже наочний шлях для використання змінних в рядках. Наприклад, візьмемо наступні три рядка:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> firstName <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"John"</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> mi <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">'C'</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> lastName <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Doe"</span></tt></pre></div></div>
<div class="paragraph"><p>Ви можете скомпонувати ці змінні в один рядок таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"Name: $firstName $mi $lastName"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// "Name: John C Doe"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Просто поставьте перед рядком літеру <code>s</code>, та покладіть символ <code>$</code> перед ім&#8217;ям іменами ваших змінних всередині рядка.</p></div>
<div class="paragraph"><p>Щоб вбудувати в рядок довільний вираз, заточіть його в фігурні дужки:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"2 + 2 = ${2 + 2}"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// друкує "2 + 2 = 4"</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">-</span><span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"x.abs = ${x.abs}"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// друкує "x.abs = 1"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Літера <code>s</code> перед рядком є лише одним можливим інтерполятором. Якщо замість <code>s</code> ви поставите <code>f</code>, ви отримаєте <code>printf</code>-подібний синтаксис в рядку. Більше того, інтерполятор є лише спеціальним методом, і ви можете визначати власні. Наприклад, деякі бібліотеки баз даних визначають дуже потужний інтерполятор <code>sql</code>.</p></div>
</div>
<div class="sect4">
<h5 id="_багаторядкові_рядки">Багаторядкові рядки</h5>
<div class="paragraph"><p>Багаторядкові рядки створюються оточенням рядка в потрійні подвійні лапки:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> quote <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"""The essence of Scala:</span>
<span style="color: #FF0000">               Fusion of functional and object-oriented</span>
<span style="color: #FF0000">               programming in a typed setting."""</span></tt></pre></div></div>
<div class="literalblock">
<div class="content">
<pre><code>Додактові деталі щодо інтерполяції рядків та багаторядкові рядки дивіться главу _Перший погляд на типи_.</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_керівні_структури">Керівні структури</h3>
<div class="paragraph"><p>Scala має керівні структури, які ви можете знайти в інших мовах, але також має потужні вирази <code>for</code> та <code>match</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>if/else</code>
</p>
</li>
<li>
<p>
<code>for</code> цикли та вирази
</p>
</li>
<li>
<p>
<code>match</code> вирази
</p>
</li>
<li>
<p>
<code>while</code> цикли
</p>
</li>
<li>
<p>
<code>try/catch</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ці структури продемонстровані в наступних прикладах.</p></div>
<div class="sect3">
<h4 id="_if_else">if/else</h4>
<div class="paragraph"><p>В Scala керівіна структура <code>if/else</code> виглядає подібно до інших мов:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> then
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"negative"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">0</span> then
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"zero"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"positive"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, що це насправді <em>вираз - не твердження</em>. Це означає, що це повертає значення, так що ви можете присвоїти його змінній:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> a <span style="color: #990000">&lt;</span> b then a <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> b</tt></pre></div></div>
<div class="paragraph"><p>Як ви побачите в цій книжці, в Scala <em>всі</em> контрольні структури можуть використовуватись як вирази.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Вираз повертає результат, тоді як твердження - ні. Твердження типово використовуються для своїх побічних ефектів, таких, як використання `println` для друку на консолі.</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_for_цикли_та_вирази">for цикли  та вирази</h4>
<div class="paragraph"><p>Ключове слово <code>for</code> використовується для створення <code>for</code> циклу. Приклад показує, як надрукувати всі елементи в <code>List</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> ints <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> <span style="color: #993399">4</span><span style="color: #990000">,</span> <span style="color: #993399">5</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Код <code>i &lt;- ints</code> відомий як <em>генератор</em>, а код після <code>do</code> складає <em>тіло</em> циклу.</p></div>
<div class="paragraph"><p>Старий синтаксис для цієї структури виглядав так:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_охоронці">Охоронці</h4>
<div class="paragraph"><p>Ви можете також використовувати один або більше <code>if</code> в своєму циклі <code>for</code>. Це відоме як <em>охоронці</em>. Приклад друкує всі числа в <code>ints</code>, що більше ніж 2:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
  i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> i <span style="color: #990000">&gt;</span> <span style="color: #993399">2</span>
<span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ви можете використовувати декілька генераторів та охоронців. Цей цикл ітерує по числах від 1 до 3, і для кожного ітерує по символах від <code>a</code> до <code>c</code>. Однак ми також маємо два охоронці, так що друкується тільки рядок, коли <code>i</code> дорівнює 2, а <code>j</code> - символу <code>b</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
  i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> <span style="color: #993399">1</span> to <span style="color: #993399">3</span>
  j <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> <span style="color: #FF0000">'a'</span> to <span style="color: #FF0000">'c'</span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">2</span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> j <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #FF0000">'b'</span>
<span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"i = $i, j = $j"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// друкує: "i = 2, j = b"</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_for_вирази">for вирази</h4>
<div class="paragraph"><p>Ключове слово <code>for</code> має ще більші можливості: якщо ви, замість <code>do</code> використати <code>yeld</code>, ви створите <em>вираз</em> <code>for</code>, що обчислює та видає результати.</p></div>
<div class="paragraph"><p>Декілька прикладів демонструють це. Використовуючи той самий список <code>ints</code>, що і в попередньому прикладі, цей код генерує новий список, де кожне значення елементу в новому списку є подвоєне значення в оригінальному списку:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> doubles <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> doubles<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span><span style="color: #009900">Int</span><span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">4</span><span style="color: #990000">,</span> <span style="color: #993399">6</span><span style="color: #990000">,</span> <span style="color: #993399">8</span><span style="color: #990000">,</span> <span style="color: #993399">10</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Синтаксис керівних структур Scala гнучкий, і той самий вираз <code>for</code> може бути записаний різними шляхами, за вашим вподобанням:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> doubles <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span> <span style="font-style: italic"><span style="color: #9A1900">// стиль, показаний вище</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> doubles <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> doubles <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span> <span style="color: #990000">(</span>i <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> doubles <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #FF0000">{</span> i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span> <span style="color: #990000">(</span>i <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Наступний приклад показує, як капіталізувати кожний рядок зі списку:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> names <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"chris"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"ed"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"maurice"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> capNames <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> names <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span> name<span style="color: #990000">.</span>capitalize</tt></pre></div></div>
<div class="paragraph"><p>Нарешті, цей <code>for</code> вираз ітерує по списку рядків, та повертає довжину кожного рядка, але тільки якщо ця довжина більше чотирьох:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> fruits <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"apple"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"banana"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"lime"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"orange"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> fruitLengths <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
  f <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> fruits
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> f<span style="color: #990000">.</span>length <span style="color: #990000">&gt;</span> <span style="color: #993399">4</span>
<span style="font-weight: bold"><span style="color: #0000FF">yield</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// тут може бути більше рядків</span></span>
  f<span style="color: #990000">.</span>length

<span style="font-style: italic"><span style="color: #9A1900">// fruitLengths: List[Int] = List(5, 6, 6)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Цикли та вирази <code>for</code> розглядаються більш детально в розділі <em>Керівні структури</em> та в референсній документації.</p></div>
</div>
<div class="sect3">
<h4 id="_code_match_code_вирази"><code>match</code> вирази</h4>
<div class="paragraph"><p>Scala має вираз <code>match</code>, який в простіший формі використання подібний до Java <code>switch</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>

<span style="font-style: italic"><span style="color: #9A1900">// далі в коді ...</span></span>
i <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">1</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"one"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">2</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"two"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"other"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Однак, насправді <code>match</code> є виразом, що означає, що він повертає результат на основі порівняння шаблонів, що може бути прикріплене до змінної:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> result <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">1</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"one"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">2</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"two"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"other"</span></tt></pre></div></div>
<div class="paragraph"><p><code>match</code> не обмежений робити з цілими значеннями, він може використовуватись з любими типами даних:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Fred"</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// далі в коді</span></span>
p <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #FF0000">"Fred"</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"$name says, Yubba dubba doo"</span><span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #FF0000">"Bam Bam"</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"$name says, Bam bam!"</span><span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Watch the Flintstones!"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Фактично, вираз <code>match</code> може бути використаний для перевірки змінної по багатьом різним типам шаблонів. Приклад показує, (а) як використовувати вираз <code>match</code> в якості тіла метода, та (б) як порівнювати різні типи:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// getClassAsString - метод, що приймає любий тип</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">getClassAsString</span></span><span style="color: #990000">(</span>x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Matchable<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"'$s' is a String"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> i<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Int"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> d<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Double"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> l<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"List"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Unknown"</span>

<span style="font-style: italic"><span style="color: #9A1900">// приклади</span></span>
<span style="font-weight: bold"><span style="color: #000000">getClassAsString</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">)</span>             <span style="font-style: italic"><span style="color: #9A1900">// Int</span></span>
<span style="font-weight: bold"><span style="color: #000000">getClassAsString</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"hello"</span><span style="color: #990000">)</span>       <span style="font-style: italic"><span style="color: #9A1900">// 'hello' типу String</span></span>
<span style="font-weight: bold"><span style="color: #000000">getClassAsString(List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">))</span> <span style="font-style: italic"><span style="color: #9A1900">// List</span></span></tt></pre></div></div>
<div class="paragraph"><p>Метод <code>getClassAsString</code> приймає як параметр значення типу <code>Matchable</code>, що може бути любим типом, що підтримує порівняння шаблонів (деякі типи не підтримують порівняння, бо це може зламати енкапсуляцію).</p></div>
<div class="paragraph"><p>Є ще <em>дуже багато</em> чого стосовно порівнянь шаблонів в Scala. Шаблони можуть бути вкладені, результати шаблонів можуть бути захоплені, і саме порівняння може визначатись власним кодом. Дивіться приклади порівнянь в главі Структури керування.</p></div>
</div>
<div class="sect3">
<h4 id="_try_catch_finally">try/catch/finally</h4>
<div class="paragraph"><p>Керівна структура <code>try/catch/finally</code> в Scala дозволяє вам перехоплювати виключення. Це подібне до Java, але синтаксис узгоджений з виразами <code>match</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">try</span></span>
  <span style="font-weight: bold"><span style="color: #000000">writeTextToFile</span></span><span style="color: #990000">(</span>text<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">catch</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> ioe<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> IOException <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Got an IOException."</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> nfe<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> NumberFormatException <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Got a NumberFormatException."</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">finally</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Clean up your resources here."</span><span style="color: #990000">)</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_code_while_code_цикли"><code>while</code> цикли</h4>
<div class="paragraph"><p>Scala також має конструкцію циклу <code>while</code>. Його одно-рядковий синтаксис виглядає так:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">while</span></span> x <span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0</span> <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">f</span></span><span style="color: #990000">(</span>x<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Scala 2 має дещо інший синтаксис: умова була оточена дужками, та не було ключового слова <code>do</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span>x <span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">f</span></span><span style="color: #990000">(</span>x<span style="color: #990000">)</span> <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Scala 3 все ще підтримує синтаксис Scala 2 в цілях сумісності.</p></div>
<div class="paragraph"><p>Багато-рядковий синтаксис циклу <code>while</code> має наступний вигляд:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>

<span style="font-weight: bold"><span style="color: #0000FF">while</span></span>
  x <span style="color: #990000">&lt;</span> <span style="color: #993399">3</span>
<span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>x<span style="color: #990000">)</span>
  x <span style="color: #990000">+</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_власні_керівні_структури">Власні керівні структури</h4>
<div class="paragraph"><p>Завдяки таким можливостям, як <code>by-name</code> параметри, інфіксна нотація, гнучки інтерфейси, опціональні дужки, методи розширення та функції вищого гатунку, ви можете створити ваш власний код, що робитиме як керівна структура. Ви найдете більше про це в <em>Керівні структури</em>.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_доменне_моделювання">Доменне моделювання</h2>
<div class="sectionbody">
<div class="paragraph"><p>Scala підтримує обоє, функціональне програмування (FP) та об&#8217;єктно-орієнтовне програмування (OOP), так само, як і суміш обох парадигм. Цей розділ провадить швидкий огляд моделювання даних в OOP та FP.</p></div>
<div class="sect2">
<h3 id="_доменне_моделювання_oop">Доменне моделювання OOP</h3>
<div class="paragraph"><p>Коли ви пишете код в OOP стилі, ваші два основні інструменти для енкапсуляції - це <em>трейти</em> та <em>класи</em>.</p></div>
<div class="sect3">
<h4 id="_трейти">Трейти</h4>
<div class="paragraph"><p>Трейти Scala можуть використовуватись як прості інтерфейси, але вони також можуть містити абстрактні і конкретизовані методи і поля, і вони можуть мати параметри, так само, як класи. Вони провадять вам гарний спосіб організувати поведінку в малі, модулярні юніти. Пізніше, коли ви побажаєте створити конкретизовані реалізації атрибутів та поведінок, класи та об&#8217;єкти можуть розширювати трейти по мірі необхідності, міксуючи так багато трейтів, як потрібно, щоб отримати бажану поведінку.</p></div>
<div class="paragraph"><p>В якості приклада, як використовувати трейти як інтерфейси - ось три трейти, що визначають гарно організовану і модульну поведінку для тварин, як собаки та кішки:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Speaker</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String  <span style="font-style: italic"><span style="color: #9A1900">// абстрактне, без тіла</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">TailWagger</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">startTail</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"tail is wagging"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">stopTail</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"tail is stopped"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Runner</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">startRunning</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"I’m running"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">stopRunning</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Stopped running"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Маючи ці трейти, ось клас <code>Dog</code>, що розширює всі ці трейти, та також провадить поведінку абстрактного метода <code>speak</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Dog</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Speaker<span style="color: #990000">,</span> TailWagger<span style="color: #990000">,</span> Runner<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Woof!"</span></tt></pre></div></div>
<div class="paragraph"><p>Зверніть увагу, як клас розширює трейти за допомогою ключового слова <code>extends</code>.</p></div>
<div class="paragraph"><p>Подібно до цього, ось клас <code>Cat</code>, що реалізує ті самі трейти, та переписує два конкретизованих методів, який він наслідує:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Cat</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Speaker<span style="color: #990000">,</span> TailWagger<span style="color: #990000">,</span> Runner<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Meow"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">startRunning</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Yeah ... I don’t run"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">stopRunning</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"No need to stop"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ось приклад, як ці класи можуть бути використані:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> d <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Dog</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Rover"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">println(d.speak</span></span><span style="color: #990000">())</span>      <span style="font-style: italic"><span style="color: #9A1900">// "Woof!"</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Cat</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Morris"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">println(c.speak</span></span><span style="color: #990000">())</span>   <span style="font-style: italic"><span style="color: #9A1900">// "Meow"</span></span>
<span style="font-weight: bold"><span style="color: #000000">c.startRunning</span></span><span style="color: #990000">()</span>     <span style="font-style: italic"><span style="color: #9A1900">// "Yeah ... I don’t run"</span></span>
<span style="font-weight: bold"><span style="color: #000000">c.stopRunning</span></span><span style="color: #990000">()</span>      <span style="font-style: italic"><span style="color: #9A1900">// "No need to stop"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Якщо цей код має сенс - добре, ви знайомі з трейтами в якості інтерфейсів. Якщо ні - не турбуйтесь, ми пояснимо краще в главі <em>Доменне модулювання</em>.</p></div>
</div>
<div class="sect3">
<h4 id="_класи">Класи</h4>
<div class="paragraph"><p>Scala <em>класи</em> використовуються в OOP стилі програмування. Ось приклад класа, що модулює "персону". В OOP поля типово змінні, так що <code>firstName</code> та <code>lastName</code> декларовані як <code>var</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> firstName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> lastName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">printFullName</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"$firstName $lastName"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"John"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Stephens"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>p<span style="color: #990000">.</span>firstName<span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// "John"</span></span>
p<span style="color: #990000">.</span>lastName <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Legend"</span>
<span style="font-weight: bold"><span style="color: #000000">p.printFullName</span></span><span style="color: #990000">()</span>      <span style="font-style: italic"><span style="color: #9A1900">// "John Legend"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, що декларація класу створює конструктор:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// тут використовується конструктор</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"John"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Stephens"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Конструктори та інші пов&#8217;язані з класами теми розкриті в главі <em>Доменне моделювання</em>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_доменне_моделювання_в_fp">Доменне моделювання в FP</h3>
<div class="paragraph"><p>Коли ви пишете код в FP стилі, ви будете використовувати такі конструкції:</p></div>
<div class="ulist"><ul>
<li>
<p>
Енумерації для визначення ADT
</p>
</li>
<li>
<p>
Кейс класи
</p>
</li>
<li>
<p>
Трейти
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_енумерації">Енумерації</h4>
<div class="paragraph"><p>Конструкція <code>enum</code> є чудовим шляхом моделювати алгебраїчні типи даних (ATD) в Scala 3. Наприклад, піцца має три головні атрибути:</p></div>
<div class="ulist"><ul>
<li>
<p>
Розмір коржа
</p>
</li>
<li>
<p>
Товщина коржа
</p>
</li>
<li>
<p>
Приправи (опції)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Це стисло моделюється таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>enum CrustSize<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Small<span style="color: #990000">,</span> Medium<span style="color: #990000">,</span> Large

enum CrustType<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Thin<span style="color: #990000">,</span> Thick<span style="color: #990000">,</span> Regular

enum Topping<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Cheese<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">,</span> BlackOlives<span style="color: #990000">,</span> GreenOlives<span style="color: #990000">,</span> Onions</tt></pre></div></div>
<div class="paragraph"><p>Як тільки ви маєте енумерейшин, ви можете використовувати його як трейт, клас або об&#8217;єкт:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> CrustSize<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> currentCrustSize <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Small

<span style="font-style: italic"><span style="color: #9A1900">// енумерація в `match` виразі</span></span>
currentCrustSize <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Small <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Small crust size"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Medium <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Medium crust size"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Large <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Large crust size"</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// енумерація в `if` твердженні</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> currentCrustSize <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> Small then <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Small crust size"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ось інший приклад того, як створити і використовувати ADT в Scala:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>enum Nat<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Zero
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Succ</span></span><span style="color: #990000">(</span>pred<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Nat<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Енумерейшини розкриваються в деталях в розділі <em>Доменне моделювання</em> цієї книжки, а також в референсній документації.</p></div>
</div>
<div class="sect3">
<h4 id="_кейс_класи">Кейс класи</h4>
<div class="paragraph"><p>В Scala <code>case</code> класи дозволяють моделювати концепції з незмінними структурами даних. Кейс клас має всю функціональність звичайного класу, та також додаткові вбудовані можливості, що робить їх корисними для функціонального програмування. Коли компілятор бачить ключове слово <code>case</code> перед <code>class</code>, це має наступні ефекти та переваги:</p></div>
<div class="ulist"><ul>
<li>
<p>
Конструктор кейс класа має параметри - публічні <code>val</code> по замовчанню, так що поля незмінні, та для кожного параметру генерується метод аксессора
</p>
</li>
<li>
<p>
Генерується метод <code>upapply</code>, що дозволяє використовувати кейс класи в <code>match</code> додатковими шляхами
</p>
</li>
<li>
<p>
В класі генерується метод <code>copy</code>. Це провадить шлях створювати оновленні копії об&#8217;єктів, не змінюючи оригінальний об&#8217;єкт
</p>
</li>
<li>
<p>
Генеруються методи <code>equals</code> та <code>hashCode</code> для реалізації структурної еквівалентності
</p>
</li>
<li>
<p>
Генерується дефолтний метод <code>toString</code>, корисний для дебагінгу
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ви <em>можете</em> вручну додати всі ці методи до класу власноруч, але завдяки тому, що вони так загально використовуються в функціональному програмуванні, використання <code>case</code> класів виглядає значно зручнішим.</p></div>
<div class="paragraph"><p>Цей код демонструє декілька можливостей <code>case</code> класів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// визначення case class</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> vocation<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// створення примірника case class</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Reginald Kenneth Dwight"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Singer"</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// гарний метод toString</span></span>
p <span style="font-style: italic"><span style="color: #9A1900">// : Person = Person(Reginald Kenneth Dwight,Singer)</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// доступ до незмінних полів</span></span>
p<span style="color: #990000">.</span>name         <span style="font-style: italic"><span style="color: #9A1900">// "Reginald Kenneth Dwight"</span></span>
p<span style="color: #990000">.</span>name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Joe"</span> <span style="font-style: italic"><span style="color: #9A1900">// error: can’t reassign a val field</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// створення зміненої копії</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p2 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Elton John"</span><span style="color: #990000">)</span>
p2  <span style="font-style: italic"><span style="color: #9A1900">// : Person = Person(Elton John,Singer)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Дивіться <em>Доменне модулювання</em> для значно більших деталей щодо кейс класів.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_методи_в_scala">Методи в Scala</h3>
<div class="paragraph"><p>Scala класи, кейс класи, трейти, енумерації, об&#8217;єкти - всі можуть мати методи. Синтаксис простого метода може виглядати таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">methodName</span></span><span style="color: #990000">(</span>param1<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Type1<span style="color: #990000">,</span> param2<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Type2<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> ReturnType <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// тіло метода</span></span></tt></pre></div></div>
<div class="paragraph"><p>Ось декілька прикладів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">sum</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">+</span> b
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">concatenate</span></span><span style="color: #990000">(</span>s1<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> s2<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s1 <span style="color: #990000">+</span> s2</tt></pre></div></div>
<div class="paragraph"><p>Вам не треба вказувати тип результату методів, тому за бажанням ви можете записати ті самі методи таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">sum</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">+</span> b
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">concatenate</span></span><span style="color: #990000">(</span>s1<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> s2<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s1 <span style="color: #990000">+</span> s2</tt></pre></div></div>
<div class="paragraph"><p>Ось як ви виклиаєте ці методи:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">sum</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> y <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">concatenate</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"foo"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"bar"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ось приклад багато-рядкового методу:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">getStackTraceAsString</span></span><span style="color: #990000">(</span>t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Throwable<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> sw <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> StringWriter
  <span style="font-weight: bold"><span style="color: #000000">t.printStackTrace</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PrintWriter</span></span><span style="color: #990000">(</span>sw<span style="color: #990000">))</span>
  sw<span style="color: #990000">.</span>toString</tt></pre></div></div>
<div class="paragraph"><p>Параметри методыв можуть мати дефолтні значення по замовчанню. В наступному прикладі параметр <code>timeout</code> має дефолтне значення <code>5000</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>url<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> timeout<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">5000</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"url=$url, timeout=$timeout"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Оскільки надане дефолтне значення для <code>timeout</code>, метод можна викликати в два способи:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"https://localhost"</span><span style="color: #990000">)</span>         <span style="font-style: italic"><span style="color: #9A1900">// url=http://localhost, timeout=5000</span></span>
<span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"https://localhost"</span><span style="color: #990000">,</span> <span style="color: #993399">2500</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// url=http://localhost, timeout=2500</span></span></tt></pre></div></div>
<div class="paragraph"><p>Scala також підтримує <em>іменовані параметри</em> при виклику методів, так що за бажанням ви можете викликати цей метод таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>
  url <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"https://localhost"</span><span style="color: #990000">,</span>
  timeout <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2500</span>
<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Іменовані параметри зокрема корисні, коли декілька параметрів метода мають однаковий тип. З першого погляду на цей метод ви можете тільки здогадуватись, які з параметрів  встановлені в <code>true</code> або <code>false</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">engage</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Без допомоги IDE цей код важко читати, але наступний код значно очевидніший:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">engage</span></span><span style="color: #990000">(</span>
  speedIsSet <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span>
  directionIsSet <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span>
  picardSaidMakeItSo <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span>
  turnedOffParkingBrake <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span>
<span style="color: #990000">)</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_методи_розширення">Методи розширення</h3>
<div class="paragraph"><p><em>Методи розширення</em> дозволяють вам додавати нові методи до зачинених класів. Наприклад, якщо ви бажаєте додати два методи з назвами <code>hello</code> та <code>aloha</code> до класу <code>String</code>, задекларуйте їх як методи розширення:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">extension</span></span> <span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> hello<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s<span style="color: #FF0000">"Hello, ${s.capitalize}!"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> aloha<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s<span style="color: #FF0000">"Aloha, ${s.capitalize}!"</span>

<span style="color: #FF0000">"world"</span><span style="color: #990000">.</span>hello    <span style="font-style: italic"><span style="color: #9A1900">// "Hello, World!"</span></span>
<span style="color: #FF0000">"friend"</span><span style="color: #990000">.</span>aloha   <span style="font-style: italic"><span style="color: #9A1900">// "Aloha, Friend!"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Ключове слово <code>extension</code> декларує, що ви маєте намір визначити один або більше методів розширення на параметрі, що стоїть в дужках. Як показано в прикладі, параметр <code>s</code> типу <code>String</code> потім може бути використаний в тілі методів розширення.</p></div>
<div class="paragraph"><p>Наступний приклад показує, як додати метод <code>makeInt</code> до класу <code>String</code>. Тут <code>makeInt</code> приймає параметр на ім&#8217;я <code>radix</code>. Код не враховує можливої помилки перетворення рядок-в-ціле, але, оминаючи ці деталі, приклади показують, як це робить:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">extension</span></span> <span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">makeInt</span></span><span style="color: #990000">(</span>radix<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Integer.parseInt</span></span><span style="color: #990000">(</span>s<span style="color: #990000">,</span> radix<span style="color: #990000">)</span>

<span style="color: #FF0000">"1"</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">makeInt</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">)</span>      <span style="font-style: italic"><span style="color: #9A1900">// Int = 1</span></span>
<span style="color: #FF0000">"10"</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">makeInt</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">)</span>     <span style="font-style: italic"><span style="color: #9A1900">// Int = 2</span></span>
<span style="color: #FF0000">"100"</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">makeInt</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">)</span>    <span style="font-style: italic"><span style="color: #9A1900">// Int = 4</span></span></tt></pre></div></div>
<div class="sect3">
<h4 id="_дивіться_також">Дивіться також</h4>
<div class="paragraph"><p>Методи Scala можуть бути значно потужніші: вони можуь приймати параметри типів та контекстні параметри. Вони детально описані в розділі <em>Доменне моделювання</em>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_функції_першого_класу">Функції першого класу</h3>
<div class="paragraph"><p>Scala має більшість можливостей, які ви очікуєте від функціональної мови програмування, включаючи:</p></div>
<div class="ulist"><ul>
<li>
<p>
Лямбди (анонимні функції)
</p>
</li>
<li>
<p>
Функції вищого гатунку (HOFs)
</p>
</li>
<li>
<p>
Незмінні колекції в стандартній бібліотеці
</p>
</li>
</ul></div>
<div class="paragraph"><p>Лябмди, також відомі як <em>анонімні функції</em>, є багатою частиною того, що дозволяє робити ваш код стислим і розумілим.</p></div>
<div class="paragraph"><p>Метод <code>map</code> класу <code>List</code> є типовим прикладом функції вищого гатунку - функції, що приймає іншу функцію в якості параметра.</p></div>
<div class="paragraph"><p>Ці два приклади еквівалентні, і показують, як помножити кожне число в списку на 2, передаючи лямбду в метод <code>map</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// List(2,4,6)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>        <span style="font-style: italic"><span style="color: #9A1900">// List(2,4,6)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Ці приклади також еквівалентні до наступного коду, що використовує метод <code>double</code> замість лямбди:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">double</span></span><span style="color: #990000">(</span>i<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">double</span></span><span style="color: #990000">(</span>i<span style="color: #990000">))</span>   <span style="font-style: italic"><span style="color: #9A1900">// List(2,4,6)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span>double<span style="color: #990000">)</span>           <span style="font-style: italic"><span style="color: #9A1900">// List(2,4,6)</span></span></tt></pre></div></div>
<div class="literalblock">
<div class="content">
<pre><code>Якщо ви не бачили метод `map` до цього, він застосовує надану функцію до кожного елемента списку, видаючи новий список з отриманими результатами.</code></pre>
</div></div>
<div class="paragraph"><p>Передача лямбда до функцій вищого гатунку на класах колекцій (як <code>List</code>), є частиною досвіду Scala, дещо, що ви робитимете кожен день.</p></div>
</div>
<div class="sect2">
<h3 id="_незмінні_колекції">Незмінні колекції</h3>
<div class="paragraph"><p>Коли ви робите з незмінними колекціями, <code>List</code>, <code>Vector</code>, незмінними класами <code>Map</code> та <code>Set</code>, важливо знати, що ці функції не змінюють колекцію, на якій вони викликаються. Замість цього вони повертають нову колекцію з оновленнями. Як результат, досить загальним є зчеплювати їх разом в "гнучкому" стилі, для вирішення проблем.</p></div>
<div class="paragraph"><p>Наприклад, цей приклад показує, як фільтрувати колекцію двічі, та потім помножити кожний елемент в тому, що залишилось:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// приклад списку</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> nums <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span><span style="color: #993399">1</span> to <span style="color: #993399">10</span><span style="color: #990000">).</span>toList   <span style="font-style: italic"><span style="color: #9A1900">// List(1,2,3,4,5,6,7,8,9,10)</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// методи можуть бути зціплені</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">nums.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&gt;</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>
            <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">7</span><span style="color: #990000">)</span>
            <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">10</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// result: x == List(40, 50, 60)</span></span></tt></pre></div></div>
<div class="paragraph"><p>На додаток до функцій вищого гатунку, які використовуються в стандартній бібліотеці, ви також можете створити власні.</p></div>
</div>
<div class="sect2">
<h3 id="_об_8217_єкти_синглтони">Об&#8217;єкти-синглтони</h3>
<div class="paragraph"><p>В Scala ключове слово <code>object</code> створює об&#8217;єкт-синглтон. Інакше кажучи, <code>object</code> визначає клас, що має рівно один примірник.</p></div>
<div class="paragraph"><p>Об&#8217;єкти мають декілька застосувань:</p></div>
<div class="ulist"><ul>
<li>
<p>
Вони використовуються для створення колекцій допоміжних методів-утіліт
</p>
</li>
<li>
<p>
<em>Об&#8217;єкт-компанйон</em> - це об&#8217;єкт , що має те саме ім&#8217;я, що і клас, з яким він поділяє один файл. В такій ситуації клас також називається <em>класом-компанйоном</em>
</p>
</li>
<li>
<p>
Вони використовуються для реалізації трейтів, щоб створити <em>модулі</em>
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_допоміжні_методи_утіліти">Допоміжні методи-утіліти</h4>
<div class="paragraph"><p>Оскільки <code>object</code> є синглтоном, його методи можуть бути досяжними, як методи <code>static</code> в Java класі. Наприклад, цей об&#8217;єкт <code>StringUtils</code> містить невелику колекцію методів, пов&#8217;язаних з рядками:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">object</span></span> StringUtils<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">isNullOrEmpty</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Boolean</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">||</span> s<span style="color: #990000">.</span>trim<span style="color: #990000">.</span>isEmpty
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">leftTrim</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">s.replaceAll</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"^</span><span style="color: #CC33CC">\\</span><span style="color: #FF0000">s+"</span><span style="color: #990000">,</span> <span style="color: #FF0000">""</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">rightTrim</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">s.replaceAll</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"</span><span style="color: #CC33CC">\\</span><span style="color: #FF0000">s+$"</span><span style="color: #990000">,</span> <span style="color: #FF0000">""</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Оскільки <code>StringUtils</code> є синглтоном, його методи можуть бути викликані на об&#8217;єкті:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">StringUtils.isNullOrEmpty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">""</span><span style="color: #990000">)</span>    <span style="font-style: italic"><span style="color: #9A1900">// true</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">StringUtils.isNullOrEmpty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"a"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// false</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_об_8217_єкти_компанйони">Об&#8217;єкти-компанйони</h4>
<div class="paragraph"><p>Компанйон-клас або компанйон-об&#8217;єкт можуть отримувати доступ до приватних членів свого компанйона. Використовуйте компанйон-об&#8217;єкт для методів, що не є специфічними для примірників компанйон-класа.</p></div>
<div class="paragraph"><p>Цей приклад демонструє, як метод <code>area</code> в компанйон класі має доступ до приватного метода <code>calculateArea</code> в компанйон-об&#8217;єкті:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> scala<span style="color: #990000">.</span>math<span style="color: #990000">.*</span>

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Circle</span><span style="color: #990000">(</span>radius<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #000080">import</span></span> Circle<span style="color: #990000">.*</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> area<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">calculateArea</span></span><span style="color: #990000">(</span>radius<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">object</span></span> Circle<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">calculateArea</span></span><span style="color: #990000">(</span>radius<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    Pi <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">pow</span></span><span style="color: #990000">(</span>radius<span style="color: #990000">,</span> <span style="color: #993399">2.0</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> circle1 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Circle</span></span><span style="color: #990000">(</span><span style="color: #993399">5.0</span><span style="color: #990000">)</span>
circle1<span style="color: #990000">.</span>area   <span style="font-style: italic"><span style="color: #9A1900">// Double = 78.53981633974483</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_створення_модулів_з_трейтів">Створення модулів з трейтів</h4>
<div class="paragraph"><p>Об&#8217;єкти також можуть використовуватись для реалізації трейтів, щоб створити модулі. Цей прийом бере два трейти, і комбінує їх, щоб створити конкретний <code>object</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">AddService</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">+</span> b

<span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">MultiplyService</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">multiply</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">*</span> b

<span style="font-style: italic"><span style="color: #9A1900">// реалізація трейтів в якості об'єкта</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">object</span></span> MathService <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> AddService<span style="color: #990000">,</span> MultiplyService

<span style="font-style: italic"><span style="color: #9A1900">// використання об'єкту</span></span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> MathService<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #000000">println(add</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span><span style="color: #993399">1</span><span style="color: #990000">))</span>        <span style="font-style: italic"><span style="color: #9A1900">// 2</span></span>
<span style="font-weight: bold"><span style="color: #000000">println(multiply</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">,</span><span style="color: #993399">2</span><span style="color: #990000">))</span>   <span style="font-style: italic"><span style="color: #9A1900">// 4</span></span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_колекції">Колекції</h3>
<div class="paragraph"><p>Бібліотека Scala має багатий набір класів колекцій, і ці класи мають багатий набір методів. Класи колекцій доступні в змінній та незмінній формі.</p></div>
<div class="sect3">
<h4 id="_створення_списків">Створення списків</h4>
<div class="paragraph"><p>Щоб дати вам відчути смак того, як це робить, ось деякі приклади, що використовують клас <code>List</code>, що є незмінним класом зв&#8217;язаного списку. Ці приклади показують різні шляхи створити заповнений <code>List</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>           <span style="font-style: italic"><span style="color: #9A1900">// a: List[Int] = List(1, 2, 3)</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// Диапазони</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span><span style="color: #993399">1</span> to <span style="color: #993399">5</span><span style="color: #990000">).</span>toList         <span style="font-style: italic"><span style="color: #9A1900">// b: List[Int] = List(1, 2, 3, 4, 5)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span><span style="color: #993399">1</span> to <span style="color: #993399">10</span> by <span style="color: #993399">2</span><span style="color: #990000">).</span>toList   <span style="font-style: italic"><span style="color: #9A1900">// c: List[Int] = List(1, 3, 5, 7, 9)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> e <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span><span style="color: #993399">1</span> until <span style="color: #993399">5</span><span style="color: #990000">).</span>toList      <span style="font-style: italic"><span style="color: #9A1900">// e: List[Int] = List(1, 2, 3, 4)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> f <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List.range</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">5</span><span style="color: #990000">)</span>        <span style="font-style: italic"><span style="color: #9A1900">// f: List[Int] = List(1, 2, 3, 4)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> g <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List.range</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">10</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>    <span style="font-style: italic"><span style="color: #9A1900">// g: List[Int] = List(1, 4, 7)</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_методи_списків">Методи списків</h4>
<div class="paragraph"><p>Коли ви вже маєте заповнений список, наступні приклади показують деяки з етодів, які ви можете викликати на ньому. Зауважте, що всі вони є функціональними, тобто всі вони не змінюють колекцію, на якій викликаються. Замість цього вони повертають нову колекцію з оновленими елементами. Результати кожної такої операції показані в коментарях:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// деякий список</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">,</span> <span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">30</span><span style="color: #990000">,</span> <span style="color: #993399">40</span><span style="color: #990000">,</span> <span style="color: #993399">10</span><span style="color: #990000">)</span>      <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 30, 40, 10)</span></span>

<span style="font-weight: bold"><span style="color: #000000">a.drop</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">)</span>                             <span style="font-style: italic"><span style="color: #9A1900">// List(30, 40, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.dropWhile</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">25</span><span style="color: #990000">)</span>                   <span style="font-style: italic"><span style="color: #9A1900">// List(30, 40, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.filter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">25</span><span style="color: #990000">)</span>                      <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.slice</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">,</span><span style="color: #993399">4</span><span style="color: #990000">)</span>                          <span style="font-style: italic"><span style="color: #9A1900">// List(30, 40)</span></span>
a<span style="color: #990000">.</span>tail                                <span style="font-style: italic"><span style="color: #9A1900">// List(20, 30, 40, 10)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.take</span></span><span style="color: #990000">(</span><span style="color: #993399">3</span><span style="color: #990000">)</span>                             <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 30)</span></span>
<span style="font-weight: bold"><span style="color: #000000">a.takeWhile</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">&lt;</span> <span style="color: #993399">30</span><span style="color: #990000">)</span>                   <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20)</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// flatten</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List(List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span><span style="color: #993399">2</span><span style="color: #990000">),</span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">3</span><span style="color: #990000">,</span><span style="color: #993399">4</span><span style="color: #990000">))</span>
a<span style="color: #990000">.</span>flatten                             <span style="font-style: italic"><span style="color: #9A1900">// List(1, 2, 3, 4)</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// map, flatMap</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> nums <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"one"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"two"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">nums.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">.</span>toUpperCase<span style="color: #990000">)</span>               <span style="font-style: italic"><span style="color: #9A1900">// List("ONE", "TWO")</span></span>
<span style="font-weight: bold"><span style="color: #000000">nums.flatMap</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">.</span>toUpperCase<span style="color: #990000">)</span>           <span style="font-style: italic"><span style="color: #9A1900">// List('O', 'N', 'E', 'T', 'W', 'O')</span></span></tt></pre></div></div>
<div class="paragraph"><p>Ці приклади показують, як методи <code>foldLeft</code> та <code>reduceLeft</code> використовуються для підсумку значень в послідовності цілих:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> firstTen <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span><span style="color: #993399">1</span> to <span style="color: #993399">10</span><span style="color: #990000">).</span>toList    <span style="font-style: italic"><span style="color: #9A1900">// List(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</span></span>

<span style="font-weight: bold"><span style="color: #000000">firstTen.reduceLeft</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">+</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span>         <span style="font-style: italic"><span style="color: #9A1900">// 55</span></span>
<span style="font-weight: bold"><span style="color: #000000">firstTen.foldLeft(100)</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">+</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span>      <span style="font-style: italic"><span style="color: #9A1900">// 155 (100 is a “seed” value)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Є багато інших методів, доступних для класів колекцій в Scala, і вони описані в главі <em>Колекції</em>, та в документації по API.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_тапли">Тапли</h3>
<div class="paragraph"><p><em>Тапли</em> в Scala є типом, що дозволяє вам просто покласти колекцію різних типів в той самий контейнер. Наприклад, ми маємо такий кейс клас <code>Person</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ось як ми створюємо тапл, що містить значення <code>Int</code>, <code>String</code> та власний тип <code>Person</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> t <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span><span style="color: #993399">11</span><span style="color: #990000">,</span> <span style="color: #FF0000">"eleven"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Eleven"</span><span style="color: #990000">))</span></tt></pre></div></div>
<div class="paragraph"><p>Як тільки ми маємо тапл, ви можете отримати значення через прикріплення їх до змінних, або отримати їх за порядковими номерами:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">t</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// 11</span></span>
<span style="font-weight: bold"><span style="color: #000000">t</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// "eleven"</span></span>
<span style="font-weight: bold"><span style="color: #000000">t</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// Person("Eleven")</span></span></tt></pre></div></div>
<div class="paragraph"><p>Ви також можете використати підхід <em>екстрактора</em>, щоб призначити поля тапла до імен змінних:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> <span style="color: #990000">(</span>num<span style="color: #990000">,</span> str<span style="color: #990000">,</span> person<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> t

<span style="font-style: italic"><span style="color: #9A1900">// val num: Int = 11</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// val str: String = eleven</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// val person: Person = Person(Eleven)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Тапли гарні для тих випадків, коли ви бажаєте покласти колекцію гетерогенних типів в малу колекціє-подібну структуру. Дивіться референсну документацію щодо деталей по таплам.</p></div>
</div>
<div class="sect2">
<h3 id="_контекстуальні_абстракції">Контекстуальні абстракції</h3>
<div class="paragraph"><p>За певних обставин ви можете уникнути деяких параметрів у викликах методів, які можна вважати повторюваннями.</p></div>
<div class="paragraph"><p>Такі параметри називаються <em>контекстуальними параметрами</em>, оскільки вони виводяться компілятором з контексту, що оточує виклик методу.</p></div>
<div class="paragraph"><p>Наприклад, розглянемо програму, що сортує список адрес за двома критеріями: назва міста, та потім назва вулиці.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> addresses<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span>Address<span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">...</span>

<span style="font-weight: bold"><span style="color: #000000">addresses.sortBy</span></span><span style="color: #990000">(</span>address <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #990000">(</span>address<span style="color: #990000">.</span>city<span style="color: #990000">,</span> address<span style="color: #990000">.</span>street<span style="color: #990000">))</span></tt></pre></div></div>
<div class="paragraph"><p>Метод <code>sortBy</code> приймає функцію, що для кожної адреси повертає значення, по якому треба порівнювати адреси один з одним. В цьому випадку ми передаємо функцію, що повертає пару, яка містить назву міста та назву вулиці.</p></div>
<div class="paragraph"><p>Зауважте, що ми тольки вказуємо, <em>що</em> треба порівняти, але не <em>як</em> виконувати порівняння. Як алгоритм сортування знає, як порівнюються пари <code>String</code>?</p></div>
<div class="paragraph"><p>Насправді, метод <code>sortBy</code> приймає другий параметр, параметр <code>context</code>, який виводиться компілятором. Він не з&#8217;являється в попередньому прикладі, бо він надається компілятором.</p></div>
<div class="paragraph"><p>Цей другий параметр реалізує <em>як</em> порівнювати. Зручно уникати його, оскільки ми загалом знаємо, що <code>String</code> порівнюються в алфавітному порядку.</p></div>
<div class="paragraph"><p>Однак, також завжди можливо передати параметр явно:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">addresses.sortBy</span></span><span style="color: #990000">(</span>address <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #990000">(</span>address<span style="color: #990000">.</span>city<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">address.street))</span></span><span style="color: #990000">(</span>using <span style="font-weight: bold"><span style="color: #000000">Ordering.Tuple2</span></span><span style="color: #990000">(</span>Ordering<span style="color: #990000">.</span>String<span style="color: #990000">,</span> Ordering<span style="color: #990000">.</span>String<span style="color: #990000">))</span></tt></pre></div></div>
<div class="paragraph"><p>В цьому випадку примірник <code>Ordering.Tuple2(Ordering.String, Ordering.String)</code> є саме той, що інакше буде виведений компілятором. Інакше кажучи, обоє приклади спродукують ту саму програму.</p></div>
<div class="paragraph"><p><em>Контекстуальні абстракції</em> використовуються, щоб уникнути повторюваного коду. Вони допомагають розробникам писати частини коду, що є розширювані і стислі в той самий час.</p></div>
<div class="paragraph"><p>Для додаткових деталей дивіться главу Контекстуальні абстракції в цій книзі, та також референсну документацію.</p></div>
</div>
<div class="sect2">
<h3 id="_визначння_вищого_рівня">Визначння вищого рівня</h3>
<div class="paragraph"><p>В Scala 3 всі типи визначень можуть бути записані на "верхньому рівні" ваших файлів з кодом. Наприклад, ви можете створити файл з назвою <code>MyCoolApp.scala</code> і покласти в нього такий зміст:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> scala<span style="color: #990000">.</span>collection<span style="color: #990000">.</span>mutable<span style="color: #990000">.</span>ArrayBuffer

enum Topping<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Cheese<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">,</span> Mushrooms

<span style="font-weight: bold"><span style="color: #000080">import</span></span> Topping<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Pizza</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> toppings <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">ArrayBuffer[Topping]</span></span><span style="color: #990000">()</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Pizza</span></span><span style="color: #990000">()</span>

<span style="font-weight: bold"><span style="color: #000000">extension</span></span> <span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> capitalizeAllWords <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">s.split</span></span><span style="color: #990000">(</span><span style="color: #FF0000">" "</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">map(_.capitalize).mkString</span></span><span style="color: #990000">(</span><span style="color: #FF0000">" "</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> hwUpper <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"hello, world"</span><span style="color: #990000">.</span>capitalizeAllWords

<span style="font-weight: bold"><span style="color: #0000FF">type</span></span> Money <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> BigDecimal

<span style="font-style: italic"><span style="color: #9A1900">// інші визначення ...</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">@</span></span>main <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> myApp <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  p<span style="color: #990000">.</span>toppings <span style="color: #990000">+</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Cheese
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"show me the code"</span><span style="color: #990000">.</span>capitalizeAllWords<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Як показано, немає потреби класти ці визначення в <code>package</code>, <code>class</code>, або іншу конструкцію.</p></div>
<div class="sect3">
<h4 id="_заміна_для_об_8217_єктів_пакунку">Заміна для об&#8217;єктів пакунку</h4>
<div class="paragraph"><p>Якщо ви знайомі зі Scala 2, цей підхід замінює <em>об&#8217;єкти пакунків</em>. Але хоча це значно простіше в використанні, вони роблять подібним чином: коли ви кладете визначення в пакунок на ім&#8217;я <code>foo</code>, ви можете потім отримати доступ до визначення в усіх пакунках під пакунком <code>foo</code>, як в пакунку <code>foo.bar</code> в прикладі нижче:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">package</span></span> foo <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">double</span></span><span style="color: #990000">(</span>i<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #000080">package</span></span> foo <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000080">package</span></span> bar <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">@</span></span>main <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> fooBarMain <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
      <span style="font-weight: bold"><span style="color: #000000">println(s"${double</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">)</span><span style="color: #FF0000">}</span><span style="color: #FF0000">")   // це робить</span>
<span style="color: #FF0000">  }</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Фігурні дужки використані в цьому прикладі щоб зробити наголос на вкладенні пакунків:</p></div>
<div class="paragraph"><p>Переваги цього підходу в тому, що ви можете покласти визначення в пакунок на ім&#8217;я <code>com.acme.myapp</code>, та потім посилатись на них з <code>com.acme.myapp.model</code> та <code>com.acme.myapp.controller</code>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_підсумок_2">Підсумок</h3>
<div class="paragraph"><p>В попередніх розділах ви побачили:</p></div>
<div class="ulist"><ul>
<li>
<p>
Як використовувати Scala REPL
</p>
</li>
<li>
<p>
Як створювати змінні <code>val</code> та <code>var</code>
</p>
</li>
<li>
<p>
Деякі загальні типи даних
</p>
</li>
<li>
<p>
Керівні структури
</p>
</li>
<li>
<p>
Як моделювати реальний світ в стилі OOP та FP
</p>
</li>
<li>
<p>
Як створювати та використовувати методи
</p>
</li>
<li>
<p>
Як використовувати лямбди (анонімні функції) та функції вищого гатунку
</p>
</li>
<li>
<p>
Як використовувати об&#8217;єкти для різних цілей
</p>
</li>
<li>
<p>
Вступ до контекстуальних абстракцій
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ми також згадали, що якщо ви бажаєте замість REPL використовувати плейграунд в браузері, ви можете використовувати <code>Scastie.scala-lang.org</code> або <code>ScalaFiddle.io</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_перший_погляд_на_типи">Перший погляд на типи</h3>
<div class="sect3">
<h4 id="_всі_значення_мають_тип">Всі значення мають тип</h4>
<div class="paragraph"><p>В Scala всі значення мають тип, включаючи числові значення та функції. Диаграма знизу ілюструє підмножину ієрархії типів:</p></div>
<div class="imageblock">
<div class="content">
<img src="https:docs.scala-lang.org/resources/images/scala3-book/hierarchy.svg" alt="https:docs.scala-lang.org/resources/images/scala3-book/hierarchy.svg" />
</div>
</div>
<div class="paragraph"><p><code>Any</code> є супертипом всіх типів, і також має назву <em>верхнього типу</em>. Він визначає деякі універсальні методи, як <code>equals</code>, <code>hashCode</code>, <code>toString</code>.</p></div>
<div class="paragraph"><p>Тип <code>Any</code> має підтип <code>Matchable</code>, що використовується для відмітки всіх типів, на яких ми можемо виконувати порівняння з шаблонами. Важливо гарантувати виклик властивості "<em>parametricity</em>". Ми не будемо тут заглиблюватись в деталі, але в підсумку це означає, що ми не можемо виконувати порівняння шаблонів на значеннях тпу <code>Any</code>, але тільки на значеннях, що є підтипами <code>Matchable</code>. Референсна документація містить більше інформації щодо <code>Matchable</code>.</p></div>
<div class="paragraph"><p><code>Matchable</code> має два важливих субтипи: <code>AnyVal</code> та <code>AnyRef</code>.</p></div>
<div class="paragraph"><p><code>AnyVal</code> представляє типи значень. Є декілька перед-визначених типів значень, і всі вони не-порожні (non-nullable): <code>Double</code>, <code>Float</code>, <code>Long</code>, <code>Int</code>, <code>Short</code>, <code>Byte</code>, <code>Char</code>, <code>Unit</code>, <code>Boolean</code>. <code>Unit</code> є тип значення, що не несе осмсисленої інформації. Є рівно один примірник <code>Unit</code>, на який можна посилатись як <code>()</code>.</p></div>
<div class="paragraph"><p><code>AnyRef</code> представляє типи посилань. Всі типи не-значення визначаються як типи посилань. Кожний власно-визначений тип в Scala є субтипом <code>AnyRef</code>. Якщо Scala використовується в контексті Java rintime, <code>AnyRef</code> відповідає <code>java.lang.Object</code>.</p></div>
<div class="paragraph"><p>В мовах на основі тверждень для методів, що не повертають значення, використовується <code>void</code>. Якщо ви пишете на Scala метод, що не повертає значення, як наступний метод, для тієї ж цілі використовується <code>Unit</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">printIt</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Any<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>a<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ось приклад того, що рядки, цілі, символи, логічні значення та функції всі є примірниками <code>Any</code>, і можуть розглядатись так само, як будь-який інший об&#8217;єкт:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> list<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span>Any<span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span>
  <span style="color: #FF0000">"a string"</span><span style="color: #990000">,</span>
  <span style="color: #993399">732</span><span style="color: #990000">,</span>  <span style="font-style: italic"><span style="color: #9A1900">// ціле</span></span>
  <span style="color: #FF0000">'c'</span><span style="color: #990000">,</span>  <span style="font-style: italic"><span style="color: #9A1900">// символ</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span> <span style="font-style: italic"><span style="color: #9A1900">// логічне</span></span>
  <span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"анонімна функція, що повертає рядок"</span>
<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #000000">list.foreach</span></span><span style="color: #990000">(</span>element <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>element<span style="color: #990000">))</span></tt></pre></div></div>
<div class="paragraph"><p>Код визнначає значення <code>list</code> типу <code>List[Any]</code>. Список ініціалізований елементами різних типів, але кожний є примірником <code>scala.Any</code>, так що ми можемо додати їх до списку.</p></div>
<div class="paragraph"><p>Ось вивід програми:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>a string
<span style="color: #993399">732</span>
c
<span style="font-weight: bold"><span style="color: #0000FF">true</span></span>
<span style="color: #990000">&lt;</span>function<span style="color: #990000">&gt;</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_типи_значення_в_scala">Типи-значення в Scala</h4>
<div class="paragraph"><p>Як показано вище, числові типи в Scala розширюють <code>AnyVal</code>, і вони є повноцінними об&#8217;єктами. Ці приклади показують, як декларувати змінні ціх числових типів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Byte</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> l<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Long</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Short</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> d<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2.0</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> f<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Float</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">3.0</span></tt></pre></div></div>
<div class="paragraph"><p>В перших чотирьох прикладах, якщо ви не вкажете тип явно, число 1 буде по замовчанню <code>Int</code>, так що якщо ви бажаєте інший тип, <code>Int</code>, <code>Long</code>, або <code>Short</code>, вам треба вказати його явно, як це показано. Числа з крапкою (як 2.0) по замовчанню відповідають <code>Double</code>, так що яко вам треба отримати <code>Float</code>, вам теба вказати це явно, як показано вище.</p></div>
<div class="paragraph"><p>Оскільки <code>Int</code> та <code>Double</code> є типами по замовчанню, ви зазвичай створюєте їх без явного декларування типу:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">123</span>   <span style="font-style: italic"><span style="color: #9A1900">// Int</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1.0</span>   <span style="font-style: italic"><span style="color: #9A1900">// Double</span></span></tt></pre></div></div>
<div class="paragraph"><p>В вашому коді ви також можете додавати до чисел символи <code>L</code>, <code>D</code>, <code>F</code>, та еквіваленти в нижньому реєстрі, щоб вказати, що це значення <code>Long</code>, <code>Double</code> або <code>Float</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 1<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000L</span>   <span style="font-style: italic"><span style="color: #9A1900">// val x: Long = 1000</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> y <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span><span style="color: #990000">.</span>2D     <span style="font-style: italic"><span style="color: #9A1900">// val y: Double = 2.2</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> z <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">3</span><span style="color: #990000">.</span>3F     <span style="font-style: italic"><span style="color: #9A1900">// val z: Float = 3.3</span></span></tt></pre></div></div>
<div class="paragraph"><p>Scala також має типи <code>String</code> та <code>Char</code>, що загалом можна декларувати в неявній формі:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Bill"</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">'a'</span></tt></pre></div></div>
<div class="paragraph"><p>Як було показане, рядки оточуються подвійними лапками - або трьома-подвійними для багатьох рядків - та символи оточуються в одинарні лапки.</p></div>
<div class="paragraph"><p>Ось типи даних та відповідні диапазони значень:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="9%" />
<col width="90%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Тип даних</p></td>
<td align="left" valign="top"><p class="table">Можливі значення</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Boolean</code></p></td>
<td align="left" valign="top"><p class="table"><code>true</code> або <code>false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Byte</code></p></td>
<td align="left" valign="top"><p class="table">8 бітове знакове ціле, -128 до 127</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Short</code></p></td>
<td align="left" valign="top"><p class="table">16 бітове знакове ціле, -32,768 до 32,767</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Int</code></p></td>
<td align="left" valign="top"><p class="table">32 бітове знакове ціле, ~2e9</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Long</code></p></td>
<td align="left" valign="top"><p class="table">64 бітове знакове ціле, ~2e18</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Float</code></p></td>
<td align="left" valign="top"><p class="table">IEEE 754 single-precision float</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Double</code></p></td>
<td align="left" valign="top"><p class="table">IEEE 754 double-precision float</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Char</code></p></td>
<td align="left" valign="top"><p class="table">16 бітовий цілий символ Unicode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>String</code></p></td>
<td align="left" valign="top"><p class="table">послідовність <code>Char</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_bigint_та_bigdecimal">BigInt та BigDecimal</h4>
<div class="paragraph"><p>Коли вам потрібні справді великі числа, використовуйте типи <code>BigInt</code> та <code>BigDecimal</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">BigInt</span></span><span style="color: #990000">(</span>1<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>234<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>567<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>890<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>987<span style="font-weight: bold"><span style="color: #0000FF">_</span></span>654<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">321L</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">BigDecimal</span></span><span style="color: #990000">(</span>123<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">456.789</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Тоді, як <code>Double</code> та <code>Float</code> представляють приблизні десяткові значення, <code>BigDecimal</code> використовується для точної арифметики, як коли маємо справу з грошима.</p></div>
<div class="paragraph"><p>Гарна новина щодо <code>BigInt</code> та <code>BigDecimal</code> в тому, що вони підтримують всі оперції, які ми застосовуємо з числовими типами:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">BigInt</span></span><span style="color: #990000">(</span><span style="color: #993399">1234567890</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// scala.math.BigInt = 1234567890</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> b <span style="color: #990000">+</span> b                <span style="font-style: italic"><span style="color: #9A1900">// scala.math.BigInt = 2469135780</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> d <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> b <span style="color: #990000">*</span> b                <span style="font-style: italic"><span style="color: #9A1900">// scala.math.BigInt = 1524157875019052100</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_два_зауваження_щодо_рядків">Два зауваження щодо рядків</h4>
<div class="paragraph"><p>Scala рядки подібні до Java рядків, але вони мають дві великі додаткові можливості:</p></div>
<div class="ulist"><ul>
<li>
<p>
Вони підтримують інтерполяцію рядків
</p>
</li>
<li>
<p>
Також легко створити багаторядкові конструкції
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_інтерполяція_рядків_2">Інтерполяція рядків</h4>
<div class="paragraph"><p>Інтерполяція рядків провадить дуже наочний спосіб використовувати змінні в рядках. Наприклад, маючи такі три змінні:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> firstName <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"John"</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> mi <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">'C'</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> lastName <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Doe"</span></tt></pre></div></div>
<div class="paragraph"><p>Ви можете зкомбінувати ці три змінні в рядок, як цей:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"Name: $firstName $mi $lastName"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// "Name: John C Doe"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Тільки поставьте перед рядком літеру <code>s</code>, та символ <code>$</code> перед ім&#8217;ям вашої змінної в рядку.</p></div>
<div class="paragraph"><p>Щоб підставити потенційно більші вирази в рядку, заточіть їх в фігурні дужки:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"2 + 2 = ${2 + 2}"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints "2 + 2 = 4"</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">-</span><span style="color: #993399">1</span>
<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"x.abs = ${x.abs}"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints "x.abs = 1"</span></span></tt></pre></div></div>
<div class="sect4">
<h5 id="_інші_інтерполятори">Інші інтерполятори</h5>
<div class="paragraph"><p>Символ <code>s</code>, що ви ставите перед рядком, є тільки одним з можливих інтерполяторів. Якщо ви підставите <code>f</code> замість <code>s</code>, ви зможете використовувати <code>printf</code>-подібний синтаксис в рядку. Більше того, інтерполятор рядка є тільки особливий метод, і можливо визначити ваш власний. Наприклад, деякі бібліотеки бази даних визначають дуже потужний інтерполятор <code>sql</code>.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="_багаторядковий_рядок">"Багаторядковий" рядок</h4>
<div class="paragraph"><p>Багаторядковий рядок створюється, включаючи рядок в потрійні подвійні лапки:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> quote <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"""The essence of Scala:</span>
<span style="color: #FF0000">               Fusion of functional and object-oriented</span>
<span style="color: #FF0000">               programming in a typed setting."""</span></tt></pre></div></div>
<div class="paragraph"><p>Один з недоліків цього базового підходу в тому, що всі рядки після першого рядка зсунуті, і це виглядає так:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #FF0000">"The essence of Scala:</span>
<span style="color: #FF0000">               Fusion of functional and object-oriented</span>
<span style="color: #FF0000">               programming in a typed setting."</span></tt></pre></div></div>
<div class="paragraph"><p>Коли проміжки важливі, покладіть символ <code>|</code> перед всіма рядками після першого, та викличте метод <code>stripMargin</code> після рядка:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> quote <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"""The essence of Scala:</span>
<span style="color: #FF0000">               |Fusion of functional and object-oriented</span>
<span style="color: #FF0000">               |programming in a typed setting."""</span><span style="color: #990000">.</span>stripMargin</tt></pre></div></div>
<div class="paragraph"><p>Тепер всі рядки вирівняні по лівому краю:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #FF0000">"The essence of Scala:</span>
<span style="color: #FF0000">Fusion of functional and object-oriented</span>
<span style="color: #FF0000">programming in a typed setting."</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_приведення_типів">Приведення типів</h3>
<div class="paragraph"><p>Типи значень можуть приводитись наступним чином:</p></div>
<div class="imageblock">
<div class="content">
<img src="https://docs.scala-lang.org/resources/images/tour/type-casting-diagram.svg" alt="https://docs.scala-lang.org/resources/images/tour/type-casting-diagram.svg" />
</div>
</div>
<div class="paragraph"><p>Наприклад:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Long</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">987654321</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> y<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Float</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> x  <span style="font-style: italic"><span style="color: #9A1900">// 9.8765434E8 (зауважте, що при чьому дещо втрачається точність)</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> face<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Char</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">'☺'</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> number<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> face  <span style="font-style: italic"><span style="color: #9A1900">// 9786</span></span></tt></pre></div></div>
<div class="paragraph"><p>Приведення типів діє в один бік. Наступне не скомпілюється:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Long</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">987654321</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> y<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Float</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> x  <span style="font-style: italic"><span style="color: #9A1900">// 9.8765434E8</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> z<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Long</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> y   <span style="font-style: italic"><span style="color: #9A1900">// не пійде</span></span></tt></pre></div></div>
<div class="paragraph"><p>Ви також можете привести тип посилання до субтипу. Це розглядається далі.</p></div>
</div>
<div class="sect2">
<h3 id="_nothing_та_null">Nothing та null</h3>
<div class="paragraph"><p><code>Nothing</code> є субтипом всіх типів, і також має назву <em>нижнього типу</em>. Немає значення, яке б мало тип <code>Nothing</code>. Його загальне використання - вказати на не-завершенісь, таке як виклик виключення, вихід з програми, або нескінчений цикл - тобто, це тип виразу, що не обчислюється до значення, або метода, що не повертається нормально.</p></div>
<div class="paragraph"><p><code>Null</code> є субтипом всіх типів посилань (тобто любого субкласу <code>AnyRef</code>). Він має єдине значення, ідентифіковане ключовим літералом <code>null</code>. Наразі використання <code>null</code> розглядається як погана практика. Він повинен використовуватись в основному для взаємодії з іншими мовами на JVM. Додаткова опція компілятора змінює статус <code>Null</code>, щоб полагодити специфіку його використання. Ця опція може стати по замовчанню в майбутніх версіях Scala. Ви можете прочитати про це в документації по нових можливостях.</p></div>
<div class="paragraph"><p>В осяжному майбутньому <code>null</code> повинен зовсім ніколи не використовуватись в Scala. Альтернативи до використання <code>null</code> обговорюються в главі Функціональне програмування цієї книжки, та в документації з API.</p></div>
</div>
<div class="sect2">
<h3 id="_керівні_структури_2">Керівні структури</h3>
<div class="paragraph"><p>Scala має керівні структури, які ви очікуєте побачити в мовах програмування, включаючи:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>if / then / else</code>
</p>
</li>
<li>
<p>
<code>for</code> цикли
</p>
</li>
<li>
<p>
<code>while</code> цикли
</p>
</li>
<li>
<p>
<code>try / catch / finally</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Також мова має дві інші потужні конструкції, які ви, можливо, не бачили до цього, в залежності від вашого бекграунду програмування:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>for</code> вирази (також відомі як <em>for осяжності</em>)
</p>
</li>
<li>
<p>
<code>match</code> вирази
</p>
</li>
</ul></div>
<div class="paragraph"><p>Всі вони демонструються в наступних розділах.</p></div>
<div class="sect3">
<h4 id="_конструкція_if_then_else">Конструкція if/then/else</h4>
<div class="paragraph"><p>Однорядне твердження <code>if</code> виглядає в Scala так:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">1</span> then <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>x<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Якщо вам треба виконати декілька рядків після порівняння <code>if</code>, використовуйте цей синтаксис:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">1</span> then
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"x is 1, as you can see:"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>x<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Синтаксис <code>if / else</code> виглядає так:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">1</span> then
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"x is 1, as you can see:"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>x<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"x was not 1"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>І ось так виглядає <code>if / else if / else</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> then
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"negative"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">0</span> then
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"zero"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"positive"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ви можете опціонально включити твердження <code>end if</code> в кінці кожного виразу, за вашим бажанням:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">1</span> then
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"x is 1, as you can see:"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>x<span style="color: #990000">)</span>
end <span style="font-weight: bold"><span style="color: #0000FF">if</span></span></tt></pre></div></div>
<div class="sect4">
<h5 id="_вирази_if_else_завжди_повертають_значення">Вирази if / else завжди повертають значення</h5>
<div class="paragraph"><p>Зауважте, що порівняння <code>if/else</code> формують <em>вирази</em>, що означає, що вони повертають значення, яка можна зберегти в змінній. Через це немає потреби в окремому тернарному операторі:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> minValue <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> a <span style="color: #990000">&lt;</span> b then a <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> b</tt></pre></div></div>
<div class="paragraph"><p>Оскільки вони повертають значення, ви можете використовувати вирази <code>if/else</code> в якості тіла метода:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">compare</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> a <span style="color: #990000">&lt;</span> b then
    <span style="color: #990000">-</span><span style="color: #993399">1</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> b then
    <span style="color: #993399">0</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="color: #993399">1</span></tt></pre></div></div>
</div>
<div class="sect4">
<h5 id="_окремо_вираз_орієнтовне_програмування">Окремо: вираз-орієнтовне програмування</h5>
<div class="paragraph"><p>Як коротке зауваження щодо програмування загалом, коли кожний вираз, який ви пишете, повертає значення, на цей стиль посилаються як на <em>вираз-орієнтовне програмування</em>, або EOP. Наприклад, це <em>вираз</em>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> minValue <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> a <span style="color: #990000">&lt;</span> b then a <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> b</tt></pre></div></div>
<div class="paragraph"><p>Навпаки, рядки коду, що не повертають значень,називають <em>твердженнями</em>, і вони застосовуються заради своїх <em>побічних ефектів</em>. Наприклад, ці рядки коду не повертають значень, так що використовуються заради побічних ефектів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> b then <span style="font-weight: bold"><span style="color: #000000">action</span></span><span style="color: #990000">()</span>
<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hello"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Перший приклад виконує метод <code>action</code>, як побічний ефект того, що <code>a</code> дорівнює <code>b</code>. Другий приклад використовується для побічного ефекту, друку рядка на <code>STDOUT</code>. По мірі того, як ви будете більше вивчати Scala, ви почнете більше використовувати <em>вирази</em>, і меньше <em>твердження</em>.</p></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_цикли_for">Цикли for</h3>
<div class="paragraph"><p>В своєму найпростішому вигляді цикл Scala <code>for</code> може використовуватись для ітерації по елементах колекції. Наприклад, маючи послідовність цілих, ви можете пройти по елементах, та надрукувати їх значення:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> ints <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Seq</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Вираз <code>i &lt;- ints</code> відомий як <em>генератор</em>, і якщо ви відкидаєте дужкі в генераторі, потрібно ставити <code>do</code> перед кодом за ним. Інакше ви можете записати те саме таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Не зважаючи, який підхід ви обираєте, ось як це виглядатиме в Scala REPL:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> ints <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Seq</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span><span style="color: #993399">2</span><span style="color: #990000">,</span><span style="color: #993399">3</span><span style="color: #990000">)</span>
ints<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Seq<span style="color: #990000">[</span><span style="color: #009900">Int</span><span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>

scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span>
<span style="color: #993399">1</span>
<span style="color: #993399">2</span>
<span style="color: #993399">3</span></tt></pre></div></div>
<div class="paragraph"><p>Коли вам треба декілька рядків в блоці після <code>for</code> генератора, використовуйте наступний синтаксис:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
  i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> ints
<span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"i = $i, x = $x"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="sect3">
<h4 id="_декілька_генераторів">Декілька генераторів</h4>
<div class="paragraph"><p>Цикли <code>for</code> можуть мати декілька генераторів, як показано в цьому прикладі:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
  i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> <span style="color: #993399">1</span> to <span style="color: #993399">2</span>
  j <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> <span style="color: #FF0000">'a'</span> to <span style="color: #FF0000">'b'</span>
  k <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> <span style="color: #993399">1</span> to <span style="color: #993399">10</span> by <span style="color: #993399">5</span>
<span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"i = $i, j = $j, k = $k"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Цей приклад друкує наступне:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span><span style="color: #990000">,</span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a<span style="color: #990000">,</span> k <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span><span style="color: #990000">,</span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a<span style="color: #990000">,</span> k <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">6</span>
i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span><span style="color: #990000">,</span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> b<span style="color: #990000">,</span> k <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span><span style="color: #990000">,</span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> b<span style="color: #990000">,</span> k <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">6</span>
i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span><span style="color: #990000">,</span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a<span style="color: #990000">,</span> k <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span><span style="color: #990000">,</span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a<span style="color: #990000">,</span> k <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">6</span>
i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span><span style="color: #990000">,</span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> b<span style="color: #990000">,</span> k <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span><span style="color: #990000">,</span> j <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> b<span style="color: #990000">,</span> k <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">6</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_охоронці_2">Охоронці</h4>
<div class="paragraph"><p>Цикли <code>for</code> також можуть містити <code>if</code>-твердження, що відомі як <em>охоронці</em>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
  i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> <span style="color: #993399">1</span> to <span style="color: #993399">5</span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> i <span style="color: #990000">%</span> <span style="color: #993399">2</span> <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">0</span>
<span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Вивід цього циклу:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">2</span>
<span style="color: #993399">4</span></tt></pre></div></div>
<div class="paragraph"><p>Цикл <code>for</code> може мати стільки охоронців, скільки треба. Цей приклад друкує число 4 в певний спосіб:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
  i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> <span style="color: #993399">1</span> to <span style="color: #993399">10</span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> i <span style="color: #990000">&gt;</span> <span style="color: #993399">3</span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> i <span style="color: #990000">&lt;</span> <span style="color: #993399">6</span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> i <span style="color: #990000">%</span> <span style="color: #993399">2</span> <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">0</span>
<span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span></tt></pre></div></div>
<div class="sect4">
<h5 id="_використання_for_з_map">Використання for з Map</h5>
<div class="paragraph"><p>Ви можете використовувати цикли <code>for</code> з <code>Map</code>. Наприклад, маємо <code>Map</code> зі скорочених та повних назв штатів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> states <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Map</span></span><span style="color: #990000">(</span>
  <span style="color: #FF0000">"AK"</span> <span style="color: #990000">-&gt;</span> <span style="color: #FF0000">"Alaska"</span><span style="color: #990000">,</span>
  <span style="color: #FF0000">"AL"</span> <span style="color: #990000">-&gt;</span> <span style="color: #FF0000">"Alabama"</span><span style="color: #990000">,</span>
  <span style="color: #FF0000">"AR"</span> <span style="color: #990000">-&gt;</span> <span style="color: #FF0000">"Arizona"</span>
<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ви можете роздрукувати ключі та значення в циклі <code>for</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>abbrev<span style="color: #990000">,</span> fullName<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> states <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"$abbrev: $fullName"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ось як це виглядатиме в REPL:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span>abbrev<span style="color: #990000">,</span> fullName<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> states <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"$abbrev: $fullName"</span><span style="color: #990000">)</span>
AK<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Alaska
AL<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Alabama
AR<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Arizona</tt></pre></div></div>
<div class="paragraph"><p>По мірі того, як цикл <code>for</code> ітерує по мапі, кожна пара ключ/значення буде прив&#8217;язана до пари змінних, <code>fullName</code> та <code>abbrev</code>, що є таплом:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">(</span>abbrev<span style="color: #990000">,</span> fullName<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> states</tt></pre></div></div>
<div class="paragraph"><p>По мірі виконання циклу змінній <code>abbrev</code> буде присвоєне поточне значення <em>ключа</em> мапи, та <code>fullName</code> отримає поточне <em>значення</em> мапи.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="_for_вирази_2">for вирази</h4>
<div class="paragraph"><p>В попередніх прикладах циклу <code>for</code> ці цикли виконувались заради <em>побічних ефектів</em>, зокрема друку в STDOUT за допомогою <code>println</code>.</p></div>
<div class="paragraph"><p>Важливо знати, що ви також можете створити <code>for</code> <em>вирази</em>, що повертають значення. Ви утворюєте <code>for</code> вираз, додаючи ключове слово <code>yield</code>, та вираз, що повертається:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> list <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
    i <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> <span style="color: #993399">10</span> to <span style="color: #993399">12</span>
  <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span>
    i <span style="color: #990000">*</span> <span style="color: #993399">2</span>

<span style="font-style: italic"><span style="color: #9A1900">// list: IndexedSeq[Int] = Vector(20, 22, 24)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Після виконання циклу <code>for</code> змінна <code>list</code> міститиме <code>Vector</code> з показаними значеннями. Ось як працює цей вираз:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Вираз <code>for</code> починає ітерувати по значенням диапазону <code>(10,11,12)</code>. Спочатку обробляється значення 10, множиться за 2, і цей результат <code>yield</code> (видається) як значення 20.
</p>
</li>
<li>
<p>
Далі обробляється 11 - друге число з диапазона. Воно множиться на 2, і видається число 22. Ви можете вважати, що ці отримані результати зберігаються в тимчасовому сховищі.
</p>
</li>
<li>
<p>
Нарешті, обробляється число 12 з диапазону, множиться на 2, видаючи число 24. Цикл завершується в цій точці, видаючи остаточний результат, вектор <code>Vector(20,22,24)</code>.
</p>
</li>
</ol></div>
<div class="paragraph"><p>Хоча ціль цього розділу - продемонструвати <code>for</code> вирази, може бути корисним розуміти, що показаний вираз <code>for</code> еквівалентний до цього виклику метода <code>map</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> list <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span><span style="color: #993399">10</span> to <span style="color: #993399">12</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">map</span></span><span style="color: #990000">(</span>i <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> i <span style="color: #990000">*</span> <span style="color: #993399">2</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p><code>for</code> вирази можуть використовуватись кожний раз, коли вам треба обійти всі елементи колекції, та застосувати для кожного елементу алгоритм для утворення нового списку.</p></div>
<div class="paragraph"><p>Цей приклад показує, як використовувати блок коду після <code>yield</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> names <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"_olivia"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"_walter"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"_peter"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> capNames <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> names <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> nameWithoutUnderscore <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">name.drop</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> capName <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> nameWithoutUnderscore<span style="color: #990000">.</span>capitalize
  capName

<span style="font-style: italic"><span style="color: #9A1900">// capNames: List[String] = List(Olivia, Walter, Peter)</span></span></tt></pre></div></div>
<div class="sect4">
<h5 id="_використання_for_виразів_як_тіла_метода">Використання for виразів як тіла метода</h5>
<div class="paragraph"><p>Оскільки <code>for</code> вираз видає результат, він може бути використаний як тіло метода, що повертає корисне значення. Цей метод повертає всі значення наданого списку цілих, між 3 та 10:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">between3and10</span></span><span style="color: #990000">(</span>xs<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span><span style="color: #009900">Int</span><span style="color: #990000">])</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span><span style="color: #009900">Int</span><span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">for</span></span>
    x <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> xs
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">3</span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="color: #990000">&lt;</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">10</span>
  <span style="font-weight: bold"><span style="color: #0000FF">yield</span></span> x

<span style="font-weight: bold"><span style="color: #000000">between3and10(List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> <span style="color: #993399">7</span><span style="color: #990000">,</span> <span style="color: #993399">11</span><span style="color: #990000">))</span>   <span style="font-style: italic"><span style="color: #9A1900">// : List[Int] = List(3, 7)</span></span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_while_цикли">while цикли</h3>
<div class="paragraph"><p>Синтаксис циклу <code>while</code> в Scala виглядає таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0</span>

<span style="font-weight: bold"><span style="color: #0000FF">while</span></span> i <span style="color: #990000">&lt;</span> <span style="color: #993399">3</span> <span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span>
  i <span style="color: #990000">+</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span></tt></pre></div></div>
<div class="paragraph"><p>Якщо ви використовуєте дужки для перевірки умови, тоді це записується таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0</span>

<span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span>i <span style="color: #990000">&lt;</span> <span style="color: #993399">3</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>i<span style="color: #990000">)</span>
  i <span style="color: #990000">+</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_match_вирази">match вирази</h3>
<div class="paragraph"><p>Порівняння шаблонів є головною властивістю функціональних мов програмування, і Scala включчає вирази <code>match</code> з багатьма можливостями.</p></div>
<div class="paragraph"><p>В найбільш простому випадку ви використовуєте вираз <code>match</code> як твердження <code>switch</code> в Java, порівнюючи випадки на основі цілих значень. Зауважте, що це вираз, оскільки він обчислює результат:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> scala<span style="color: #990000">.</span>annotation<span style="color: #990000">.</span>switch

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">5</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> day <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">0</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Sunday"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">1</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Monday"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">2</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Tuesday"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">3</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Wednesday"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">4</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Thursday"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">5</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Friday"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">6</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Saturday"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"invalid day"</span>   <span style="font-style: italic"><span style="color: #9A1900">// the default, catch-all</span></span>

  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>day<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>В цьому прикладі змінна <code>i</code> перевіряється на рівнісь з переліченими значеннями. Якщо число в межах від 0 до 6, <code>day</code> отримує значення рядка, що представляє назву одного з днів тижня. Якщо ні - спрацьовує випадок перехоплення, представлений символом підкреслення <code>_</code>, і <code>day</code> отримує рядок <code>"invalid day"</code>.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Коли пишете простий вираз `match`, як цей, рекомендовано використовувати анотацію `@switch` для змінної `i`. Анотація провадить попередження, якщо `switch` не може скомпілюватись як `tableswitch` або `lookupswitch`, що є кращими за продуктивністю.</code></pre>
</div></div>
<div class="sect3">
<h4 id="_використання_значення_по_замовчанню">Використання значення по замовчанню</h4>
<div class="paragraph"><p>Якщо вам треба отримати значення по замовчанню в <code>match</code> виразі, просто надайте ім&#8217;я змінної в лівій частині <code>case</code> твердження, та потім використовуйте це ім&#8217;я в правій частині твердження:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> digit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">0</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"0"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">1</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"1"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> what <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"You gave me: $what"</span>

  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>digit<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>В цьому прикладі змінна має назву <code>what</code>, щоб показати, що тут може бути довільне ім&#8217;я. Ви також можете використати підкреслення, щоб проігнорувати це значення.</p></div>
</div>
<div class="sect3">
<h4 id="_обробка_декількох_співпадінь_в_одному_рядку">Обробка декількох співпадінь в одному рядку</h4>
<div class="paragraph"><p>Як вже згадувалось, вирази <code>match</code> мають багато можливостей. Цей приклад показує, як використовувати декілька можливих співпадінь в кожному твердженні <code>case</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> evenOrOdd <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">1</span> <span style="color: #990000">|</span> <span style="color: #993399">3</span> <span style="color: #990000">|</span> <span style="color: #993399">5</span> <span style="color: #990000">|</span> <span style="color: #993399">7</span> <span style="color: #990000">|</span> <span style="color: #993399">9</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"odd"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">2</span> <span style="color: #990000">|</span> <span style="color: #993399">4</span> <span style="color: #990000">|</span> <span style="color: #993399">6</span> <span style="color: #990000">|</span> <span style="color: #993399">8</span> <span style="color: #990000">|</span> <span style="color: #993399">10</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"even"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"some other number"</span>

<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>evenOdd<span style="color: #990000">)</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_використання_if_охоронців_в_case_конструкціях">Використання if охоронців в case конструкціях</h4>
<div class="paragraph"><p>Ви також можете використовувати <code>if</code> охоронців в порівняннях <code>match</code>. В цьому прикладі другий та третій <code>case</code> використовують охоронців для порівняння декількох цілих значень:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">3</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> result <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">1</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"one, a lonely number"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">2</span> <span style="color: #990000">||</span> x <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">3</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"two’s company, three’s a crowd"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> x <span style="color: #990000">&gt;</span> <span style="color: #993399">3</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"4+, that’s a party"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"i’m guessing your number is zero or less"</span>

<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>result<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Це інший приклад, який показує, як <code>match</code> порівнює значеення з диапазонами значень:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">15</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> result <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #993399">0</span> to <span style="color: #993399">9</span> contains a <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"0-9 range: $a"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> b <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #993399">10</span> to <span style="color: #993399">19</span> contains b <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"10-19 range: $b"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> c <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #993399">20</span> to <span style="color: #993399">29</span> contains c <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"20-29 range: $c"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Hmmm..."</span>

<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>result<span style="color: #990000">)</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_case_класи_та_match_вирази">Case класи та match вирази</h4>
<div class="paragraph"><p>Також ви можете вилучити поля з <code>case</code> класів, або класів, що сумлінно реалізують методи <code>apply</code>/<code>unapply</code>, та використовувати їх в умовах охоронців. Ось приклад з використанням простого <code>case</code> классу <code>Person</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Person<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #FF0000">"Fred"</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"$name says, Yubba dubba doo"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #FF0000">"Bam Bam"</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"$name says, Bam bam!"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Watch the Flintstones!"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #000000">speak(Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Fred"</span><span style="color: #990000">))</span>      <span style="font-style: italic"><span style="color: #9A1900">// "Fred says, Yubba dubba doo"</span></span>
<span style="font-weight: bold"><span style="color: #000000">speak(Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Bam Bam"</span><span style="color: #990000">))</span>   <span style="font-style: italic"><span style="color: #9A1900">// "Bam Bam says, Bam bam!"</span></span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_використання_match_виразу_як_тіла_методу">Використання match виразу як тіла методу</h3>
<div class="paragraph"><p>Оскільки <code>match</code> вирази повертають значення, вони можуть використовуватись як тіло методів. Цей метод приймає значення <code>Matchable</code> як вхідний параметр, та повертає <code>Boolean</code> на основі результата <code>match</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Matchable<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">0</span> <span style="color: #990000">|</span> <span style="color: #FF0000">""</span> <span style="color: #990000">|</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span>              <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span></tt></pre></div></div>
<div class="paragraph"><p>Вхідний параметр <code>a</code> визначений з типом <code>Matchable</code>, що є коренем для усіх типів Scala, на яких можливо виконувати порівняння. Метод реалізований порівнянням параметру, що має два випадки. Перший перевіряє, чи отримане значення є цілим 0, порожнім рядком або <code>false</code>, і повертає <code>false</code> в цьому випадку. По замовчанню ми повертаємо <code>true</code> для кожного іншого випадку. Ці приклади показують як робить цей метод:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">)</span>      <span style="font-style: italic"><span style="color: #9A1900">// false</span></span>
<span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">)</span>  <span style="font-style: italic"><span style="color: #9A1900">// false</span></span>
<span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="color: #FF0000">""</span><span style="color: #990000">)</span>     <span style="font-style: italic"><span style="color: #9A1900">// false</span></span>
<span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">)</span>      <span style="font-style: italic"><span style="color: #9A1900">// true</span></span>
<span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="color: #FF0000">" "</span><span style="color: #990000">)</span>    <span style="font-style: italic"><span style="color: #9A1900">// true</span></span>
<span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span>2F<span style="color: #990000">)</span>     <span style="font-style: italic"><span style="color: #9A1900">// true</span></span></tt></pre></div></div>
<div class="paragraph"><p>Використання виразу <code>match</code> як тіла методу є дуже загальним прикладом використання.</p></div>
<div class="sect3">
<h4 id="_match_вирази_підтримують_багато_різних_типів_шаблонів">Match вирази підтримують багато різних типів шаблонів</h4>
<div class="paragraph"><p>Існує багато різних форм шаблонів, що можна використать для <code>match</code> виразів. Приклади включають:</p></div>
<div class="ulist"><ul>
<li>
<p>
Константи-шаблони (такі як `case 3 &#8658; `)
</p>
</li>
<li>
<p>
Шаблони послідовностей (такі як `case List(els : _*) &#8658; `)
</p>
</li>
<li>
<p>
Шаблони-тапли (такі як `case (x, y) &#8658; `)
</p>
</li>
<li>
<p>
Шаблон-конструктори (такі як `case Person(first, last) &#8658; `)
</p>
</li>
<li>
<p>
Шаблони порівняння типів (`case p: Person &#8658; `)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Всі ці різновиди шаблонів показані в наступному методі <code>pattern</code>, що приймає вхідний параметр типу <code>Matchable</code>, та повертає <code>String</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">pattern</span></span><span style="color: #990000">(</span>x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Matchable<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">// шаблон-константа</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">0</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"zero"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"true"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #FF0000">"hello"</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"you said 'hello'"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #009900">Nil</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"an empty List"</span>

  <span style="font-style: italic"><span style="color: #9A1900">// шаблон-послідовність</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"a 3-element list with 0 as the first element"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">*)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"list, starts with 1, has any number of elements"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Vector</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">*)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"vector, starts w/ 1, has any number of elements"</span>

  <span style="font-style: italic"><span style="color: #9A1900">// шаблон-тапл</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #990000">(</span>a<span style="color: #990000">,</span> b<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"got $a and $b"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #990000">(</span>a<span style="color: #990000">,</span> b<span style="color: #990000">,</span> c<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"got $a, $b, and $c"</span>

  <span style="font-style: italic"><span style="color: #9A1900">// шаблон-конструктор</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span>first<span style="color: #990000">,</span> <span style="color: #FF0000">"Alexander"</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"Alexander, first name = $first"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Dog</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Zeus"</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"found a dog named Zeus"</span>

  <span style="font-style: italic"><span style="color: #9A1900">// шаблон перевірки типів</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"got a string: $s"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> i<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"got an int: $i"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> f<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Float</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"got a float: $f"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Array<span style="color: #990000">[</span><span style="color: #009900">Int</span><span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"array of int: ${a.mkString("</span><span style="color: #990000">,</span><span style="color: #FF0000">")}"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> as<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Array<span style="color: #990000">[</span>String<span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"string array: ${as.mkString("</span><span style="color: #990000">,</span><span style="color: #FF0000">")}"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> d<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Dog <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"dog: ${d.name}"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> list<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[?]</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> s<span style="color: #FF0000">"got a List: $list"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> m<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Map<span style="color: #990000">[?,</span> <span style="color: #990000">?]</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> m<span style="color: #990000">.</span>toString

  <span style="font-style: italic"><span style="color: #9A1900">// шаблон по замовчанню</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"Unknown"</span></tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_try_catch_finally_2">try/catch/finally</h3>
<div class="paragraph"><p>Як і Java, Scala має конструкцію <code>try/catch/finally</code>, що дозволяє вам перехоплювати та обробляти виключення. Для узгодженності Scala використовує той самий синтаксис, що використовує <code>match</code> для підтримки порівняння шаблонів, на різних можливих виключеннях, що можуть виикнути.</p></div>
<div class="paragraph"><p>В наступному прикладі <code>openAndReadAFile</code> є метод, який робить те що і обіцяє: відкриває файл та читає текст з нього, отримуючи результат в змінній <code>text</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> text <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">""</span>
<span style="font-weight: bold"><span style="color: #0000FF">try</span></span>
  text <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">openAndReadAFile</span></span><span style="color: #990000">(</span>filename<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">catch</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> fnf<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> FileNotFoundException <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">fnf.printStackTrace</span></span><span style="color: #990000">()</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> ioe<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> IOException <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">ioe.printStackTrace</span></span><span style="color: #990000">()</span>
<span style="font-weight: bold"><span style="color: #0000FF">finally</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// закриття ресурсів</span></span>
<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Came to the 'finally' clause."</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Вважаючи, що метод <code>openAndReadAFile</code> використовує Java класи <code>java.io.*</code> для читання файлу та не перехоплює виключень, спроба відкриття та читання файлів може призвести до <code>FileNotFoundException</code> або <code>IOException</code>, і обоє перехоплюються в блоці <code>catch</code> в прикладі.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_доменне_моделювання_2">Доменне моделювання</h2>
<div class="sectionbody">
<div class="paragraph"><p>Ця глава показує, як за допомогою Scala 3 ви можете моделювати оточуючий світ:</p></div>
<div class="ulist"><ul>
<li>
<p>
Розділ Інструменти представляє доступні вам інструменти, включаючи класи, трейти, енумерейшини, тощо.
</p>
</li>
<li>
<p>
Розділ ООП моделювання розглядає моделювання атрибутів та поведінки в стилі об&#8217;єктно-орієнтовного програмування (ООП).
</p>
</li>
<li>
<p>
Розділ ФП моделювання розглядає моделювання в стилі функціонального програмування (ФП).
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_інструменти">Інструменти</h3>
<div class="paragraph"><p>Scala 3 провадить багато різних конструкцій для моделювання навколішнього світу:</p></div>
<div class="ulist"><ul>
<li>
<p>
класи
</p>
</li>
<li>
<p>
об&#8217;єкти
</p>
</li>
<li>
<p>
компанйон-об&#8217;єкти
</p>
</li>
<li>
<p>
трейти
</p>
</li>
<li>
<p>
абстрактні класи
</p>
</li>
<li>
<p>
енуми
</p>
</li>
<li>
<p>
кейс класи
</p>
</li>
<li>
<p>
кейс об&#8217;єкти
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_класи_2">Класи</h3>
<div class="paragraph"><p>Так само, як і в інших мовах, <em>клас</em> в Scala - це шаблон для створення примірників об&#8217;єктів. Ось декілька прикладів классів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> vocation<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Book</span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> title<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> author<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> year<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Movie</span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> director<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> year<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ці приклади показують, що Scala має дуже легковажний синтаксис для декларування класів.</p></div>
<div class="paragraph"><p>Всі параметри наших класів в прикладі визначені як <code>var</code> поля, що означає, що вони змінні: ви можете читати, але також і модифікувати їх. Якщо ви бажаєте зробити їх незмінними, замість цього визначте їх як <code>val</code> поля, або використовуйте кейс клас.</p></div>
<div class="paragraph"><p>До Scala 3 ви використовували ключове слово <code>new</code> для створення нового примірника класу:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Robert Allen Zimmerman"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Harmonica Player"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Тепер з застосуванням створювача в Scala 3 це вже не потрібно:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Robert Allen Zimmerman"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Harmonica Player"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Як тільки ви отримали примірник класу, такий як <code>p</code>, ви можете отримувати доступ до полів, які в цьому прикладі всі є параметрами конструктора:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>p<span style="color: #990000">.</span>name       <span style="font-style: italic"><span style="color: #9A1900">// "Robert Allen Zimmerman"</span></span>
p<span style="color: #990000">.</span>vocation   <span style="font-style: italic"><span style="color: #9A1900">// "Harmonica Player"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Як було зазначено, всі ці параметри були створені як <code>var</code> поля, так що ви можете змінювати їх:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>p<span style="color: #990000">.</span>name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Bob Dylan"</span>
p<span style="color: #990000">.</span>vocation <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Musician"</span></tt></pre></div></div>
<div class="sect3">
<h4 id="_поля_і_методи">Поля і методи</h4>
<div class="paragraph"><p>Класи також можуть мати методи та додаткові поля, що не є частиною конструкторів. Вони визначаються в тілі класа. Тіло ініціалізується, як частина конструктора по замовчанню:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> firstName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> lastName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>

  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"initialization begins"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> fullName <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> firstName <span style="color: #990000">+</span> <span style="color: #FF0000">" "</span> <span style="color: #990000">+</span> lastName

  <span style="font-style: italic"><span style="color: #9A1900">// метод класу</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> printFullName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">// поле `fullName` створене вище</span></span>
    <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>fullName<span style="color: #990000">)</span>

  printFullName
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"initialization ends"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Наступна REPL сессія показує, як створити новий примірник цього класу:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> john <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"John"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Doe"</span><span style="color: #990000">)</span>
initialization begins
John Doe
initialization ends
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> john<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Person <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Person<span style="font-weight: bold"><span style="color: #0000FF">@</span></span>55d8f6bb

scala<span style="color: #990000">&gt;</span> john<span style="color: #990000">.</span>printFullName
John Doe</tt></pre></div></div>
<div class="paragraph"><p>Класи також можуть розширювати трейти та абстрактні класи, що розкривається в окремому розділі нижче.</p></div>
</div>
<div class="sect3">
<h4 id="_значення_параметрів_по_замовчанню">Значення параметрів по замовчанню</h4>
<div class="paragraph"><p>В якості швидкого погляду на нові можливості, параметри конструктора класу також можуть мати значення по замовчанню:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Socket</span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> timeout<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 5<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> linger<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 5<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> toString <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s<span style="color: #FF0000">"timeout: $timeout, linger: $linger"</span></tt></pre></div></div>
<div class="paragraph"><p>Чудова річ щодо цієї можливості в тому, що споживач вашого класу створює примірники різними способами, так, якби клас мав альтернативні конструктори:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Socket</span></span><span style="color: #990000">()</span>                  <span style="font-style: italic"><span style="color: #9A1900">// timeout: 5000, linger: 5000</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Socket</span></span><span style="color: #990000">(</span>2<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">500</span><span style="color: #990000">)</span>             <span style="font-style: italic"><span style="color: #9A1900">// timeout: 2500, linger: 5000</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Socket</span></span><span style="color: #990000">(</span>10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">,</span> 10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span>    <span style="font-style: italic"><span style="color: #9A1900">// timeout: 10000, linger: 10000</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Socket</span></span><span style="color: #990000">(</span>timeout <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span>  <span style="font-style: italic"><span style="color: #9A1900">// timeout: 10000, linger: 5000</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Socket</span></span><span style="color: #990000">(</span>linger <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// timeout: 5000, linger: 10000</span></span></tt></pre></div></div>
<div class="paragraph"><p>Коли створюється новий примірник класу, ви також можете використовувати іменовані параметри. Це, зокрема, корисно, коли багато параметрів мають однаковий тип, як показано в цьому порівнянні:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// option 1</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Socket</span></span><span style="color: #990000">(</span>10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">,</span> 10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// option 2</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Socket</span></span><span style="color: #990000">(</span>
  timeout <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">,</span>
  linger <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span>
<span style="color: #990000">)</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_додаткові_конструктори">Додаткові конструктори</h4>
<div class="paragraph"><p>Ви можете визначити класс, що матиме декілька конструкторів, так що споживачі вашого класу можуть будувати його в різний спосіб. Наприклад, уявімо, що вам треба написати код для моделювання студентів в системі реєстрації коледжу. Під час аналізу вимог ви бачите, що вам знадобиться конструювати примірники <code>Student</code> в три способи:</p></div>
<div class="ulist"><ul>
<li>
<p>
Маючи ім&#8217;я та офіційний ID при початковій реєстрації.
</p>
</li>
<li>
<p>
Маючи ім&#8217;я, офіційний ID, та додаткові дані щодо подання, коли вони подають заявку.
</p>
</li>
<li>
<p>
Ім&#8217;я, офіційний ID та ID студента, після того, як подання отримує схвалення.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Одним зі способів подолати цю ситуацію в ООП стилі є наступне:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>time<span style="color: #990000">.*</span>

<span style="font-style: italic"><span style="color: #9A1900">// [1] первинний конструктор</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Student</span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">var</span></span> name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> govtId<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span>applicationDate<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Option<span style="color: #990000">[</span>LocalDate<span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> None
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span>studentId<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0</span>

  <span style="font-style: italic"><span style="color: #9A1900">// [2] конструктор коли студент надав подання</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> govtId<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span>
    applicationDate<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> LocalDate
  <span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">(</span>name<span style="color: #990000">,</span> govtId<span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #0000FF">_</span></span>applicationDate <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Some</span></span><span style="color: #990000">(</span>applicationDate<span style="color: #990000">)</span>

  <span style="font-style: italic"><span style="color: #9A1900">// [3] конструктор коли студент вже має id</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> govtId<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> studentId<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">(</span>name<span style="color: #990000">,</span> govtId<span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #0000FF">_</span></span>studentId <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> studentId</tt></pre></div></div>
<div class="paragraph"><p>Клас має три конструктори, пронумеровані в джерельному коді:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Первинний конструктор, що має <code>name</code> та <code>govId</code> в визначенні класу.
</p>
</li>
<li>
<p>
Додатковий конструктор з параметрами <code>name</code>, <code>govId</code>, <code>applicationDate</code>.
</p>
</li>
<li>
<p>
Інший конструктор з параметрами <code>name</code>, <code>govId</code>, <code>studentId</code>.
</p>
</li>
</ol></div>
<div class="paragraph"><p>Ці конструктори можуть бути викликані таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s1 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Student</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Mary"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"123"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s2 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Student</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Mary"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"123"</span><span style="color: #990000">,</span> LocalDate<span style="color: #990000">.</span>now<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s3 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Student</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Mary"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"123"</span><span style="color: #990000">,</span> <span style="color: #993399">456</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Хоча можна застосувати цей прийом, пам&#8217;ятайте, що параметри конструктора можуть мати значення по замовчанню, що виглядає так, ніби клас має декілька конструкторів. Це показане в попередньому прикладі з <code>Socket</code>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_об_8217_єкти">Об&#8217;єкти</h3>
<div class="paragraph"><p>Об&#8217;єкт є класом, що має рівно один примірник. Він ініціюється ліниво, коли є посилання на члени, так само, як <code>lazy val</code>. Об&#8217;єкти в Scala дозволяють групіювати методи і поля під одним простором імен, подібно як ви використовуєте <code>static</code> члени в класах Java, Javascript (ES6), або <code>@staticmethod</code> в Python.</p></div>
<div class="paragraph"><p>Декларація <code>object</code> подібна до декларації <code>class</code>. Ось приклад об&#8217;єкта "рядкових утіліт", що містить набір методів для роботи з рядками:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">object</span></span> StringUtils<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">truncate</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> length<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">s.take</span></span><span style="color: #990000">(</span>length<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">containsWhitespace</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Boolean</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">s.matches</span></span><span style="color: #990000">(</span><span style="color: #FF0000">".*</span><span style="color: #CC33CC">\\</span><span style="color: #FF0000">s.*"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">isNullOrEmpty</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Boolean</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">||</span> s<span style="color: #990000">.</span>trim<span style="color: #990000">.</span>isEmpty</tt></pre></div></div>
<div class="paragraph"><p>Ми можемо використовувати об&#8217;єкт наступним чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">StringUtils.truncate</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Chuck Bartowski"</span><span style="color: #990000">,</span> <span style="color: #993399">5</span><span style="color: #990000">)</span>  <span style="font-style: italic"><span style="color: #9A1900">// "Chuck"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Імпоротування в Scala дуже гнучке, та дозволяє імпортувати <em>всі</em> члени об&#8217;єкту:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> StringUtils<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #000000">truncate</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Chuck Bartowski"</span><span style="color: #990000">,</span> <span style="color: #993399">5</span><span style="color: #990000">)</span>       <span style="font-style: italic"><span style="color: #9A1900">// "Chuck"</span></span>
<span style="font-weight: bold"><span style="color: #000000">containsWhitespace</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Sarah Walker"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// true</span></span>
<span style="font-weight: bold"><span style="color: #000000">isNullOrEmpty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"John Casey"</span><span style="color: #990000">)</span>          <span style="font-style: italic"><span style="color: #9A1900">// false</span></span></tt></pre></div></div>
<div class="paragraph"><p>Або тільки <em>деякі</em>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> StringUtils<span style="color: #990000">.</span><span style="color: #FF0000">{</span>truncate<span style="color: #990000">,</span> containsWhitespace<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #000000">truncate</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Charles Carmichael"</span><span style="color: #990000">,</span> <span style="color: #993399">7</span><span style="color: #990000">)</span> <span style="font-style: italic"><span style="color: #9A1900">// "Charles"</span></span>
<span style="font-weight: bold"><span style="color: #000000">containsWhitespace</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Captain Awesome"</span><span style="color: #990000">)</span> <span style="font-style: italic"><span style="color: #9A1900">// true</span></span>
<span style="font-weight: bold"><span style="color: #000000">isNullOrEmpty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Morgan Grimes"</span><span style="color: #990000">)</span> <span style="font-style: italic"><span style="color: #9A1900">// Not found: isNullOrEmpty (error)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Об&#8217;єкт також може мати поля, які так само доступні як статичні члени:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">object</span></span> MathConstants<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> PI <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">3.14159</span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> E <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2.71828</span>

<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>MathConstants<span style="color: #990000">.</span>PI<span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// 3.14159</span></span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_об_8217_єкти_компанйони_2">Об&#8217;єкти-компанйони</h3>
<div class="paragraph"><p>Об&#8217;єкт, що має ту саму назву, що і клас, та визначений в тому самому файлі, що і клас, має назву <em>об&#8217;єкта-компанйона</em>. Подібно до цього клас називається класом-компанйоном об&#8217;єкта.</p></div>
<div class="paragraph"><p>Об&#8217;єкти-компанйони використовуються для методів і значень, що не є специфічними для примірника класа-компанйона. Наприклад, в наступному прикладі клас <code>Circle</code> має член з назвою <code>area</code>, що специфічне для кожного примірника, і його об&#8217;єкт-компанйон має метод з назвою <code>calculateArea</code>, що не є специфічним до примірника,і доступний в кожному примірнику:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> scala<span style="color: #990000">.</span>math<span style="color: #990000">.*</span>

<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Circle</span><span style="color: #990000">(</span>radius<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> area<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Circle.calculateArea</span></span><span style="color: #990000">(</span>radius<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">object</span></span> Circle<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">calculateArea</span></span><span style="color: #990000">(</span>radius<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Pi <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">pow</span></span><span style="color: #990000">(</span>radius<span style="color: #990000">,</span> <span style="color: #993399">2.0</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> circle1 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Circle</span></span><span style="color: #990000">(</span><span style="color: #993399">5.0</span><span style="color: #990000">)</span>
circle1<span style="color: #990000">.</span>area</tt></pre></div></div>
<div class="paragraph"><p>В прикладі метод <code>area</code>, що доступий для кожного примірника, використовує метод <code>calculateArea</code>, що визначений в об&#8217;єкті-компанйоні. Ще раз: <code>calculateArea</code> подібний до статичних методів в Java. Також, оскільки <code>calculateArea</code> є приватним, він недосяжний з іншого коду, але, як показано, його видно в примірнику класу <code>Circle</code>.</p></div>
<div class="sect3">
<h4 id="_інші_використання">Інші використання</h4>
<div class="paragraph"><p>Об&#8217;єкти-компанйони можуть використовуватись для декількох призначень:</p></div>
<div class="ulist"><ul>
<li>
<p>
Як було показано, вони можуть використовуватись для групіювання "статичних" методів в одному просторі імен.
</p>
<div class="ulist"><ul>
<li>
<p>
Методи можуть бути публічні або приватні.
</p>
</li>
<li>
<p>
Якщо б <code>calculateArea</code> був приватний, від був би досяжний як <code>Circle.calculateArea</code>.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Вони можуть мати методи <code>apply</code>, які, завдяки синтаксичному цукру, роблять як методи-фабрики для побудови нових примірників.
</p>
</li>
<li>
<p>
Вони можуть містити метод <code>upapply</code>, що служить для деконструкції об&#8217;єктів, як в порівнянні шаблонів.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ось зверхній погляд на те, яе методи <code>apply</code> можуть використовуватись в якості методів-фабрик для створення нових об&#8217;єктів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">""</span>
  <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> age <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0</span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> toString <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s<span style="color: #FF0000">"$name is $age years old"</span>

<span style="font-weight: bold"><span style="color: #0000FF">object</span></span> Person<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">// одно-параметрична фабрика</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">apply</span></span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Person <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Person
    p<span style="color: #990000">.</span>name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> name
    p

  <span style="font-style: italic"><span style="color: #9A1900">// дво-параметрична фабрика</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">apply</span></span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> age<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Person <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Person
    p<span style="color: #990000">.</span>name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> name
    p<span style="color: #990000">.</span>age <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> age
    p

end Person

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> joe <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Joe"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> fred <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Fred"</span><span style="color: #990000">,</span> <span style="color: #993399">29</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">//val joe: Person = Joe is 0 years old</span></span>
<span style="font-style: italic"><span style="color: #9A1900">//val fred: Person = Fred is 29 years old</span></span></tt></pre></div></div>
<div class="paragraph"><p>Метод <code>unapply</code> тут не пояснюється, але він описаний в референсній документації.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_трейти_2">Трейти</h3>
<div class="paragraph"><p>Якщо ви знайоиі з Java, трейт Scala подібний до інтерфейса в Java 8+. Трейт може містити абстрактні методи та поля, так само як звичайні методи та поля. В базовому використанні трейт може використовуватись як інтерфейс, визначаючи лише абстрактні члени, що будуть реалізовані в інших классах:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Employee</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> id<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> firstName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> lastName<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String</tt></pre></div></div>
<div class="paragraph"><p>Однак трейт може містити звичайні члени. Наприклад, наступний трейт визначає два абстрактні методи, <code>numLegs</code> та <code>walk()</code>, а також має реалізацію звичайного методу <code>stop()</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">HasLegs</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> numLegs<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">walk</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">stop</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Stopped walking"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Ось інший трейт з абстрактним членом і двома реалізованими звичайними методами:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">HasTail</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> tailColor<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">wagTail</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Tail is wagging"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">stopTail</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Tail is stopped"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, як кожний трейт обробляє дуже специфічні атрибути та поведінки: <code>HasLegs</code> має справу тільки з кінцівками, <code>HasTail</code> має справу тільки з функціональністю хвоста. Трейти дозволяють вам будувати такі малі модулі, як ці.</p></div>
<div class="paragraph"><p>Далі в вашому коді класи можуть міксувати декілька трейтів для побудови більших компонент:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IrishSetter</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> HasLegs<span style="color: #990000">,</span> HasTail<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> numLegs <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">4</span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> tailColor <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Red"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">walk</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"I’m walking"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> toString <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s<span style="color: #FF0000">"$name is a Dog"</span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, що клас <code>IrishSetter</code> реалізує абстрактні методи, що визначені в <code>HasLegs</code> та <code>HasTail</code>. Тепер ви можете створити нові примірники <code>IrishSetter</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> d <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">IrishSetter</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Big Red"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// "Big Red is a Dog"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Це тільки присмак того, що можливо робити з трейтами. Для додаткових деталей дивіться залишок ціх уроків моделювання.</p></div>
</div>
<div class="sect2">
<h3 id="_абстрактні_класи">Абстрактні класи</h3>
<div class="paragraph"><p>Коли ви бажаєте написати клас, але знаєте, що він матиме абстрактні методи, ви можете або створити трейт, або абстрактний клас. В більшості ситуацій ви будете використовувати трейти, але історично існує дві ситуації, коли краще використовувати абстрактний клас, ніж трейт:</p></div>
<div class="ulist"><ul>
<li>
<p>
Ви хочете створити базовий клас, що приймає аргументи конструктора.
</p>
</li>
<li>
<p>
Код буде викликаний з Java коду.
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_базовий_клас_що_приймає_аргументи_конструктора">Базовий клас, що приймає аргументи конструктора</h4>
<div class="paragraph"><p>До Scala 3, коли базовий клас потребував аргументи конструктора, ви декларували його як <code>abstract class</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Pet</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> greeting<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> age<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> toString <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s<span style="color: #FF0000">"My name is $name, I say $greeting, and I’m $age"</span>

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Dog</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> age<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> <span style="font-weight: bold"><span style="color: #000000">Pet</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> greeting <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Woof"</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> d <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Dog</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Fido"</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Але тепер трейти можуть мати параметри, так що ви можете використовувати трейти в тій самій ситуації:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Pet</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> greeting<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> age<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> toString <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s<span style="color: #FF0000">"My name is $name, I say $greeting, and I’m $age"</span>

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Dog</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> age<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> <span style="font-weight: bold"><span style="color: #000000">Pet</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> greeting <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Woof"</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> d <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Dog</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Fido"</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Трейти більш гнучкі в компоновці, ви можете зміксувати декілька трейтів, але розширити лише один клас, і трейти зазвичай переважають класи та абстрактні класи. Загальне правило є використання класів, коли ви бажаєте створювати примірники певного типу, і трейти - коли бажаєте декомпонувати і повторно використати поведінку.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_перелічення_енуми">Перелічення (енуми)</h3>
<div class="paragraph"><p>Перелічення (енуми) можуть використовуватись для визначення типів, що складаються з обмеженого визначеного переліку іменованих значень (в розділі про ФП моделювання ми побачимо, що енуми значно гнучкіші, ніж це). Базові перелічення використовуються для визначення наборів констант, як місяці року, дні тижня, напрямки Північ-Південь-Захід-Схід, тощо.</p></div>
<div class="paragraph"><p>В якості прикладу ці перелічення визначають набори атрибутів, що мають відношення до піци:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>enum CrustSize<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Small<span style="color: #990000">,</span> Medium<span style="color: #990000">,</span> Large

enum CrustType<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Thin<span style="color: #990000">,</span> Thick<span style="color: #990000">,</span> Regular

enum Topping<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Cheese<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">,</span> BlackOlives<span style="color: #990000">,</span> GreenOlives<span style="color: #990000">,</span> Onions</tt></pre></div></div>
<div class="paragraph"><p>Щоб використати їх в іншому коді, спочатку імпортуйте їх, та потім використовуйте:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> CrustSize<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> currentCrustSize <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Small</tt></pre></div></div>
<div class="paragraph"><p>Значення енумів можуть бути порівняні з використанням <code>==</code>, а також з порівнянням шаблонів:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// if/then</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>currentCrustSize <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> Large<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"You get a prize!"</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// match</span></span>
currentCrustSize <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Small <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"small"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Medium <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"medium"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Large <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"large"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="sect3">
<h4 id="_додаткові_можливості_енумів">Додаткові можливості енумів</h4>
<div class="paragraph"><p>Перелічення можуть бути параметризовані:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>enum <span style="font-weight: bold"><span style="color: #000000">Color</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> rgb<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Red   <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> <span style="font-weight: bold"><span style="color: #000000">Color</span></span><span style="color: #990000">(</span><span style="color: #993399">0xFF0000</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Green <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> <span style="font-weight: bold"><span style="color: #000000">Color</span></span><span style="color: #990000">(</span><span style="color: #993399">0x00FF00</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Blue  <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> <span style="font-weight: bold"><span style="color: #000000">Color</span></span><span style="color: #990000">(</span><span style="color: #993399">0x0000FF</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Вони також можуть мати члени (поля та методи):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>enum <span style="font-weight: bold"><span style="color: #000000">Planet</span></span><span style="color: #990000">(</span>mass<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">,</span> radius<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> G <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">6.67300E-11</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> surfaceGravity <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> G <span style="color: #990000">*</span> mass <span style="color: #990000">/</span> <span style="color: #990000">(</span>radius <span style="color: #990000">*</span> radius<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">surfaceWeight</span></span><span style="color: #990000">(</span>otherMass<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    otherMass <span style="color: #990000">*</span> surfaceGravity

  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Mercury <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> <span style="font-weight: bold"><span style="color: #000000">Planet</span></span><span style="color: #990000">(</span><span style="color: #993399">3.303e+23</span><span style="color: #990000">,</span> <span style="color: #993399">2.4397e6</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Earth   <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> <span style="font-weight: bold"><span style="color: #000000">Planet</span></span><span style="color: #990000">(</span><span style="color: #993399">5.976e+24</span><span style="color: #990000">,</span> <span style="color: #993399">6.37814e6</span><span style="color: #990000">)</span>
  <span style="font-style: italic"><span style="color: #9A1900">// more planets here ...</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_сумісність_з_java_енумами">Сумісність з Java енумами</h4>
<div class="paragraph"><p>Якщо ви бажаєте використовувати Scala енуми як Java енуми, ви можете зробити це, розширюючи клас <code>java.lang.Enum</code> (що імпортований по замовчанню), таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>enum Color <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Enum<span style="color: #990000">[</span>Color<span style="color: #990000">]</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Red<span style="color: #990000">,</span> Green<span style="color: #990000">,</span> Blue <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Параметр типу походить від визначення Java <code>enum</code>, і має бути таким же, як тип енума. Немає потреби провадити аргументи конструктора (як зазначено в документації Java API) до <code>java.lang.Enum</code> при розширенні, компілятор генерує їх автоматично.</p></div>
<div class="paragraph"><p>Після визначення <code>Color</code> подібним чином, ви можете використовувати його як ви робите це в Java:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #000000">Color.Red.compareTo</span></span><span style="color: #990000">(</span>Color<span style="color: #990000">.</span>Green<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> res0<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">-</span><span style="color: #993399">1</span></tt></pre></div></div>
<div class="paragraph"><p>Розділ про алгебраїчні типи та референсна документація розповідає про перелічення більш детально.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_кейс_класи_2">Кейс класи</h3>
<div class="paragraph"><p>Кейс класи використовуються для моделювання незмінних структур даних. Візьмемо наступний приклад:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> relation<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Оскільки ми декларуємо <code>Person</code> як кейс клас, поля <code>name</code> та <code>relation</code> є публічними та незмінними по замовчанню. Ми можемо створити примірники кейс класу таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> christina <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Christina"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"niece"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, що поля не можуть бути змінені:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>christina<span style="color: #990000">.</span>name <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"Fred"</span>   <span style="font-style: italic"><span style="color: #9A1900">// error: reassignment to val</span></span></tt></pre></div></div>
<div class="paragraph"><p>Оскільки поля кейс класу вважаються незмінними, компілятор Scala може згенерувати для вас багато корисних методів:</p></div>
<div class="ulist"><ul>
<li>
<p>
Генерується метод <code>unapply</code>, що дозволяє вам виконувати порівняння шаблонів на кейс класах (тобто, <code>case Person(n,r) =&gt; ...</code>).
</p>
</li>
<li>
<p>
Генерується метод <code>copy</code>, що дуже корисний для створення модифікованих копій примірника.
</p>
</li>
<li>
<p>
Генеруються методи <code>equals</code> та <code>hashCode</code>, на основі структурної еквівалентності, що дозволяє використовувати примірники кейс класів в <code>Map</code>.
</p>
</li>
<li>
<p>
Генерується метод по замовчанню <code>toString</code>, що корисний для налагодження.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ці додаткові можливості демонструються в прикладі нижче:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">// Кейс клас може виступати як шаблон</span></span>
christina <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span>n<span style="color: #990000">,</span> r<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"name is "</span> <span style="color: #990000">+</span> n<span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// згенеровані методи `equals` та `hashCode`</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> hannah <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hannah"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"niece"</span><span style="color: #990000">)</span>
christina <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> hannah       <span style="font-style: italic"><span style="color: #9A1900">// false</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// метод `toString`</span></span>
<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>christina<span style="color: #990000">)</span>        <span style="font-style: italic"><span style="color: #9A1900">// Person(Christina,niece)</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// вбудований метод `copy`</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">BaseballTeam</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> lastWorldSeriesWin<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> cubs1908 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">BaseballTeam</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Chicago Cubs"</span><span style="color: #990000">,</span> <span style="color: #993399">1908</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> cubs2016 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">cubs1908.copy</span></span><span style="color: #990000">(</span>lastWorldSeriesWin <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">2016</span><span style="color: #990000">)</span>
<span style="font-style: italic"><span style="color: #9A1900">// результат:</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// cubs2016: BaseballTeam = BaseballTeam(Chicago Cubs,2016)</span></span></tt></pre></div></div>
<div class="sect3">
<h4 id="_підтримка_функціонального_програмування">Підтримка функціонального програмування</h4>
<div class="paragraph"><p>Як вже згадувалось, кейс класи підтримують функціональне програмування:</p></div>
<div class="ulist"><ul>
<li>
<p>
В ФП ви намагаєтесь уникати зміни структур даних. Так що має сенс, щоб поля конструктора по замовчанню були <code>val</code>. Оскільки примірники кейс класу не можуть бути змінені, вони можуть легко бути поширені, без остраху зміни або стану гонки.
</p>
</li>
<li>
<p>
Замість зміни примірника ви можете використовувати метод <code>copy</code>, як шаблон для створення нового (потенційно зміненого) примірника. Цей процес відомий як "оновлення при копіюванні".
</p>
</li>
<li>
<p>
Маючи авто-згенерований метод <code>unapply</code> ви також дозволяєте використання кейс класів в просунутих випадках порівнянь шаблонів.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="_кейс_об_8217_єкти">Кейс об&#8217;єкти</h3>
<div class="paragraph"><p>Кейс об&#8217;єкти до об&#8217;єктів те саме, що кейс класи для класів: вони надають декілька авто-згенерованих методів, що робить їх більш потужними. Зокрема вони корисні, коли вам треба об&#8217;єкт-синглтон з трохи більшою функціональністю, як спроможність бути порівняним в конструкції <code>match</code> виразу.</p></div>
<div class="paragraph"><p>Кейс об&#8217;єкти корисні, коли вам треба передати незмінні повідомлення. Наприклад, коли ви робите з проектом музичного плеєра, ви створюєте набір команд або повідомлень, десь так:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">sealed</span></span> <span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Message</span>
<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">PlaySong</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Message
<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IncreaseVolume</span><span style="color: #990000">(</span>amount<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Message
<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">DecreaseVolume</span><span style="color: #990000">(</span>amount<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Message
<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">object</span></span> StopPlaying <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Message</tt></pre></div></div>
<div class="paragraph"><p>Потім, в іншій частині вашого коду, ви можете писати наступні методи, що використовують порівняння шаблонів для обробки повідомлень (вважаємо, що методи <code>playSong</code>, <code>changeVolume</code>, <code>stopPlayingSong</code> визначені в іншому місці):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">handleMessages</span></span><span style="color: #990000">(</span>message<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Message<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> message <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">PlaySong</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span>         <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">playSong</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">IncreaseVolume</span></span><span style="color: #990000">(</span>amount<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">changeVolume</span></span><span style="color: #990000">(</span>amount<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">DecreaseVolume</span></span><span style="color: #990000">(</span>amount<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">changeVolume</span></span><span style="color: #990000">(-</span>amount<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> StopPlaying            <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #000000">stopPlayingSong</span></span><span style="color: #990000">()</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ооп_моделювання">ООП моделювання</h2>
<div class="sectionbody">
<div class="paragraph"><p>Ця глава провадить вступ в доменне моделювання з використанням об&#8217;єктно-орієнтовного програмування ООП в Scala 3.</p></div>
<div class="sect2">
<h3 id="_вступ">Вступ</h3>
<div class="paragraph"><p>Scala провадить всі необхідні інструменти для об&#8217;єктно-орієнтовної розробки:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Трейти</strong> дозволяють вам задавати (абстрактні) інтерфейси, так само як і реалізації.
</p>
</li>
<li>
<p>
<strong>Композиція міксінів</strong> надає вам інструменти для компонування компонент з меньших частин.
</p>
</li>
<li>
<p>
<strong>Класи</strong> можуть реалізовати інтерфейсси, задані в трейтах.
</p>
</li>
<li>
<p>
<strong>Примірники класів</strong> можуть мати власний приватний стан.
</p>
</li>
<li>
<p>
<strong>Субтипи</strong> дозволяють вам використовувати примірник класу там, де очікується примірник суперкласу.
</p>
</li>
<li>
<p>
<strong>Модифікатори доступу</strong> дозволяють вам контролювати, які члени класу матимуть доступ якою частиною кода.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_трейти_3">Трейти</h3>
<div class="paragraph"><p>Важлива відмінність від інших об&#8217;єктних мов, таких як Java, в тому, що основний інструмент декомпозиції в Scala є не класи, а трейти. Вони можуть служити для опису абстрактного інтерфейсу:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Showable</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> show<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String</tt></pre></div></div>
<div class="paragraph"><p>Але також можуть надавати і реалізацію:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Showable</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> show<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> showHtml <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"&lt;p&gt;"</span> <span style="color: #990000">+</span> show <span style="color: #990000">+</span> <span style="color: #FF0000">"&lt;/p&gt;"</span></tt></pre></div></div>
<div class="paragraph"><p>Ви можете бачити, що ми визначаємо метод <code>showHtml</code> <em>в термінах</em> абстрактного метода <code>show</code>.</p></div>
<div class="paragraph"><p>Odersky та Zender представили <em>сервісно-орієнтовну модель компонентів</em> та вью:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>абстрактні члени</strong> як <em>запитувані</em> сервіси: вони все ще мають бути реалізовані в субкласі.
</p>
</li>
<li>
<p>
<strong>конкретні члени</strong> як <em>проваджені</em> сервіси: вони провадяться для субкласу.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ми вже бачили це в нашому прикладі <code>Showable</code>: визначаючи клас <code>Document</code>, що розширює <code>Showable</code>, ми все ще маємо визначити <code>show</code>, але вже маємо <code>showHtml</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Document</span><span style="color: #990000">(</span>text<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Showable<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> show <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> text</tt></pre></div></div>
<div class="sect3">
<h4 id="_абстрактні_члени">Абстрактні члени</h4>
<div class="paragraph"><p>Абстрактні методи не є єдиними речами, що можна залишити абстрактним в трейті. Трейт може містити:</p></div>
<div class="ulist"><ul>
<li>
<p>
абстрактні методи (<code>def m(): T</code>)
</p>
</li>
<li>
<p>
абстрактні визначення значень (<code>val x: T</code>)
</p>
</li>
<li>
<p>
абстрактні члени типів (<code>type T</code>), потенційно з обмеженнями (<code>type T &lt;: S</code>)
</p>
</li>
<li>
<p>
абстрактні гівени (<code>given t: T</code>)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Кожна з ціх можливостей може бути використана для вказання певних вимог до реалізатора трейта.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_композиція_міксінів">Композиція міксінів</h3>
<div class="paragraph"><p>Трейти не тільки можуть містити абстрактні та конкретні визначення. Scala також провадить потужний спосіб скомпонувати декілька трейтів: можливість, на яку часто посилаються як на <em>композицію міксінів</em>.</p></div>
<div class="paragraph"><p>Уявімо, що є наступні два (потенційно незалежно визначені) трейти:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">GreetingService</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span>text<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> sayHello <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hello"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">TranslationService</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span>text<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"..."</span></tt></pre></div></div>
<div class="paragraph"><p>Щоб скомпонувати два сервіси, ми просто створюємо новий трейт, що розширює обоє:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">ComposedService</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> GreetingService<span style="color: #990000">,</span> TranslationService</tt></pre></div></div>
<div class="paragraph"><p>Абстрактні члени одного трейту (такі як <code>translate</code> та <code>GreetingService</code>) автоматично підходять до конкретних членів іншого трейта. Це робить не тільки з методами, як в цьому прикладі, та також з усіма іншими типами абстрактних членів, переліченими раніше (тобто, типами, визначеннями значень тощо).</p></div>
</div>
<div class="sect2">
<h3 id="_класи_3">Класи</h3>
<div class="paragraph"><p>Трейти є чудовими для модуляризації компонент і опису інтерфейсів (потрібні та проваджені). Але в деякий момент ми бажаємо створити їх примірники.  При розробці програм на Scala часто корисно розглянути використання класів як листів вашої моделі наслідування:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Трейти</p></td>
<td align="left" valign="top"><p class="table"><code>T1, T2, T3</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Композиція трейтів</p></td>
<td align="left" valign="top"><p class="table"><code>S extends T1, T2, S extends T2, T3</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Класи</p></td>
<td align="left" valign="top"><p class="table"><code>C extends S, T3</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Примірники</p></td>
<td align="left" valign="top"><p class="table"><code>C()</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Це все ще більш вірно в Scala 3, де трейти тепер можуть мати параметри, і, таким чином, ще більше уникаючи потребу в класах.</p></div>
<div class="sect3">
<h4 id="_визначення_класів">Визначення класів</h4>
<div class="paragraph"><p>Як і трейти, класи можуть розширювати декілька трейтів (але тільки один суперклас):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">MyService</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> ComposedService<span style="color: #990000">,</span> Showable<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> show <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s<span style="color: #FF0000">"$name says $sayHello"</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_субтипізація">Субтипізація</h4>
<div class="paragraph"><p>Ми можемо створити примірник <code>MyService</code> таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s1<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> MyService <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">MyService</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Service 1"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Внаслідок субтипізації наш примірник <code>s1</code> може бути використаний будь-де, де очікується розширений трейт:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s2<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> GreetingService <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s1
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s3<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> TranslationService <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s1
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> s4<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Showable <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> s1
<span style="font-style: italic"><span style="color: #9A1900">// ... і так далі ...</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_планування_для_розширення">Планування для розширення</h4>
<div class="paragraph"><p>Як зазначалось раніше, можливо розширити інший клас:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SoftwareDeveloper</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> favoriteLang<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span>name<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Однак, оскільки основним інструментом декомпозиції є <em>трейти</em>, клас, визначений в одному файлі, <em>не може</em> бути розширений в іншому файлі. Щоб дозволити це, базовий клас треба помітити як <code>open</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>open <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span><span style="color: #990000">(</span>name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Зробити клас <code>open</code> є новою можливістю Scala 3. Маркування класів як відкритих уникає багатьох пасток ООП. Зокрема, це вимагає
від розробників бібліотек явно планувати розширення і документувати класи, помічені як відкриті, за допомогою додаткових контрактів розширення.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_примірники_та_приватний_змінний_стан">Примірники та приватний змінний стан</h3>
<div class="paragraph"><p>Як і інші мови, що підтримують ООП, трейти та класи в Scala можуть визначати змінні поля:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Counter</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// може досліджуватись тільки через метод `count`</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> currentCount <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">tick</span></span><span style="color: #990000">()</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> currentCount <span style="color: #990000">+</span><span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">1</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> count<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> currentCount</tt></pre></div></div>
<div class="paragraph"><p>Кожний примірник класу <code>Counter</code> має свій власний приватний стан, що може досліджуватись лише через метод <code>count</code>, як ілюструє наступна послідовність:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> c1 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Counter</span></span><span style="color: #990000">()</span>
c1<span style="color: #990000">.</span>count <span style="font-style: italic"><span style="color: #9A1900">// 0</span></span>
<span style="font-weight: bold"><span style="color: #000000">c1.tick</span></span><span style="color: #990000">()</span>
<span style="font-weight: bold"><span style="color: #000000">c1.tick</span></span><span style="color: #990000">()</span>
c1<span style="color: #990000">.</span>count <span style="font-style: italic"><span style="color: #9A1900">// 2</span></span></tt></pre></div></div>
<div class="sect3">
<h4 id="_модифікатори_доступу">Модифікатори доступу</h4>
<div class="paragraph"><p>По замовчанню всі члени, визначені в Scala, є публічно видимі. Щоб приховати деталі реалізації, можливо визначати члени (методи, поля, типи тощо), щоб зробити їх <code>private</code> або <code>protected</code>. Таким чином ви можете контролювати, як отримується доступ або перекриття. Приватні члени видимі для самого класу/трейту та його компанйон об&#8217;єкта. Захищені члени також видимі в субкласі класу.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_просунутий_приклад_сервіс_орієнтовний_дизайн">Просунутий приклад: сервіс-орієнтовний дизайн</h3>
<div class="paragraph"><p>Далі ми ілюструємо деякі просунуті можливості Scala, та покажемо, як вони можуть використовуватись для структурування більших софтверних компонент. Приклади адаптовані з папіру "Маштабовані компонентні абстракції" від Martin Odersky та Matthias Zenger. Не хвилюйтесь, якщо ви не розумієте деталей прикладу. Він призначений для демонстрації, як використовувати декілька можливостей для побудови більших компонент.</p></div>
<div class="paragraph"><p>Наша ціль - визначити програмний компонент з <em>сім&#8217;єю типів</em>, так що він може бути уточнений пізніше в реалізації компонент. Конкретніше, наступний код визначає компонент <code>SubjectObserver</code> як трейт з двома абстрактними членами, <code>S</code> (від subjects) та <code>O</code> (від observers):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">SubjectObserver</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">type</span></span> S <span style="font-weight: bold"><span style="color: #0000FF">&lt;:</span></span> Subject
  <span style="font-weight: bold"><span style="color: #0000FF">type</span></span> O <span style="font-weight: bold"><span style="color: #0000FF">&lt;:</span></span> Observer

  <span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Subject</span> <span style="color: #FF0000">{</span> self<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> S <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> observers<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> List<span style="color: #990000">[</span>O<span style="color: #990000">]</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">()</span>
    <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">subscribe</span></span><span style="color: #990000">(</span>obs<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> O<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
      observers <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> obs <span style="font-weight: bold"><span style="color: #0000FF">::</span></span> observers
    <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">publish</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
      <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> obs <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> observers <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="font-weight: bold"><span style="color: #000000">obs.notify</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">)</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">Observer</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">notify</span></span><span style="color: #990000">(</span>sub<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> S<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Unit
  <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Є декілька речей, що потребують пояснення.</p></div>
<div class="sect3">
<h4 id="_абстрактні_члени_типів">Абстрактні члени типів</h4>
<div class="paragraph"><p>Декларація <code>type S &lt;: Subject</code> каже, що в трейті <code>SubjectObserver</code> ми можемо посилатись на деякий <em>невідомий</em> (тобто абстрактний) тип з назвою <code>S</code>. Однак цей тип не повністю невідомий: про нього відомо, що він є <em>деяким підтипом</em> трейту <code>Subject</code>. Любі класи, що розширюють <code>SubjectObserver</code> вільні обирати любий тип для <code>S</code>, доки цей тип є субтипом для <code>Subject</code>. Частина <code>&lt;: Subject</code> також відома як <em>верхня межа для S</em>.</p></div>
</div>
<div class="sect3">
<h4 id="_вкладені_трейти">Вкладені трейти</h4>
<div class="paragraph"><p><em>Всередині</em> трейту <code>SubjectObserver</code> ми визначаємо два інші трейти. Давайте почнемо з трейту <code>Observer</code>, що визначає тільки абстрактний метод <code>notify</code>, що приймає аргумент типу S. Як ми швидко побачимо, це важливо, що аргумент має тип <code>S</code>, а не <code>Subject</code>.</p></div>
<div class="paragraph"><p>Другий трейт, <code>Subject</code>, визначає приватне поле <code>observers</code>, щоб зберігати всіх спостерігачів (обсервери), що підписані на деяку подію. Підпис на подію просто зберігає об&#8217;єкт в списку. І знову, тип параметра <code>obs</code> є <code>O</code> а не <code>Observer</code>.</p></div>
</div>
<div class="sect3">
<h4 id="_само_типова_анотація">Само-типова анотація</h4>
<div class="paragraph"><p>Нарешті, тепер ми можемо поцікавитись, що означає <code>self: S =&gt;</code> на трейті <code>Subject</code>. Це має назву <em>само-типова анотація</em>. Це вимагає,щоб підтипи <code>Subject</code> також були підтипами <code>S</code>. Це потрібно, щоб мати змогу викликати <code>obs.notify</code> з <code>this</code> як аргументом, оскільки він потребує тип <code>S</code>. Коли <code>S</code> буде <em>конкретним</em> типом, само-типова анотація може бути замінена на <code>trait Subject extends S</code>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_реалізація_компонента">Реалізація компонента</h3>
<div class="paragraph"><p>Тепер ми можемо реалізувати компонент та визначити абстрактні члени типів як конкретні типи:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">object</span></span> SensorReader <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> SubjectObserver<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">type</span></span> S <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Sensor
  <span style="font-weight: bold"><span style="color: #0000FF">type</span></span> O <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Display

  <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Sensor</span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> label<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Subject<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">var</span></span> currentValue <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">0.0</span>
    <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> value <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> currentValue
    <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">changeValue</span></span><span style="color: #990000">(</span>v<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
      currentValue <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> v
      <span style="font-weight: bold"><span style="color: #000000">publish</span></span><span style="color: #990000">()</span>

  <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Display</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Observer<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">notify</span></span><span style="color: #990000">(</span>sub<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Sensor<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
      <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"${sub.label} has value ${sub.value}"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Маючи в своєму розпорядженні всі ці утіліти об&#8217;єктного програмування, в наступному розділі ми продемонструємо, як розробляти програми в функціональному стилі.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_фп_моделювання">ФП моделювання</h2>
<div class="sectionbody">
<div class="paragraph"><p>Ця глава провадить вступ до доменного моделювання з використанням функціонального програмування в Scala 3. Коли моделюєте навколішний світ за допомогою ФП, ви типово використовуєте ці конструкції Scala:</p></div>
<div class="ulist"><ul>
<li>
<p>
Переліки (енуми)
</p>
</li>
<li>
<p>
Кейс класи
</p>
</li>
<li>
<p>
Трейти
</p>
<div class="literalblock">
<div class="content">
<pre><code>Якщо ви не знайомі з алгебраїчними типами даних (ADT) і їх узагальненням (GADT), ви можете прочитати розділ https://docs.scala-lang.org/scala3/book/types-adts-gadts.html[Algebraic Data Types] перед тим, як просуватись далі.</code></pre>
</div></div>
</li>
</ul></div>
<div class="sect2">
<h3 id="_вступ_2">Вступ</h3>
<div class="paragraph"><p>В ФП <em>дані</em> та <em>операції над тими даними</em> є дві окремі речі. Вам не треба інкапсулювати їх разом, як ви робите це в ООП.</p></div>
<div class="paragraph"><p>Концепція подібна до числової алгебри. Коли ви думаєте про цілі числа, чиї значення більші або дорівнюють нулю, ви маєте <em>множину</em> можливих значень, що виглядає так:</p></div>
<div class="paragraph"><p><em>0, 1, 2 &#8230; Int.MaxValue</em></p></div>
<div class="paragraph"><p>Ігноруючи ділення цілих чисел, можливі <em>операції</em> з ціма значеннями:</p></div>
<div class="paragraph"><p><em>+, -, *</em></p></div>
<div class="paragraph"><p>ФП дизайн реалізований в подібний спосіб:</p></div>
<div class="ulist"><ul>
<li>
<p>
Ви визначаєте набір значень (ваші дані).
</p>
</li>
<li>
<p>
Ви описуєте операції, що роблять з ціма значеннями (ваші функції).
</p>
<div class="literalblock">
<div class="content">
<pre><code>Як ми побачимо, міркування щодо програм в цьому стилі досить відрізняється від об'єктно-орієнтовного. Дані в ФП просто _є_. Відділення функціональності від даних дозволяють вам перевіряти ваші дані, не турбуючись про поведінку.</code></pre>
</div></div>
</li>
</ul></div>
<div class="paragraph"><p>В цій главі ми змоделюємо дані та операції, пов&#8217;язані з піцою. Ви побачите, як реалізувати частину "дані" моделі ФП в Scala 3, і потім ви побачите декілька різних шляхів, як ви можете організувати операції з ціма даними.</p></div>
</div>
<div class="sect2">
<h3 id="_моделювання_даних">Моделювання даних</h3>
<div class="paragraph"><p>В Scala опис моделі даних для проблеми програмування є простим:</p></div>
<div class="ulist"><ul>
<li>
<p>
Якщо ви бажаєте моделювати дані в вигляді декількох альтернатив, використовуйте конструкцію <code>enum</code>.
</p>
</li>
<li>
<p>
Якщо ви бажаєте лише згрупіювати речі (або треба кращий контроль), використовуйте <code>case</code> класи.
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_опис_альтернатив">Опис альтернатив</h4>
<div class="paragraph"><p>Дані, що просто складаються з різних альтернатив, як розмір коржів або різні начінки, моделюються в Scala 3 конструкцією <code>enum</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>enum CrustSize<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Small<span style="color: #990000">,</span> Medium<span style="color: #990000">,</span> Large

enum CrustType<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Thin<span style="color: #990000">,</span> Thick<span style="color: #990000">,</span> Regular

enum Topping<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Cheese<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">,</span> BlackOlives<span style="color: #990000">,</span> GreenOlives<span style="color: #990000">,</span> Onions</tt></pre></div></div>
<div class="literalblock">
<div class="content">
<pre><code>Типи даних, що описують різні альтернативи (як `CrustSize`) також часом називають типи суми.</code></pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_опис_складних_даних">Опис складних даних</h3>
<div class="paragraph"><p>Піца може розглядатись як <em>складний контейнер</em> з різних атрибутів. Ми можемо використати <code>case</code> клас, щоб описати <code>Pizza</code>, що складається з <code>crustSize</code>, <code>crustType</code>, та потенційно декількох <code>Topping</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> CrustSize<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> CrustType<span style="color: #990000">.*</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> Topping<span style="color: #990000">.*</span>

<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Pizza</span><span style="color: #990000">(</span>
  crustSize<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">,</span>
  crustType<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">,</span>
  toppings<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Seq<span style="color: #990000">[</span>Topping<span style="color: #990000">]</span>
<span style="color: #990000">)</span></tt></pre></div></div>
<div class="literalblock">
<div class="content">
<pre><code>Типи даних, що _агрегують декілька компонентів_ (як `Pizza`) також іноді називають _типами множення_.</code></pre>
</div></div>
<div class="paragraph"><p>І це все. Це модель даних для піци в стилі ФП. Рішення дуже стисле, бо воно не потребує операцій над піцами, які треба інтегрувати з моделлю даних. Модель даних легко читати, як декларацію реляційної бази даних. Також дуже легко створити значення моделі даних та перевірити її:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> myFavPizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Pizza</span></span><span style="color: #990000">(</span>Small<span style="color: #990000">,</span> Regular<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">Seq</span></span><span style="color: #990000">(</span>Cheese<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">))</span>
<span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>myFavPizza<span style="color: #990000">.</span>crustType<span style="color: #990000">)</span> <span style="font-style: italic"><span style="color: #9A1900">// prints Regular</span></span></tt></pre></div></div>
<div class="sect3">
<h4 id="_ще_про_модель_даних">Ще про модель даних</h4>
<div class="paragraph"><p>Ми можемо продовжувати в тому ж дусі для моделювання цілої системи замовлення піци. Ось декілька інших <code>case</code> класів, що використовуються для моделювання такої системи:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Address</span><span style="color: #990000">(</span>
  street1<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span>
  street2<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Option<span style="color: #990000">[</span>String<span style="color: #990000">],</span>
  city<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span>
  state<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span>
  zipCode<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String
<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Customer</span><span style="color: #990000">(</span>
  name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span>
  phone<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span>
  address<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Address
<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Order</span><span style="color: #990000">(</span>
  pizzas<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Seq<span style="color: #990000">[</span>Pizza<span style="color: #990000">],</span>
  customer<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Customer
<span style="color: #990000">)</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_худі_доменні_об_8217_єкти">"Худі доменні об&#8217;єкти"</h4>
<div class="paragraph"><p>В своїй книзі <em>Функціональне і реактивне доменне моделювання</em> Debasish Ghosh стверджує, що в той час, коли практикуючі ООП розробники описують свої класи як "багаті доменні моделі", що інкапсулюють дані та поведінку, ФП моделі даних можна розглядати як "худі доменні об&#8217;єкти". Це тому, як показує цей урок, що моделі даних визначені як <code>case</code> класи з атрибутами, але без поведінки, що дає короткі і стислі структури даних.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_моделювання_операцій">Моделювання операцій</h3>
<div class="paragraph"><p>Все це веде до цікавого питання: оскільки ФП відділяє дані від операцій над ціма даними, як реалізувати ці операції в Scala?</p></div>
<div class="paragraph"><p>Відповідь, насправді, дуже проста: ви просто пишете функції (або методи), що оперують зі значеннями даних, які ми щойно змоделювали. Наприклад, ми можемо визначити функцію, що обчислює вартість піци.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">pizzaPrice</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #000000">Pizza</span></span><span style="color: #990000">(</span>crustSize<span style="color: #990000">,</span> crustType<span style="color: #990000">,</span> toppings<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> base  <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">6.00</span>
    <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> crust <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">crustPrice</span></span><span style="color: #990000">(</span>crustSize<span style="color: #990000">,</span> crustType<span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> tops  <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">toppings.map</span></span><span style="color: #990000">(</span>toppingPrice<span style="color: #990000">).</span>sum
    base <span style="color: #990000">+</span> crust <span style="color: #990000">+</span> tops</tt></pre></div></div>
<div class="paragraph"><p>Ви можете зауважити, як реалізація функції просто слідує за формою даних: оскільки <code>Pizza</code> є кейс класом, ми використовуємо порівняння шаблонів для отримання компонентів, і викликаємо допоміжні функції для обчислення окремої вартості.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">toppingPrice</span></span><span style="color: #990000">(</span>t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Topping<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> t <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Cheese <span style="color: #990000">|</span> Onions <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #993399">0.5</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Pepperoni <span style="color: #990000">|</span> BlackOlives <span style="color: #990000">|</span> GreenOlives <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #993399">0.75</span></tt></pre></div></div>
<div class="paragraph"><p>Аналогічно, оскільки <code>Topping</code> є переліком, ми використовуємо порівняння шаблонів для розрізнення різних варіантів. Так, сир та цибуля коштують 50 центів, а інше - 75.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">crustPrice</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">,</span> t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="color: #990000">(</span>s<span style="color: #990000">,</span> t<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
<span style="font-style: italic"><span style="color: #9A1900">// якщо корж малий або середній його тип не важливий</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #990000">(</span>Small <span style="color: #990000">|</span> Medium<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #993399">0.25</span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #990000">(</span>Large<span style="color: #990000">,</span> Thin<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #993399">0.50</span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #990000">(</span>Large<span style="color: #990000">,</span> Regular<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #993399">0.75</span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #990000">(</span>Large<span style="color: #990000">,</span> Thick<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #993399">1.00</span></tt></pre></div></div>
<div class="paragraph"><p>Щоб обчислити вартість коржа ми одночасно порівнюємо шаблони по розміру та типу коржа.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Важливе зауваження щодо всіх показаних функцій: вони всі _чисті_ функції, вони не змінюють будь-які дані і не мають жодних побічних ефектів (як закидання виключень або запис в файл). Все що вони роблять, це отримують значення та отримують результат.</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_як_організувати_функціональність">Як організувати функціональність</h3>
<div class="paragraph"><p>Коли ми реалізували <code>pizzaPrice</code>, ми не казали, <em>де саме</em> треба визначати її. В Scala 3 є чудово прийнятним визначити її на верхньому рівні вашого файла. Однак, мова надає вам багато чудових інструментів, щоб організувати нашу логіку в різних просторах імен та модулях.</p></div>
<div class="paragraph"><p>Існують декілька різних шляхів реалізувати та впорядкувати поведінку:</p></div>
<div class="ulist"><ul>
<li>
<p>
Визначити функції в об&#8217;єкті-компанйоні.
</p>
</li>
<li>
<p>
Використовувати модулярний стиль програмування.
</p>
</li>
<li>
<p>
Використати підхід "функціональних об&#8217;єктів".
</p>
</li>
<li>
<p>
Визначити функціональність в методах розширення.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ці різні рішення показані в залишку розділа.</p></div>
</div>
<div class="sect2">
<h3 id="_об_8217_єкти_компанйони_3">Об&#8217;єкти-компанйони</h3>
<div class="paragraph"><p>Перший підхід є визначення поведінки, тобто функцій, в об&#8217;єкті-компанйоні.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Як обговорювалось в _Інструменти доменного моделювання_, _об'єкт-компанйон_ є `object`, що має ту саму назву, що і клас, та декларований в тому самому файлі, що і клас.</code></pre>
</div></div>
<div class="paragraph"><p>За цім підходом, на додаток до перелічень та кейс класів ви визначаєте так само названі об&#8217;єкти-компанйони, що містять поведінку.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Pizza</span><span style="color: #990000">(</span>
  crustSize<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">,</span>
  crustType<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">,</span>
  toppings<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Seq<span style="color: #990000">[</span>Topping<span style="color: #990000">]</span>
<span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">// об'єкт-компанйон до класу Pizza</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">object</span></span> Pizza<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// реалізація `pizzaPrice`</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">price</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">...</span>

enum Topping<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Cheese<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">,</span> BlackOlives<span style="color: #990000">,</span> GreenOlives<span style="color: #990000">,</span> Onions

<span style="font-style: italic"><span style="color: #9A1900">// об'єкт-компанйон до енума Topping</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">object</span></span> Topping<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// реалізація `toppingPrice`</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">price</span></span><span style="color: #990000">(</span>t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Topping<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> t <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Cheese <span style="color: #990000">|</span> Onions <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #993399">0.5</span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> Pepperoni <span style="color: #990000">|</span> BlackOlives <span style="color: #990000">|</span> GreenOlives <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #993399">0.75</span></tt></pre></div></div>
<div class="paragraph"><p>За цім підходом ви можете створити <code>Pizza</code> та обчислити вартість:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> pizza1 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Pizza</span></span><span style="color: #990000">(</span>Small<span style="color: #990000">,</span> Thin<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">Seq</span></span><span style="color: #990000">(</span>Cheese<span style="color: #990000">,</span> Onions<span style="color: #990000">))</span>
<span style="font-weight: bold"><span style="color: #000000">Pizza.price</span></span><span style="color: #990000">(</span>pizza1<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Групування функціональності таким чином має декілька переваг:</p></div>
<div class="ulist"><ul>
<li>
<p>
Це асоціює функціональність з даними, і спрощує пошук одного і другого, як для програмістів, так і для компілятора.
</p>
</li>
<li>
<p>
Створоюється простір імен, і, наприклад, дозволяє використовувати <code>price</code> як ім&#8217;я методу, без необхідності посилання на перевантаження.
</p>
</li>
<li>
<p>
Реалізація <code>Topping.price</code> (наприклад) може мати доступ до членів енуму <code>Cheese</code> без необхідності його імпорту.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Але також є декілька недоліків, про які варто пам&#8217;ятати:</p></div>
<div class="ulist"><ul>
<li>
<p>
Це тісно пов&#8217;язує функціональність з вашою моделлю даних. Зокрема, об&#8217;єкт-компанйон має бути визначений в тому самому файлі, що і кейс клас.
</p>
</li>
<li>
<p>
Іноді може бути незрозумілим, де визначати функції як <code>crustPrice</code>, що однаково можуть розташовуватись в компанйон-об&#8217;єктах <code>CrustSize</code> та <code>CrustType</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_модулі">Модулі</h3>
<div class="paragraph"><p>Другий шлях організувати поведінку - використати "модулярний" підхід. Книжка <em>Programming in Scala</em> визначає <em>модуль</em> як "менший програмний шматок з гарно визначеним інтерфейсом і прихованою реалізацією". Поглянемо що це означає.</p></div>
<div class="sect3">
<h4 id="_створення_інтерфейсу_pizzaservice">Створення інтерфейсу PizzaService</h4>
<div class="paragraph"><p>Перша річ, про яку треба подумати, це "поведінки" <code>Pizza</code>. При цьому ми накидуємо трейт <code>PizzaServiceInterface</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">trait</span></span> <span style="color: #008080">PizzaServiceInterface</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">price</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">,</span> t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Topping<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">removeAllToppings</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustSize</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">,</span> cs<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustType</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">,</span> ct<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza</tt></pre></div></div>
<div class="paragraph"><p>Як видно, кожний метод приймає <code>Pizza</code> як вхідний параметр - разом з іншими параметрами - і потім повертає <code>Pizza</code> як результат.</p></div>
<div class="paragraph"><p>Коли ви пишете чистий інтерфейс, як цей, ви можете думати про нього як про контракт, який стверджує "всі не-абстрактні класи, що розширюють цей трейт, <em>мають</em> провадити реалізацію ціх сервісів".</p></div>
<div class="paragraph"><p>Що ви також маєте уявляти в цей момент - це поставити себе на місце користувача цього API. Це допоможе створити деякий "споживаючий" код, щоб переконатись, що воно виглядає як потрібно:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Pizza</span></span><span style="color: #990000">(</span>Small<span style="color: #990000">,</span> Thin<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">Seq</span></span><span style="color: #990000">(</span>Cheese<span style="color: #990000">))</span>

<span style="font-style: italic"><span style="color: #9A1900">// як буде використовуватись PizzaServiceInterface</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p1 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>p<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p2 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">,</span> Onions<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p3 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustType</span></span><span style="color: #990000">(</span>p2<span style="color: #990000">,</span> Thick<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p4 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustSize</span></span><span style="color: #990000">(</span>p3<span style="color: #990000">,</span> Large<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Коли все виглядає як треба, ви типово переходите до інших API, таких як API рахунків, але поки обмежимось піцами. Тепер закінчимо з інтерфейсами, і перейдемо до конкретної реалізації цього інтерфейсу.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Зауважте, що це зазвичай дво-кроковий процес. На першому кроці ми робимо ескіз контракту API, як інтерфейсу. В деяких випадках ми в результаті створимо декілька конкретних реалізацій базового інтерфейсу.</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_створення_конкретної_реалізації">Створення конкретної реалізації</h4>
<div class="paragraph"><p>Тепер, коли ми знаємо, як виглядає <code>PizzaServiceInterface</code>, ви можете створити його конкретну реалізацію, написавши тіло всіх методів, яки ви визначили в інтерфейсі:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">object</span></span> PizzaService <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> PizzaServiceInterface<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">price</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="color: #990000">...</span> <span style="font-style: italic"><span style="color: #9A1900">// те саме, що і раніше</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">,</span> t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Topping<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> p<span style="color: #990000">.</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">:</span></span><span style="color: #990000">+</span> t<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">removeAllToppings</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Seq<span style="color: #990000">.</span>empty<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustSize</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">,</span> cs<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>crustSize <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> cs<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustType</span></span><span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">,</span> ct<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>crustType <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> ct<span style="color: #990000">)</span>

end PizzaService</tt></pre></div></div>
<div class="paragraph"><p>Хоча дво-кроковий процес створення інтерфейсу та його реалізації не завжди потрібний, окремо промислити API та його застосування є гарним підходом.</p></div>
<div class="paragraph"><p>Коли все готове, ви можете використати ваш клас <code>Pizza</code> та <code>PizzaService</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> PizzaService<span style="color: #990000">.*</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">Pizza</span></span><span style="color: #990000">(</span>Small<span style="color: #990000">,</span> Thin<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">Seq</span></span><span style="color: #990000">(</span>Cheese<span style="color: #990000">))</span>

<span style="font-style: italic"><span style="color: #9A1900">// використання методів PizzaService</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p1 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>p<span style="color: #990000">,</span> Pepperoni<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p2 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">,</span> Onions<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p3 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustType</span></span><span style="color: #990000">(</span>p2<span style="color: #990000">,</span> Thick<span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> p4 <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustSize</span></span><span style="color: #990000">(</span>p3<span style="color: #990000">,</span> Large<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #000000">println(price</span></span><span style="color: #990000">(</span>p4<span style="color: #990000">))</span> <span style="font-style: italic"><span style="color: #9A1900">// друкує 8.75</span></span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_функціональні_об_8217_єкти">Функціональні об&#8217;єкти</h4>
<div class="paragraph"><p>В книжці <em>Programming in Scala</em> автор визначає термін "функціональний об&#8217;єкт" як "об&#8217;єкт, що не має жодного змінного стану". Це також стосується типів в <code>scala.collection.immutable</code>. Наприклад, методи <code>List</code> не змінюють внутрішній стан, замість цього створюючи копію <code>List</code> в якості результата.</p></div>
<div class="paragraph"><p>Ви можете думати про цей підхід як "гибридний ФП/ООП". Ви можете:</p></div>
<div class="ulist"><ul>
<li>
<p>
Моделювати дані з використанням <code>case</code> класів.
</p>
</li>
<li>
<p>
Визначати поведінку (методи) в <em>тому самому типі</em>, що і дані.
</p>
</li>
<li>
<p>
Реалізовати поведінку як чисті функції: вони не змінюють жодного внутрішнього стану. Замість цього вони повертають копії.
</p>
<div class="literalblock">
<div class="content">
<pre><code>Це насправді гібрідний підхід: як в ООП, методи є інкапсульованими в клас разом з даними, але, як в типовому ФП, методи реалізовані як чисті функції, що не змінюють дані.</code></pre>
</div></div>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_приклад">Приклад</h4>
<div class="paragraph"><p>Використовуючи цей підхід, ви можете напряму реалізувати "функціональність піци":</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Pizza</span><span style="color: #990000">(</span>
  crustSize<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">,</span>
  crustType<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">,</span>
  toppings<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Seq<span style="color: #990000">[</span>Topping<span style="color: #990000">]</span>
<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">// операції моделі даних</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> price<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">pizzaPrice</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">)</span> <span style="font-style: italic"><span style="color: #9A1900">// реалізація див. вище</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Topping<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">copy</span></span><span style="color: #990000">(</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">:</span></span><span style="color: #990000">+</span> t<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> removeAllToppings<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">copy</span></span><span style="color: #990000">(</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Seq<span style="color: #990000">.</span>empty<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustSize</span></span><span style="color: #990000">(</span>cs<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">copy</span></span><span style="color: #990000">(</span>crustSize <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> cs<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustType</span></span><span style="color: #990000">(</span>ct<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">copy</span></span><span style="color: #990000">(</span>crustType <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> ct<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, що, на відміну від попередніх підходів, оскільки це методи класу <code>Pizza</code>, вони не потребують посилання на <code>Pizza</code> в якості вхідного параметру. Замість цього вони мають власне посилання на поточний примірник, <code>this</code>.</p></div>
<div class="paragraph"><p>Тепер ви можете використовувати цей новий дизайн:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">Pizza</span></span><span style="color: #990000">(</span>Small<span style="color: #990000">,</span> Thin<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">Seq</span></span><span style="color: #990000">(</span>Cheese<span style="color: #990000">))</span>
  <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>Pepperoni<span style="color: #990000">)</span>
  <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">updateCrustType</span></span><span style="color: #990000">(</span>Thick<span style="color: #990000">)</span>
  <span style="color: #990000">.</span>price</tt></pre></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_методи_розширення_2">Методи розширення</h3>
<div class="paragraph"><p>Нарешті, ми покажемо підхід, що знаходиться між першим (визначення функцій в об&#8217;єкті-компанйоні), та останнім (визначення функцій як методів самого типу).</p></div>
<div class="paragraph"><p>Методи розширення дозволяють вам створювати API, такі як функціональний об&#8217;єкт, без визначення функцій як методів самого типу. Це може мати декілька переваг:</p></div>
<div class="ulist"><ul>
<li>
<p>
Наша модель даних знову дуже <em>стисла</em>, і не включає жодної поведінки.
</p>
</li>
<li>
<p>
Ми можемо оздобити типи додатковими методами <em>заднім числом</em>, без потреби змінювати оригінальне визначення.
</p>
</li>
<li>
<p>
На відміну від об&#8217;єктів-компанйонів або прямих методів на типах, методи розширення можна визначати <em>ззовні</em>, в іншому файлі.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Давайте повернемось до нашого прикладу:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Pizza</span><span style="color: #990000">(</span>
  crustSize<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">,</span>
  crustType<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">,</span>
  toppings<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Seq<span style="color: #990000">[</span>Topping<span style="color: #990000">]</span>
<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #000000">extension</span></span> <span style="color: #990000">(</span>p<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> price<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">pizzaPrice</span></span><span style="color: #990000">(</span>p<span style="color: #990000">)</span> <span style="font-style: italic"><span style="color: #9A1900">// що і раніше</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Topping<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> p<span style="color: #990000">.</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">:</span></span><span style="color: #990000">+</span> t<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> removeAllToppings<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>toppings <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> Seq<span style="color: #990000">.</span>empty<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustSize</span></span><span style="color: #990000">(</span>cs<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustSize<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>crustSize <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> cs<span style="color: #990000">)</span>

  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">updateCrustType</span></span><span style="color: #990000">(</span>ct<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> CrustType<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Pizza <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">p.copy</span></span><span style="color: #990000">(</span>crustType <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> ct<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>В цьому коді ми визначаємо різні методи як <em>зовнішні</em> методи. В <code>extension (p: Pizza)</code> ми кажемо, що ми бажаємо додати методи до примірників <code>Pizza</code>, та посилатись далі на цей примірник як на <code>p</code>.</p></div>
<div class="paragraph"><p>Таким чином, ми отримуємо такий самий API, як і раніше.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">Pizza</span></span><span style="color: #990000">(</span>Small<span style="color: #990000">,</span> Thin<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">Seq</span></span><span style="color: #990000">(</span>Cheese<span style="color: #990000">))</span>
  <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addTopping</span></span><span style="color: #990000">(</span>Pepperoni<span style="color: #990000">)</span>
  <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">updateCrustType</span></span><span style="color: #990000">(</span>Thick<span style="color: #990000">)</span>
  <span style="color: #990000">.</span>price</tt></pre></div></div>
<div class="paragraph"><p>При цьому ми в змозі визначити розширення в любому іншому модулі. Типово, якщо ви розробник моделі даних, ви будете визначати ваші методи розширення в об&#8217;єкті-компанйоні. Таким чином вони вже доступні для всіх користувачів. Інакше методи розширення мають бути явно імпортовані, щоб бути корисними.</p></div>
</div>
<div class="sect2">
<h3 id="_підсумок_різних_підходів">Підсумок різних підходів</h3>
<div class="paragraph"><p>Визначення моделі даних в Scala/FP схильне бути простим: просто моделюйте варіанти даних переліками, та складні дані <code>case</code> класами. Після цього для моделювання поведінки використовуються функції, що оперують на значеннях вашої моделі. Ми маємо декілька шляхів для організації наших функцій:</p></div>
<div class="ulist"><ul>
<li>
<p>
Ви можете покласти ваші методи в об&#8217;єкт-компанйон.
</p>
</li>
<li>
<p>
Ви можете використовувати модулярний стиль програмування, розділяючи інтерфейс та реалізацію.
</p>
</li>
<li>
<p>
Ви можете створити "функціональний об&#8217;єкт", та зберігати методи на визначеному типі даних.
</p>
</li>
<li>
<p>
Ви можете використати методи розширення, щоб додати функціональність до вашої моделі даних.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_методи">Методи</h2>
<div class="sectionbody">
<div class="paragraph"><p>В Scala 2 <em>методи</em> можуть бути визначені в класах, трейтах, об&#8217;єктах, кейс класах і кейс об&#8217;єктах. Але все на краще: в Scala 3 вони можуть бути визначені <em>ззовні</em> всіх ціх конструкцій. Ми кажемо про визначення "вищого рівня", оскільки вони не вкладені в інші визначення. Коротко кажучи, методи тепер можуть бути визначені будь-де.</p></div>
<div class="paragraph"><p>Багато можливостей методів будуть продемонстровані в наступних розділах. Оскільки метод <code>main</code> потребує додаткового пояснення, йому буде виділений окремий розділ.</p></div>
<div class="sect2">
<h3 id="_властивості_методів">Властивості методів</h3>
<div class="paragraph"><p>Цей розділ вводить в різні аспекти визначення та виклику методів в Scala 3.</p></div>
</div>
<div class="sect2">
<h3 id="_визначення_методів">Визначення методів</h3>
<div class="paragraph"><p>Scala методи мають багато властивостей, включаючи такі:</p></div>
<div class="ulist"><ul>
<li>
<p>
Дженерік параметри (параметри типів).
</p>
</li>
<li>
<p>
Значення параметрів по замовчанню.
</p>
</li>
<li>
<p>
Декілька груп параметрів.
</p>
</li>
<li>
<p>
Параметри, надані контекстом.
</p>
</li>
<li>
<p>
Параметри за ім&#8217;ям.
&#8230;
</p>
</li>
</ul></div>
<div class="paragraph"><p>Деякі з ціх властивостей демонструються в цьому розділі. Але коли ви визначаєте "простий" метод, що не використовує додаткових можливостей, його синтаксис виглядає таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">methodName</span></span><span style="color: #990000">(</span>param1<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Type1<span style="color: #990000">,</span> param2<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Type2<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> ReturnType <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// тіло метода</span></span>
end methodName   <span style="font-style: italic"><span style="color: #9A1900">// опціонально</span></span></tt></pre></div></div>
<div class="paragraph"><p>В цьому синтаксисі:</p></div>
<div class="ulist"><ul>
<li>
<p>
Ключове слово <code>def</code> використовується для визначення методу.
</p>
</li>
<li>
<p>
За стандартом Scala методи отримують назву за кемел-кейс домовленістю.
</p>
</li>
<li>
<p>
Параметри методів завжди визначаються разом з типом.
</p>
</li>
<li>
<p>
Декларування типу повернення метода є опціональним.
</p>
</li>
<li>
<p>
Метод може складатись з багатьох рядків, або тільки з одного.
</p>
</li>
<li>
<p>
Провадження частини <code>end methodName</code> після тіла метода також є опціональним, і рекомендоване лише для довгих методів.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ось два приклади одно-рядкових методів з назвою <code>add</code>, що приймають два вхідні параметри типу <code>Int</code>. Перша версія ясно вказує тип результату <code>Int</code>, тоді як друга - ні.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">+</span> b
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">+</span> b</tt></pre></div></div>
<div class="paragraph"><p>Рекомендовано анотувати публічно видимі методи типом повернення. Декларування типу повернення може спростити розуміння, коли ви повернетесь через місяць або рік, або коли ви дивитесь на код когось іншого.</p></div>
</div>
<div class="sect2">
<h3 id="_виклик_методів">Виклик методів</h3>
<div class="paragraph"><p>Виклик методів прямолінійний:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// 3</span></span></tt></pre></div></div>
<div class="paragraph"><p>Класи колекцій в Scala мають десятки вбудованих методів. Ці приклади показують, як їх викликати:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">val</span></span> x <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">List</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">)</span>
x<span style="color: #990000">.</span>size          <span style="font-style: italic"><span style="color: #9A1900">// 3</span></span>
<span style="font-weight: bold"><span style="color: #000000">x.contains</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// true</span></span>
<span style="font-weight: bold"><span style="color: #000000">x.map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="color: #990000">*</span> <span style="color: #993399">10</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// List(10, 20, 30)</span></span></tt></pre></div></div>
<div class="paragraph"><p>Зауваження:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>size</code> не приймає аргументів, та повертає число елементів в списку.
</p>
</li>
<li>
<p>
<code>contains</code> приймає один аргумент, значення, що входить до списку або ні. Повертає логічне значення.
</p>
</li>
<li>
<p>
<code>map</code> приймає один аргумент, деяку функцію, в дано випадку анонімну, та застосовує її до кожного елемента списку. Повертає новий список, що складається з результатів роботи функціі для кожного елементу.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_багаторядкові_методи">Багаторядкові методи</h3>
<div class="paragraph"><p>Коли метод більше одного рядка в довжину, тіло метода починається з другого рядка, посунутого вправо:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">addThenDouble</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// уявімо, що це тіло потребує декілька рядків</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> sum <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="color: #990000">+</span> b
  sum <span style="color: #990000">*</span> <span style="color: #993399">2</span></tt></pre></div></div>
<div class="paragraph"><p>В цьому методі:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>sum</code> є незмінна локальна змінна, до неї нема доступу ззовні.
</p>
</li>
<li>
<p>
Останній рядок подвоює значення <code>sum</code>, це значення повертається як результат.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Коли ви покладете цей код в REPL, ви переконаєтесь, що він робить як очікувалось:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>scala<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #000000">addThenDouble</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">)</span>
res0<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #993399">4</span></tt></pre></div></div>
<div class="paragraph"><p>Зауважте, що немає потреби в твердженні <code>return</code> в кінці метода. Оскільки все в Scala є виразом, що означає, що кожний рядок коду повертає (або <em>обчислюється до</em>) значення - тому потреби в <code>return</code> немає.</p></div>
<div class="paragraph"><p>Це стає більш ясно, коли ви скорочуєте ваш метод, та записуєте його в один рядок:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">addThenDouble</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> b<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span>a <span style="color: #990000">+</span> b<span style="color: #990000">)</span> <span style="color: #990000">*</span> <span style="color: #993399">2</span></tt></pre></div></div>
<div class="paragraph"><p>Тіло метода може використовувати всі різноманітні можливості мови:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>if/else</code> вирази
</p>
</li>
<li>
<p>
<code>match</code> вирази
</p>
</li>
<li>
<p>
<code>while</code> цикли
</p>
</li>
<li>
<p>
<code>for</code> цикли і <code>for</code> вирази
</p>
</li>
<li>
<p>
призначення змінних
</p>
</li>
<li>
<p>
виклик інших методів
</p>
</li>
<li>
<p>
визначення інших методів
</p>
</li>
</ul></div>
<div class="paragraph"><p>Як приклад метода з реального світу, розглянемо <code>getStackTraceString</code>, що конвертує параметр <code>Throwable</code> на вході в гарно-форматований <code>String</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">getStackTraceAsString</span></span><span style="color: #990000">(</span>t<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Throwable<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> sw <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">StringWriter</span></span><span style="color: #990000">()</span>
  <span style="font-weight: bold"><span style="color: #000000">t.printStackTrace(PrintWriter</span></span><span style="color: #990000">(</span>sw<span style="color: #990000">))</span>
  sw<span style="color: #990000">.</span>toString</tt></pre></div></div>
<div class="paragraph"><p>В цьому методі:</p></div>
<div class="ulist"><ul>
<li>
<p>
Перший рядок присвоює змінній <code>sw</code> новий примірник <code>StringWriter</code>.
</p>
</li>
<li>
<p>
Другий рядок зберігає вміст траси стеку в <code>StringWriter</code>.
</p>
</li>
<li>
<p>
Третій видає рядкову репрезентацію стеку.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_параметри_по_замовчанню">Параметри по замовчанню</h3>
<div class="paragraph"><p>Параметри методів можуть мати значення по замовчанню. В наступному прикладі значення по замовчанню маюють обоє параметрів, <code>timeout</code> та <code>protocol</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>timeout<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> 5<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">,</span> protocol<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #FF0000">"http"</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>f<span style="color: #FF0000">"timeout = ${timeout}%d, protocol = ${protocol}%s"</span><span style="color: #990000">)</span>
  <span style="font-style: italic"><span style="color: #9A1900">// інший код...</span></span></tt></pre></div></div>
<div class="paragraph"><p>Оскількі параметри мають значення по замовчанню, метод може викликатись наступним чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">()</span>                 <span style="font-style: italic"><span style="color: #9A1900">// timeout = 5000, protocol = http</span></span>
<span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>2<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span>            <span style="font-style: italic"><span style="color: #9A1900">// timeout = 2000, protocol = http</span></span>
<span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>3<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">,</span> <span style="color: #FF0000">"https"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// timeout = 3000, protocol = https</span></span></tt></pre></div></div>
<div class="paragraph"><p>Ось декілька ключових моментів щодо ціх прикладів:</p></div>
<div class="ulist"><ul>
<li>
<p>
В першому прикладі аргументи не провадяться, так що метод використовує значення по замовчанню, <code>5_000</code> та <code>http</code>.
</p>
</li>
<li>
<p>
В другому прикладі в якості <code>timeout</code> передане значення <code>2_000</code>, яке використовується разом зі значенням по замовчанню для <code>protocol</code>.
</p>
</li>
<li>
<p>
В третьому випадку значення задані для обох параметрів.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Зауважте, що коли використовуються значення по замовчанню, для споживача це виглядає так, ніби метод має три перевантаження.</p></div>
</div>
<div class="sect2">
<h3 id="_іменовані_параметри">Іменовані параметри</h3>
<div class="paragraph"><p>Якщо бажаєте, ви можете також використовувати імена параметрів при виклику метода. Наприклад, <code>makeConnection</code> може викликатись таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>timeout<span style="font-weight: bold"><span style="color: #0000FF">=</span></span>10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>protocol<span style="font-weight: bold"><span style="color: #0000FF">=</span></span><span style="color: #FF0000">"https"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>timeout<span style="font-weight: bold"><span style="color: #0000FF">=</span></span>10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">,</span> protocol<span style="font-weight: bold"><span style="color: #0000FF">=</span></span><span style="color: #FF0000">"https"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">makeConnection</span></span><span style="color: #990000">(</span>protocol<span style="font-weight: bold"><span style="color: #0000FF">=</span></span><span style="color: #FF0000">"https"</span><span style="color: #990000">,</span> timeout<span style="font-weight: bold"><span style="color: #0000FF">=</span></span>10<span style="font-weight: bold"><span style="color: #0000FF">_</span></span><span style="color: #993399">000</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>В деяких фреймворках іменовані параметри використовуються дуже щільно. Вони також дуже корисні, коли декілька параметрів методів мають однаковий тип:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">engage</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Без допомоги з боку IDE цей код складно зрозуміти, але наступний код значно ясніший та очевидніший:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">engage</span></span><span style="color: #990000">(</span>
  speedIsSet <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span>
  directionIsSet <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span>
  picardSaidMakeItSo <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">,</span>
  turnedOffParkingBrake <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span>
<span style="color: #990000">)</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_порада_щодо_методів_що_не_мають_параметрів">Порада щодо методів, що не мають параметрів</h3>
<div class="paragraph"><p>Коли метод не має параметрів, кажуть, що він має <em>нульову арність</em>. Аналогічно, метод з одним параметром має арність 1, тощо. Коли ви створюєте метод нульової арності:</p></div>
<div class="ulist"><ul>
<li>
<p>
Якщо метод виконує побічні ефекти, такі як виклик <code>println</code>, декларуйте метод з порожніми дужками.
</p>
</li>
<li>
<p>
Якщо метод не виконує побічних дій - наприклад, отримує розмір колекції, що подібне до доступу до поля колекції, тоді порожні дужки треба опустити.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Наприклад, цей метод виконує побічний еффект, так що він визначається з порожніми дужками:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"hi"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Після цього викликач цього метода повинен вказувати порожні дужки при використанні метода:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>speak     <span style="font-style: italic"><span style="color: #9A1900">// error: "method speak must be called with () argument"</span></span>
<span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints "hi"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Хоча це тільки домовленість, слідування їй значно покращує зрозумілість коду: стає швидко зрозумілим, чи метод виконує побічні ефекти.</p></div>
</div>
<div class="sect2">
<h3 id="_використання_if_в_якості_тіла_метода">Використання if в якості тіла метода</h3>
<div class="paragraph"><p>Оскільки вирази <code>if/else</code> повертають значення, вони можуть використовуватись як тіло метода. Ось метод <code>isTruthy</code>, що використовує Perl визначення <code>true</code> та <code>false</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Any<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #993399">0</span> <span style="color: #990000">||</span> a <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="color: #FF0000">""</span> <span style="color: #990000">||</span> a <span style="font-weight: bold"><span style="color: #0000FF">==</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span> then
    <span style="font-weight: bold"><span style="color: #0000FF">false</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">true</span></span></tt></pre></div></div>
<div class="paragraph"><p>Ці приклади показують роботу цього метода:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">)</span>      <span style="font-style: italic"><span style="color: #9A1900">// false</span></span>
<span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="color: #FF0000">""</span><span style="color: #990000">)</span>     <span style="font-style: italic"><span style="color: #9A1900">// false</span></span>
<span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"hi"</span><span style="color: #990000">)</span>   <span style="font-style: italic"><span style="color: #9A1900">// true</span></span>
<span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span><span style="color: #993399">1.0</span><span style="color: #990000">)</span>    <span style="font-style: italic"><span style="color: #9A1900">// true</span></span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_використання_match_як_тіла_метода">Використання match як тіла метода</h3>
<div class="paragraph"><p>Вираз <code>match</code> також може бути використаний як тіло метода, і це часто відбувається. Ось інша версія <code>isTruthy</code>, написана за допомогою вираза <code>match</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">isTruthy</span></span><span style="color: #990000">(</span>a<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Matchable<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">0</span> <span style="color: #990000">|</span> <span style="color: #FF0000">""</span> <span style="color: #990000">|</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span></tt></pre></div></div>
<div class="paragraph"><p>Цей метод робить так само, як попередній, що використовує <code>if/else</code>. Ми використовуємо <code>Matchable</code> замість <code>Any</code> як тип параметра, щоб сприймати тільки значення, що підтримують порівняння шаблонів.</p></div>
<div class="paragraph"><p>Більше про <code>Matchable</code> дізнайтесь в референсній документації.</p></div>
</div>
<div class="sect2">
<h3 id="_контроль_видимості_в_класі">Контроль видимості в класі</h3>
<div class="paragraph"><p>В класах, об&#8217;єктах, трейтах і енумах, методи Scala публічні по замовчанню, так що створений нижче примірник <code>Dog</code> відкриває свій метод <code>speak</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Dog</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Woof"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> d <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Dog
<span style="font-weight: bold"><span style="color: #000000">d.speak</span></span><span style="color: #990000">()</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints "Woof"</span></span></tt></pre></div></div>
<div class="paragraph"><p>Методи також можуть бути марковані як <code>private</code>. Це робить іх приватними щодо поточного класу, так що вони не можуть бути викликані або перекриті в субкласах:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Animal</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">breathe</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"I’m breathing"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Cat</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Animal<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">// це не буде компілюватись</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">breathe</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Yo, I’m totally breathing"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Якщо ви бажаєте зробити метод приватним для даного класу, але також дозволити субкласам викликати та перекривати його, позначте його як <code>protected</code>, як показано нижче в методі <code>speak</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Animal</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">breathe</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"I’m breathing"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">walk</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">breathe</span></span><span style="color: #990000">()</span>
    <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"I’m walking"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">protected</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hello?"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Cat</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Animal<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">override</span></span> <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Meow"</span><span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">val</span></span> cat <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Cat
<span style="font-weight: bold"><span style="color: #000000">cat.walk</span></span><span style="color: #990000">()</span>
<span style="font-weight: bold"><span style="color: #000000">cat.speak</span></span><span style="color: #990000">()</span>
<span style="font-weight: bold"><span style="color: #000000">cat.breathe</span></span><span style="color: #990000">()</span>   <span style="font-style: italic"><span style="color: #9A1900">// не скомпілюється</span></span></tt></pre></div></div>
<div class="paragraph"><p>Власне <code>protected</code> означає наступне:</p></div>
<div class="ulist"><ul>
<li>
<p>
До поля або метода є доступ з інших екземплярів того самого класу.
</p>
</li>
<li>
<p>
(Як слідоцтво) він доступний для субкласів.
</p>
</li>
<li>
<p>
Його не видно з іншого коду в поточному пакунку.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_об_8217_єкти_можуть_містити_методи">Об&#8217;єкти можуть містити методи</h3>
<div class="paragraph"><p>Раніше ви бачили, що трейти та класи можуть мати методи. Ключове слово <code>object</code> в Scala служить для визначення класа синглтона, і об&#8217;єкт також може містити методи. Це гарний спосіб групувати "утілітарні" методи. Наприклад, цей об&#8217;єкт містить методи, що стосуються рядків:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">object</span></span> StringUtils<span style="font-weight: bold"><span style="color: #0000FF">:</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * Returns a string that is the same as the input string, but</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * truncated to the specified length.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">truncate</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> length<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">s.take</span></span><span style="color: #990000">(</span>length<span style="color: #990000">)</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">    * Returns true if the string contains only letters and numbers.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">    */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">lettersAndNumbersOnly_?</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Boolean</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">s.matches</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"[a-zA-Z0-9]+"</span><span style="color: #990000">)</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * Returns true if the given string contains any whitespace</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * at all. Assumes that `s` is not null.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">containsWhitespace</span></span><span style="color: #990000">(</span>s<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Boolean</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
    <span style="font-weight: bold"><span style="color: #000000">s.matches</span></span><span style="color: #990000">(</span><span style="color: #FF0000">".*</span><span style="color: #CC33CC">\\</span><span style="color: #FF0000">s.*"</span><span style="color: #990000">)</span>

end StringUtils</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_методи_розширення_3">Методи розширення</h3>
<div class="paragraph"><p>Методи розширення обговорюються в главі Контекстуальні абстракції. Їх головне призначення - додзволити вам додавати нову функціональність до закритих класів. Як показане в розділі про розширення, уявімо, що ми маємо клас <code>Circle</code>, але не в змозі змінити джерельний код. Наприклад, він може бути визначений в сторонній бібліотеці таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Circle</span><span style="color: #990000">(</span>x<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">,</span> y<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">,</span> radius<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Якщо ви бажаєте додати методи до класу, ви можете зробити це через методи розширення:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">extension</span></span> <span style="color: #990000">(</span>c<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> Circle<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> circumference<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> c<span style="color: #990000">.</span>radius <span style="color: #990000">*</span> math<span style="color: #990000">.</span>Pi <span style="color: #990000">*</span> <span style="color: #993399">2</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> diameter<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> c<span style="color: #990000">.</span>radius <span style="color: #990000">*</span> <span style="color: #993399">2</span>
  <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> area<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Double</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> math<span style="color: #990000">.</span>Pi <span style="color: #990000">*</span> c<span style="color: #990000">.</span>radius <span style="color: #990000">*</span> c<span style="color: #990000">.</span>radius</tt></pre></div></div>
<div class="paragraph"><p>Тепер, якщо ви маєте примірник <code>Circle</code> на ім&#8217;я <code>aCircle</code>, ви можете викликати ці методи:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>aCircle<span style="color: #990000">.</span>circumference
aCircle<span style="color: #990000">.</span>diameter
aCircle<span style="color: #990000">.</span>area</tt></pre></div></div>
<div class="paragraph"><p>Шукайте розділи про методи розширення в цій книзі та в референсній документації.</p></div>
</div>
<div class="sect2">
<h3 id="_та_ще_більше">Та ще більше</h3>
<div class="paragraph"><p>Є ще багато чого, що треба знати про методи:</p></div>
<div class="ulist"><ul>
<li>
<p>
Виклик методів на суперкласах.
</p>
</li>
<li>
<p>
Визначення і використання параметрів за-ім&#8217;ям.
</p>
</li>
<li>
<p>
Методи, що приймають функціональні параметри.
</p>
</li>
<li>
<p>
Створення інлайн методів.
</p>
</li>
<li>
<p>
Обробка виключень.
</p>
</li>
<li>
<p>
Використання вхідних параметрів <code>vararg</code>.
</p>
</li>
<li>
<p>
Методи з декількома групами параметрів та частково застосовані функції.
</p>
</li>
<li>
<p>
Методи з дженерік параметрами типів.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Все це висвітлене в референсній документації.</p></div>
</div>
<div class="sect2">
<h3 id="_main_методи">Main методи</h3>
<div class="paragraph"><p>Scala 3 пропонує новий шлях визначення програм, що можуть бути викликані з командного рядка: додавання анотації <code>@main</code> до метода перетвворює його на вхідну точку виконавчої програми:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">@</span></span>main <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">hello</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hello, world"</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Збережіть цей рядок коду в файлі, наприклад, <em>Hello.scala</em> - ім&#8217;я файлу не повинно співпадати з назвою метода - і скомпілюйте та виконайте його (на момент компілятор та виконавець мають назви <em>scalac3</em> та <em>scala3</em> відповідно):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ scalac Hello<span style="color: #990000">.</span>scala
$ scala hello
Hello<span style="color: #990000">,</span> world</tt></pre></div></div>
<div class="paragraph"><p>Метод, що анотований як <code>@main</code>, може бути написаний на верхньому рівні (як показано), або в статично досяжному об&#8217;єкті. В обох випадках, ім&#8217;я програми є ім&#8217;я самого метода, без жодних префіксів об&#8217;єкта.</p></div>
<div class="sect3">
<h4 id="_аргументи_командного_рядка">Аргументи командного рядка</h4>
<div class="paragraph"><p>З таким підходом ваш <code>@main</code> метод може обробляти аргументи командного рядка, і ці аргументи можуть мати різні типи. Наприклад, маємо <code>@main</code> метод, що приймає <code>Int</code>, <code>String</code>, та vararg <code>String*</code> параметри:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">@</span></span>main <span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">happyBirthday</span></span><span style="color: #990000">(</span>age<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> <span style="color: #009900">Int</span><span style="color: #990000">,</span> name<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">,</span> others<span style="font-weight: bold"><span style="color: #0000FF">:</span></span> String<span style="color: #990000">*)</span> <span style="font-weight: bold"><span style="color: #0000FF">=</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> suffix <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="color: #990000">(</span>age <span style="color: #990000">%</span> <span style="color: #993399">100</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">11</span> <span style="color: #990000">|</span> <span style="color: #993399">12</span> <span style="color: #990000">|</span> <span style="color: #993399">13</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"th"</span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #990000">(</span>age <span style="color: #990000">%</span> <span style="color: #993399">10</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">match</span></span>
      <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">1</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"st"</span>
      <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">2</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"nd"</span>
      <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #993399">3</span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"rd"</span>
      <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="font-weight: bold"><span style="color: #0000FF">_</span></span> <span style="font-weight: bold"><span style="color: #0000FF">=&gt;</span></span> <span style="color: #FF0000">"th"</span>

  <span style="font-weight: bold"><span style="color: #0000FF">val</span></span> sb <span style="font-weight: bold"><span style="color: #0000FF">=</span></span> <span style="font-weight: bold"><span style="color: #000000">StringBuilder</span></span><span style="color: #990000">(</span>s<span style="color: #FF0000">"Happy $age$suffix birthday, $name"</span><span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> other <span style="font-weight: bold"><span style="color: #0000FF">&lt;-</span></span> others <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="font-weight: bold"><span style="color: #000000">sb.append</span></span><span style="color: #990000">(</span><span style="color: #FF0000">" and "</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">append</span></span><span style="color: #990000">(</span>other<span style="color: #990000">)</span>
  sb<span style="color: #990000">.</span>toString</tt></pre></div></div>
<div class="paragraph"><p>Коли ви скомпілюєте цей код, він створить програму <em>happyBirthday</em>, яка викликається таким чином:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ scala happyBirthday <span style="color: #993399">23</span> Lisa Peter
Happy 23rd Birthday<span style="color: #990000">,</span> Lisa and Peter<span style="color: #990000">!</span></tt></pre></div></div>
<div class="paragraph"><p>Як показано, метод <code>@main</code> може мати довільне число параметрів. Для кожного параметру тип має бути примірником <code>scala.util.FromString</code>, що конвертує аргумент <code>String</code> в потрібний тип параметру. Також, як показано, список параметрів <code>@main</code> метода може завершуватись "поглинаючим" параметром, як <code>String*</code>, що приймає залишок параметрів, заданих до кінця рядка.</p></div>
<div class="paragraph"><p>Програма, реалізована через метод <code>@main</code>, перевіряє, чи достатньо аргументів в командному рядку, щоб заповнити всі параметри, і що рядки аргументів можуть бути конвертовані в потрібні типи. Якщо перевірка схибить, програма завершиться з помилкою:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ scala happyBirthday <span style="color: #993399">22</span>
Illegal <span style="font-weight: bold"><span style="color: #0000FF">command</span></span> line after first argument<span style="color: #990000">:</span> more arguments expected

$ scala happyBirthday sixty Fred
Illegal <span style="font-weight: bold"><span style="color: #0000FF">command</span></span> line<span style="color: #990000">:</span> java<span style="color: #990000">.</span>lang<span style="color: #990000">.</span>NumberFormatException<span style="color: #990000">:</span> For input string<span style="color: #990000">:</span> <span style="color: #FF0000">"sixty"</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_деталі">Деталі</h4>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2022-03-15 00:47:39 EET
</div>
</div>
</body>
</html>
