<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>AkkaNetworking - Переклад українською: Арсеній Чеботарьов Київ 2016</title>
  </head>
  <body>
    <address style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 10px; line-height: 12px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: color: #cc9933;;">
      <span style="font-style: italic;">Переклад українською - <a href="mailto:ac2epsilon@gmail.com">Арсеній
          Чеботарьов</a> - Київ 2016</span></address>
    <p>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
    </p>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      Networking Cluster Specification</h1>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        document describes the design concepts of the clustering.</p>
    </div>
    <div class="section" id="intro" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Intro" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Intro</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        Cluster provides a fault-tolerant decentralized peer-to-peer based
        cluster<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#membership"
          style="color: rgb(21, 169, 206); text-decoration: none;">membership</a><span
          class="Apple-converted-space">&nbsp;</span>service with no single
        point of failure or single point of bottleneck. It does this using<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#gossip" style="color: rgb(21, 169, 206); text-decoration: none;">gossip</a><span
          class="Apple-converted-space">&nbsp;</span>protocols and an automatic<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#failure-detector"
          style="color: rgb(21, 169, 206); text-decoration: none;">failure
          detector</a>.</p>
    </div>
    <div class="section" id="terms" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Terms" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Terms</h2>
      <dl class="docutils" style="margin-bottom: 18px;">
        <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">node</strong></dt>
        <dd style="line-height: 18px; margin-left: 9px;">A logical member of a
          cluster. There could be multiple nodes on a physical machine. Defined
          by a<span class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">hostname:port:uid</cite><span
            class="Apple-converted-space">&nbsp;</span>tuple.</dd>
        <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">cluster</strong></dt>
        <dd style="line-height: 18px; margin-left: 9px;">A set of nodes joined
          together through the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#membership"
            style="color: rgb(21, 169, 206); text-decoration: none;">membership</a><span
            class="Apple-converted-space">&nbsp;</span>service.</dd>
        <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">leader</strong></dt>
        <dd style="line-height: 18px; margin-left: 9px;">A single node in the
          cluster that acts as the leader. Managing cluster convergence and
          membership state transitions.</dd>
      </dl>
    </div>
    <div class="section" id="membership" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Membership" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Membership</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        cluster is made up of a set of member nodes. The identifier for each
        node is a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">hostname:port:uid</span></code><span
          class="Apple-converted-space">&nbsp;</span>tuple. An Akka application
        can be distributed over a cluster with each node hosting some part of
        the application. Cluster membership and the actors running on that node
        of the application are decoupled. A node could be a member of a cluster
        without hosting any actors. Joining a cluster is initiated by issuing a<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Join</span></code><span
          class="Apple-converted-space">&nbsp;</span>command to one of the nodes
        in the cluster to join.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        node identifier internally also contains a UID that uniquely identifies
        this actor system instance at that<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">hostname:port</span></code>.
        Akka uses the UID to be able to reliably trigger remote death watch.
        This means that the same actor system can never join a cluster again
        once it's been removed from that cluster. To re-join an actor system
        with the same<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">hostname:port</span></code><span
          class="Apple-converted-space">&nbsp;</span>to a cluster you have to
        stop the actor system and start a new one with the same<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">hostname:port</span></code>which
        will then receive a different UID.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        cluster membership state is a specialized<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://hal.upmc.fr/docs/00/55/55/88/PDF/techreport.pdf"
          style="color: rgb(21, 169, 206); text-decoration: none;">CRDT</a>,
        which means that it has a monotonic merge function. When concurrent
        changes occur on different nodes the updates can always be merged and
        converge to the same end result.</p>
      <div class="section" id="gossip">
        <h3 id="Gossip" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Gossip</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          cluster membership used in Akka is based on Amazon's<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf"
            style="color: rgb(21, 169, 206); text-decoration: none;">Dynamo</a><span
            class="Apple-converted-space">&nbsp;</span>system and particularly
          the approach taken in Basho's'<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://basho.com/technology/architecture/"
            style="color: rgb(21, 169, 206); text-decoration: none;">Riak</a><span
            class="Apple-converted-space">&nbsp;</span>distributed database.
          Cluster membership is communicated using a<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://en.wikipedia.org/wiki/Gossip_protocol"
            style="color: rgb(21, 169, 206); text-decoration: none;">Gossip
            Protocol</a>, where the current state of the cluster is gossiped
          randomly through the cluster, with preference to members that have not
          seen the latest version.</p>
        <div class="section" id="vector-clocks">
          <h4 id="Vector_Clocks" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Vector
            Clocks</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><a
              class="reference external" href="http://en.wikipedia.org/wiki/Vector_clock"
              style="color: rgb(21, 169, 206); text-decoration: none;">Vector
              clocks</a><span class="Apple-converted-space">&nbsp;</span>are a
            type of data structure and algorithm for generating a partial
            ordering of events in a distributed system and detecting causality
            violations.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">We
            use vector clocks to reconcile and merge differences in cluster
            state during gossiping. A vector clock is a set of (node, counter)
            pairs. Each update to the cluster state has an accompanying update
            to the vector clock.</p>
        </div>
        <div class="section" id="gossip-convergence">
          <h4 id="Gossip_Convergence" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Gossip
            Convergence</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Information
            about the cluster converges locally at a node at certain points in
            time. This is when a node can prove that the cluster state he is
            observing has been observed by all other nodes in the cluster.
            Convergence is implemented by passing a set of nodes that have seen
            current state version during gossip. This information is referred to
            as the seen set in the gossip overview. When all nodes are included
            in the seen set there is convergence.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Gossip
            convergence cannot occur while any nodes are<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code>.
            The nodes need to become<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">reachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>again, or moved to the<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">down</span></code><span
              class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">removed</span></code><span
              class="Apple-converted-space">&nbsp;</span>states (see the<span class="Apple-converted-space">&nbsp;</span><a
              class="reference internal" href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#membership-lifecycle"
              style="color: rgb(21, 169, 206); text-decoration: none;">Membership
              Lifecycle</a><span class="Apple-converted-space">&nbsp;</span>section
            below). This only blocks the leader from performing its cluster
            membership management and does not influence the application running
            on top of the cluster. For example this means that during a network
            partition it is not possible to add more nodes to the cluster. The
            nodes can join, but they will not be moved to the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">up</span></code><span
              class="Apple-converted-space">&nbsp;</span>state until the
            partition has healed or the unreachable nodes have been downed.</p>
        </div>
        <div class="section" id="failure-detector">
          <h4 id="Failure_Detector" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Failure
            Detector</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            failure detector is responsible for trying to detect if a node is<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>from the rest of the
            cluster. For this we are using an implementation of<span class="Apple-converted-space">&nbsp;</span><a
              class="reference external" href="http://www.jaist.ac.jp/%7Edefago/files/pdf/IS_RR_2004_010.pdf"
              style="color: rgb(21, 169, 206); text-decoration: none;">The Phi
              Accrual Failure Detector</a><span class="Apple-converted-space">&nbsp;</span>by
            Hayashibara et al.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
            accrual failure detector decouple monitoring and interpretation.
            That makes them applicable to a wider area of scenarios and more
            adequate to build generic failure detection services. The idea is
            that it is keeping a history of failure statistics, calculated from
            heartbeats received from other nodes, and is trying to do educated
            guesses by taking multiple factors, and how they accumulate over
            time, into account in order to come up with a better guess if a
            specific node is up or down. Rather than just answering "yes" or
            "no" to the question "is the node down?" it returns a<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">phi</span></code><span
              class="Apple-converted-space">&nbsp;</span>value representing the
            likelihood that the node is down.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
              class="Apple-converted-space">&nbsp;</span>that is the basis for
            the calculation is configurable by the user. A low<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
              class="Apple-converted-space">&nbsp;</span>is prone to generate
            many wrong suspicions but ensures a quick detection in the event of
            a real crash. Conversely, a high<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">threshold</span></code>generates
            fewer mistakes but needs more time to detect actual crashes. The
            default<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
              class="Apple-converted-space">&nbsp;</span>is 8 and is appropriate
            for most situations. However in cloud environments, such as Amazon
            EC2, the value could be increased to 12 in order to account for
            network issues that sometimes occur on such platforms.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
            a cluster each node is monitored by a few (default maximum 5) other
            nodes, and when any of these detects the node as<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>that information will
            spread to the rest of the cluster through the gossip. In other
            words, only one node needs to mark a node<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>to have the rest of the
            cluster mark that node<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code>.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            nodes to monitor are picked out of neighbors in a hashed ordered
            node ring. This is to increase the likelihood to monitor across
            racks and data centers, but the order is the same on all nodes,
            which ensures full coverage.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Heartbeats
            are sent out every second and every heartbeat is performed in a
            request/reply handshake with the replies used as input to the
            failure detector.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            failure detector will also detect if the node becomes<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">reachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>again. When all nodes
            that monitored the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>node detects it as<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">reachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>again the cluster,
            after gossip dissemination, will consider it as<code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">reachable</span></code>.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
            system messages cannot be delivered to a node it will be quarantined
            and then it cannot come back from<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code>.
            This can happen if the there are too many unacknowledged system
            messages (e.g. watch, Terminated, remote actor deployment, failures
            of actors supervised by remote parent). Then the node needs to be
            moved to the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">down</span></code><span
              class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">removed</span></code><span
              class="Apple-converted-space">&nbsp;</span>states (see the<span class="Apple-converted-space">&nbsp;</span><a
              class="reference internal" href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#membership-lifecycle"
              style="color: rgb(21, 169, 206); text-decoration: none;">Membership
              Lifecycle</a><span class="Apple-converted-space">&nbsp;</span>section
            below) and the actor system must be restarted before it can join the
            cluster again.</p>
        </div>
        <div class="section" id="leader">
          <h4 id="Leader" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Leader</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">After
            gossip convergence a<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>for the cluster can be
            determined. There is no<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>election process, the<code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>can always be
            recognised deterministically by any node whenever there is gossip
            convergence. The leader is just a role, any node can be the leader
            and it can change between convergence rounds. The<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>is simply the first
            node in sorted order that is able to take the leadership role, where
            the preferred member states for a<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>are<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">up</span></code>and<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leaving</span></code><span
              class="Apple-converted-space">&nbsp;</span>(see the<span class="Apple-converted-space">&nbsp;</span><a
              class="reference internal" href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#membership-lifecycle"
              style="color: rgb(21, 169, 206); text-decoration: none;">Membership
              Lifecycle</a><span class="Apple-converted-space">&nbsp;</span>section
            below for more information about member states).</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            role of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>is to shift members in
            and out of the cluster, changing<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">joining</span></code><span
              class="Apple-converted-space">&nbsp;</span>members to the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">up</span></code><span
              class="Apple-converted-space">&nbsp;</span>state or<code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">exiting</span></code><span
              class="Apple-converted-space">&nbsp;</span>members to the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">removed</span></code><span
              class="Apple-converted-space">&nbsp;</span>state. Currently<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>actions are only
            triggered by receiving a new cluster state with gossip convergence.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>also has the power, if
            configured so, to "auto-down" a node that according to the<span class="Apple-converted-space">&nbsp;</span><a
              class="reference internal" href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#failure-detector"
              style="color: rgb(21, 169, 206); text-decoration: none;">Failure
              Detector</a><span class="Apple-converted-space">&nbsp;</span>is
            considered<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code>.
            This means setting the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>node status to<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">down</span></code><span
              class="Apple-converted-space">&nbsp;</span>automatically after a
            configured time of unreachability.</p>
        </div>
        <div class="section" id="seed-nodes">
          <h4 id="Seed_Nodes" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Seed
            Nodes</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            seed nodes are configured contact points for new nodes joining the
            cluster. When a new node is started it sends a message to all seed
            nodes and then sends a join command to the seed node that answers
            first.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            seed nodes configuration value does not have any influence on the
            running cluster itself, it is only relevant for new nodes joining
            the cluster as it helps them to find contact points to send the join
            command to; a new member can send this command to any current member
            of the cluster, not only to the seed nodes.</p>
        </div>
        <div class="section" id="id2">
          <h4 id="Gossip_Protocol" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Gossip
            Protocol</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
            variation of<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">push-pull
              gossip</em><span class="Apple-converted-space">&nbsp;</span>is
            used to reduce the amount of gossip information sent around the
            cluster. In push-pull gossip a digest is sent representing current
            versions but not actual values; the recipient of the gossip can then
            send back any values for which it has newer versions and also
            request values for which it has outdated versions. Akka uses a
            single shared state with a vector clock for versioning, so the
            variant of push-pull gossip used in Akka makes use of this version
            to only push the actual state as needed.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Periodically,
            the default is every 1 second, each node chooses another random node
            to initiate a round of gossip with. If less than ½ of the nodes
            resides in the seen set (have seen the new state) then the cluster
            gossips 3 times instead of once every second. This adjusted gossip
            interval is a way to speed up the convergence process in the early
            dissemination phase after a state change.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            choice of node to gossip with is random but it is biased to towards
            nodes that might not have seen the current state version. During
            each round of gossip exchange when no convergence it uses a
            probability of 0.8 (configurable) to gossip to a node not part of
            the seen set, i.e. that probably has an older version of the state.
            Otherwise gossip to any random live node.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
            biased selection is a way to speed up the convergence process in the
            late dissemination phase after a state change.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
            clusters larger than 400 nodes (configurable, and suggested by
            empirical evidence) the 0.8 probability is gradually reduced to
            avoid overwhelming single stragglers with too many concurrent gossip
            requests. The gossip receiver also has a mechanism to protect itself
            from too many simultaneous gossip messages by dropping messages that
            have been enqueued in the mailbox for too long time.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">While
            the cluster is in a converged state the gossiper only sends a small
            gossip status message containing the gossip version to the chosen
            node. As soon as there is a change to the cluster (meaning
            non-convergence) then it goes back to biased gossip again.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            recipient of the gossip state or the gossip status can use the
            gossip version (vector clock) to determine whether:</p>
          <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
            <li style="line-height: 18px;">it has a newer version of the gossip
              state, in which case it sends that back to the gossiper</li>
            <li style="line-height: 18px;">it has an outdated version of the
              state, in which case the recipient requests the current state from
              the gossiper by sending back its version of the gossip state</li>
            <li style="line-height: 18px;">it has conflicting gossip versions,
              in which case the different versions are merged and sent back</li>
          </ol>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
            the recipient and the gossip have the same version then the gossip
            state is not sent or requested.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            periodic nature of the gossip has a nice batching effect of state
            changes, e.g. joining several nodes quickly after each other to one
            node will result in only one state change to be spread to other
            members in the cluster.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            gossip messages are serialized with<span class="Apple-converted-space">&nbsp;</span><a
              class="reference external" href="https://code.google.com/p/protobuf/"
              style="color: rgb(21, 169, 206); text-decoration: none;">protobuf</a><span
              class="Apple-converted-space">&nbsp;</span>and also gzipped to
            reduce payload size.</p>
        </div>
      </div>
      <div class="section" id="membership-lifecycle">
        <h3 id="Membership_Lifecycle" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Membership
          Lifecycle</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
          node begins in the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">joining</span></code><span
            class="Apple-converted-space">&nbsp;</span>state. Once all nodes
          have seen that the new node is joining (through gossip convergence)
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
            class="Apple-converted-space">&nbsp;</span>will set the member state
          to<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">up</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          a node is leaving the cluster in a safe, expected manner then it
          switches to the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">leaving</span></code><span
            class="Apple-converted-space">&nbsp;</span>state. Once the leader
          sees the convergence on the node in the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">leaving</span></code><span
            class="Apple-converted-space">&nbsp;</span>state, the leader will
          then move it to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">exiting</span></code>.
          Once all nodes have seen the exiting state (convergence) the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
            class="Apple-converted-space">&nbsp;</span>will remove the node from
          the cluster, marking it as<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">removed</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          a node is<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
            class="Apple-converted-space">&nbsp;</span>then gossip convergence
          is not possible and therefore any<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
            class="Apple-converted-space">&nbsp;</span>actions are also not
          possible (for instance, allowing a node to become a part of the
          cluster). To be able to move forward the state of the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
            class="Apple-converted-space">&nbsp;</span>nodes must be changed. It
          must become<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">reachable</span></code><span
            class="Apple-converted-space">&nbsp;</span>again or marked as<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">down</span></code>.
          If the node is to join the cluster again the actor system must be
          restarted and go through the joining process again. The cluster can,
          through the leader, also<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">auto-down</em><span class="Apple-converted-space">&nbsp;</span>a
          node after a configured time of unreachability. If new incarnation of
          unreachable node tries to rejoin the cluster old incarnation will be
          marked as<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">down</span></code><span
            class="Apple-converted-space">&nbsp;</span>and new incarnation can
          rejoin the cluster without manual intervention.</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
            you have<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">auto-down</em><span
              class="Apple-converted-space">&nbsp;</span>enabled and the failure
            detector triggers, you can over time end up with a lot of single
            node clusters if you don't put measures in place to shut down nodes
            that have become<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code>.
            This follows from the fact that the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
              class="Apple-converted-space">&nbsp;</span>node will likely see
            the rest of the cluster as<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code>,
            become its own leader and form its own cluster.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
          mentioned before, if a node is<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
            class="Apple-converted-space">&nbsp;</span>then gossip convergence
          is not possible and therefore any<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">leader</span></code>actions
          are also not possible. By enabling<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.cluster.allow-weakly-up-members</span></code><span
            class="Apple-converted-space">&nbsp;</span>it is possible to let new
          joining nodes be promoted while convergence is not yet reached. These<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Joining</span></code><span
            class="Apple-converted-space">&nbsp;</span>nodes will be promoted as<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WeaklyUp</span></code>.
          Once gossip convergence is reached, the leader will move<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WeaklyUp</span></code><span
            class="Apple-converted-space">&nbsp;</span>members to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Up</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
          that members on the other side of a network partition have no
          knowledge about the existence of the new members. You should for
          example not count<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WeaklyUp</span></code><span
            class="Apple-converted-space">&nbsp;</span>members in quorum
          decisions.</p>
        <div class="section" id="state-diagram-for-the-member-states-akka-cluster-allow-weakly-up-members-off">
          <h4 id="State_Diagram_for_the_Member_States__akka_cluster_allow-weakly-up-members=off_"
            style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">State
            Diagram for the Member States (<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.cluster.allow-weakly-up-members=off</span></code>)</h4>
          <img alt="../_images/member-states.png" src="http://doc.akka.io/docs/akka/2.4/_images/member-states.png"
            style="max-width: 100%; height: auto; border: 0px;"></div>
        <div class="section" id="state-diagram-for-the-member-states-akka-cluster-allow-weakly-up-members-on">
          <h4 id="State_Diagram_for_the_Member_States__akka_cluster_allow-weakly-up-members=on_"
            style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">State
            Diagram for the Member States (<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.cluster.allow-weakly-up-members=on</span></code>)</h4>
          <img alt="../_images/member-states-weakly-up.png" src="http://doc.akka.io/docs/akka/2.4/_images/member-states-weakly-up.png"
            style="max-width: 100%; height: auto; border: 0px;"></div>
        <div class="section" id="member-states">
          <h4 id="Member_States" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Member
            States</h4>
          <ul style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">joining</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">transient
                    state when joining a cluster</p>
                </dd>
              </dl>
            </li>
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">weakly
                    up</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">transient
                    state while network split (only if<span class="Apple-converted-space">&nbsp;</span><code
                      class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                        class="pre" style="color: rgb(11, 85, 103);">akka.cluster.allow-weakly-up-members=on</span></code>)</p>
                </dd>
              </dl>
            </li>
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">up</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">normal
                    operating state</p>
                </dd>
              </dl>
            </li>
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">leaving</strong><span
                    class="Apple-converted-space">&nbsp;</span>/<span class="Apple-converted-space">&nbsp;</span><strong
                    style="font-weight: bold; color: rgb(11, 85, 103);">exiting</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">states
                    during graceful removal</p>
                </dd>
              </dl>
            </li>
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">down</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">marked
                    as down (no longer part of cluster decisions)</p>
                </dd>
              </dl>
            </li>
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">removed</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">tombstone
                    state (no longer a member)</p>
                </dd>
              </dl>
            </li>
          </ul>
        </div>
        <div class="section" id="user-actions">
          <h4 id="User_Actions" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">User
            Actions</h4>
          <ul style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">join</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">join
                    a single node to a cluster - can be explicit or automatic on
                    startup if a node to join have been specified in the
                    configuration</p>
                </dd>
              </dl>
            </li>
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">leave</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">tell
                    a node to leave the cluster gracefully</p>
                </dd>
              </dl>
            </li>
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">down</strong></dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">mark
                    a node as down</p>
                </dd>
              </dl>
            </li>
          </ul>
        </div>
        <div class="section" id="leader-actions">
          <h4 id="Leader_Actions" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Leader
            Actions</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
              class="Apple-converted-space">&nbsp;</span>has the following
            duties:</p>
          <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">shifting members in and out of the
              cluster
              <ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;">
                <li style="line-height: 18px;">joining -&gt; up</li>
                <li style="line-height: 18px;">exiting -&gt; removed</li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="section" id="failure-detection-and-unreachability">
          <h4 id="Failure_Detection_and_Unreachability" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Failure
            Detection and Unreachability</h4>
          <ul style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;">fd*</dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">the
                    failure detector of one of the monitoring nodes has
                    triggered causing the monitored node to be marked as
                    unreachable</p>
                </dd>
              </dl>
            </li>
            <li style="line-height: 18px;">
              <dl class="first docutils" style="margin-bottom: 18px;">
                <dt style="line-height: 18px; font-weight: bold;">unreachable*</dt>
                <dd style="line-height: 18px; margin-left: 9px;">
                  <p class="first last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">unreachable
                    is not a real member states but more of a flag in addition
                    to the state signaling that the cluster is unable to talk to
                    this node, after being unreachable the failure detector may
                    detect it as reachable again and thereby remove the flag</p>
                </dd>
              </dl>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      Usage</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">For
      introduction to the Akka Cluster concepts please see<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/common/cluster.html#cluster"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Cluster
          Specification</span></a>.</p>
    <div class="section" id="preparing-your-project-for-clustering" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Preparing_Your_Project_for_Clustering" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Preparing
        Your Project for Clustering</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        Akka cluster is a separate jar file. Make sure that you have the
        following dependency in your project:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-cluster"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="a-simple-cluster-example" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="A_Simple_Cluster_Example" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">A
        Simple Cluster Example</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        following configuration enables the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Cluster</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension to be used. It
        joins the cluster and an actor subscribes to cluster membership events
        and logs them.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code><span
          class="Apple-converted-space">&nbsp;</span>configuration looks like
        this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  actor </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    provider </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.ClusterActorRefProvider"</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  remote </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    log</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">remote</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">lifecycle</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">events </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> off</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    netty</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">tcp </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      hostname </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"127.0.0.1"</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      port </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">0</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  cluster </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    seed</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">nodes </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://ClusterSystem@127.0.0.1:2551"</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://ClusterSystem@127.0.0.1:2552"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># auto downing is NOT safe for production deployments.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># you may want to use it during development, read more about it in the docs.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># auto-down-unreachable-after = 10s</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># Disable legacy metrics in akka-cluster.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">enabled</span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);">off</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># Enable metrics extension in akka-cluster-metrics.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">extensions</span><span class="pun" style="color: rgb(89, 80, 80);">=[</span><span
class="str" style="color: rgb(131, 185, 37);">"akka.cluster.metrics.ClusterMetricsExtension"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># Sigar native library extract location during tests.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># Note: use per-jvm-instance folder when running multiple jvm on one host.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="kwd" style="color: rgb(48, 166, 40);">native</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">library</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">extract</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">folder</span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);">$</span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);">user</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dir</span><span class="pun" style="color: rgb(89, 80, 80);">}/</span><span
class="pln" style="color: rgb(89, 80, 80);">target</span><span class="pun" style="color: rgb(89, 80, 80);">/</span><span
class="kwd" style="color: rgb(48, 166, 40);">native</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        enable cluster capabilities in your Akka project you should, at a
        minimum, add the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/remoting.html#remoting-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Remoting</span></a><span
          class="Apple-converted-space">&nbsp;</span>settings, but with<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.ClusterActorRefProvider</span></code>.
        The<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.seed-nodes</span></code><span
          class="Apple-converted-space">&nbsp;</span>should normally also be
        added to your<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code><span
          class="Apple-converted-space">&nbsp;</span>file.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you are running Akka in a Docker container or the nodes for some other
          reason have separate internal and external ip addresses you must
          configure remoting according to<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/remoting.html#remote-configuration-nat"
            style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Akka
              behind NAT or in a Docker container</span></a></p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        seed nodes are configured contact points for initial, automatic, join of
        the cluster.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that if you are going to start the nodes on different machines you need
        to specify the ip-addresses or host names of the machines in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code><span
          class="Apple-converted-space">&nbsp;</span>instead of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">127.0.0.1</span></code></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
        actor that uses the cluster extension may look like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">package</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">sample</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">simple</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterEvent</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SimpleClusterListener</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// subscribe to cluster changes, re-subscribe when restart </span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preStart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">//#subscribe</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">initialStateMode</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">InitialStateAsEvents</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MemberEvent</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">classOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">UnreachableMember</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">//#subscribe</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">postStop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unsubscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MemberUp</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">member</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Member is Up: {}"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">member</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">address</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UnreachableMember</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">member</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Member detected as unreachable: {}"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">member</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MemberRemoved</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">member</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">previousStatus</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Member is Removed: {} after {}"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">member</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">address</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">previousStatus</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">MemberEvent</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ignore</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        actor registers itself as subscriber of certain cluster events. It
        receives events corresponding to the current state of the cluster when
        the subscription starts and then it receives events for changes that
        happen in the cluster.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        easiest way to run this example yourself is to download<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.lightbend.com/platform/getstarted"
          style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Activator</a><span class="Apple-converted-space">&nbsp;</span>and open
        the tutorial named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/activator/template/akka-sample-cluster-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka Cluster
          Samples with Scala</a>. It contains instructions of how to run the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">SimpleClusterApp</span></code>.</p>
    </div>
    <div class="section" id="joining-to-seed-nodes" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Joining_to_Seed_Nodes" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Joining
        to Seed Nodes</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        may decide if joining to the cluster should be done manually or
        automatically to configured initial contact points, so-called seed
        nodes. When a new node is started it sends a message to all seed nodes
        and then sends join command to the one that answers first. If no one of
        the seed nodes replied (might not be started yet) it retries this
        procedure until successful or shutdown.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        define the seed nodes in the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-configuration-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
          class="Apple-converted-space">&nbsp;</span>file (application.conf):</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">seed</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">nodes </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://ClusterSystem@host1:2552"</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://ClusterSystem@host2:2552"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        can also be defined as Java system properties when starting the JVM
        using the following syntax:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Dakka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">cluster</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">seed</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">nodes</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="lit" style="color: rgb(25, 95, 145);">0</span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);">akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="com" style="color: rgb(147, 161, 161);">//ClusterSystem@host1:2552</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Dakka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">cluster</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">seed</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">nodes</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="lit" style="color: rgb(25, 95, 145);">1</span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);">akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="com" style="color: rgb(147, 161, 161);">//ClusterSystem@host2:2552</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        seed nodes can be started in any order and it is not necessary to have
        all seed nodes running, but the node configured as the first element in
        the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">seed-nodes</span></code><span
          class="Apple-converted-space">&nbsp;</span>configuration list must be
        started when initially starting a cluster, otherwise the other
        seed-nodes will not become initialized and no other node can join the
        cluster. The reason for the special first seed node is to avoid forming
        separated islands when starting from an empty cluster. It is quickest to
        start all configured seed nodes at the same time (order doesn't matter),
        otherwise it can take up to the configured<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">seed-node-timeout</span></code><span
          class="Apple-converted-space">&nbsp;</span>until the nodes can join.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        more than two seed nodes have been started it is no problem to shut down
        the first seed node. If the first seed node is restarted, it will first
        try to join the other seed nodes in the existing cluster.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        you don't configure seed nodes you need to join the cluster
        programmatically or manually.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Manual
        joining can be performed by using ref:<cite style="font-style: normal;">cluster_jmx_scala</cite><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-command-line-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Command
            Line Management</span></a>. Joining programmatically can be
        performed with<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Cluster(system).join</span></code>.
        Unsuccessful join attempts are automatically retried after the time
        period defined in configuration property<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">retry-unsuccessful-join-after</span></code>.
        Retries can be disabled by setting the property to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">off</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can join to any node in the cluster. It does not have to be configured
        as a seed node. Note that you can only join to an existing cluster
        member, which means that for bootstrapping some node must join
        itself,and then the following nodes could join them to make up a
        cluster.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        may also use<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Cluster(system).joinSeedNodes</span></code><span
          class="Apple-converted-space">&nbsp;</span>to join programmatically,
        which is attractive when dynamically discovering other nodes at startup
        by using some external tool or API. When using<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">joinSeedNodes</span></code><span
          class="Apple-converted-space">&nbsp;</span>you should not include the
        node itself except for the node that is supposed to be the first seed
        node, and that should be placed first in parameter to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">joinSeedNodes</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Unsuccessful
        attempts to contact seed nodes are automatically retried after the time
        period defined in configuration property<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">seed-node-timeout</span></code>.
        Unsuccessful attempt to join a specific seed node is automatically
        retried after the configured<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">retry-unsuccessful-join-after</span></code>.
        Retrying means that it tries to contact all seed nodes and then joins
        the node that answers first. The first node in the list of seed nodes
        will join itself if it cannot contact any of the other seed nodes within
        the configured<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">seed-node-timeout</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
        actor system can only join a cluster once. Additional attempts will be
        ignored. When it has successfully joined it must be restarted to be able
        to join another cluster or to join the same cluster again.It can use the
        same host name and port after the restart, when it come up as new
        incarnation of existing member in the cluster, trying to join in, then
        the existing one will be removed from the cluster and then it will be
        allowed to join.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          name of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
            class="Apple-converted-space">&nbsp;</span>must be the same for all
          members of a cluster. The name is given when you start the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code>.</p>
      </div>
    </div>
    <div class="section" id="downing" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="automatic-vs-manual-downing-scala"></span>
      <h2 id="Downing" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Downing</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        a member is considered by the failure detector to be unreachable the
        leader is not allowed to perform its duties, such as changing status of
        new joining members to 'Up'. The node must first become reachable again,
        or the status of the unreachable member must be changed to 'Down'.
        Changing status to 'Down' can be performed automatically or manually. By
        default it must be done manually, using<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-jmx-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">JMX</span></a><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-command-line-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Command
            Line Management</span></a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        can also be performed programmatically with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Cluster(system).down(address)</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        pre-packaged solution for the downing problem is provided by<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://doc.akka.io/docs/akka/akka-commercial-addons-1.0/scala/split-brain-resolver.html"
          style="color: rgb(21, 169, 206); text-decoration: none;">Split Brain
          Resolver</a>, which is part of the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.lightbend.com/platform" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Reactive Platform</a>. If you don’t use RP, you should anyway
        carefully read the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://doc.akka.io/docs/akka/akka-commercial-addons-1.0/scala/split-brain-resolver.html"
          style="color: rgb(21, 169, 206); text-decoration: none;">documentation</a><span
          class="Apple-converted-space">&nbsp;</span>of the Split Brain Resolver
        and make sure that the solution you are using handles the concerns
        described there.</p>
      <div class="section" id="auto-downing-do-not-use">
        <h3 id="Auto-downing__DO_NOT_USE_" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Auto-downing
          (DO NOT USE)</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
          is an atomatic downing feature that you should not use in production.
          For testing purpose you can enable it with configuration:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">auto</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">down</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unreachable</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">after</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">120</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          means that the cluster leader member will change the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
            class="Apple-converted-space">&nbsp;</span>node status to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">down</span></code><span
            class="Apple-converted-space">&nbsp;</span>automatically after the
          configured time of unreachability.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          is a naïve approach to remove unreachable nodes from the cluster
          membership. It works great for crashes and short transient network
          partitions, but not for long network partitions. Both sides of the
          network partition will see the other side as unreachable and after a
          while remove it from its cluster membership. Since this happens on
          both sides the result is that two separate disconnected clusters have
          been created. This can also happen because of long GC pauses or system
          overload.</p>
        <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">We
            recommend against using the auto-down feature of Akka Cluster in
            production. This is crucial for correct behavior if you use<span class="Apple-converted-space">&nbsp;</span><a
              class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-singleton.html#cluster-singleton-scala"
              style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Cluster
                Singleton</span></a><span class="Apple-converted-space">&nbsp;</span>or<span
              class="Apple-converted-space">&nbsp;</span><a class="reference internal"
              href="http://doc.akka.io/docs/akka/2.4/scala/cluster-sharding.html#cluster-sharding-scala"
              style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Cluster
                Sharding</span></a>, especially together with Akka<span class="Apple-converted-space">&nbsp;</span><a
              class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
              style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Persistence</span></a>.
            For Akka Persistence with Cluster Sharding it can result in corrupt
            data in case of network partitions.</p>
        </div>
      </div>
    </div>
    <div class="section" id="leaving" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Leaving" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Leaving</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are two ways to remove a member from the cluster.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can just stop the actor system (or the JVM process). It will be detected
        as unreachable and removed after the automatic or manual downing as
        described above.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        more graceful exit can be performed if you tell the cluster that a node
        shall leave. This can be performed using<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-jmx-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">JMX</span></a><span
          class="Apple-converted-space">&nbsp;</span>or<a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-command-line-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Command
            Line Management</span></a>. It can also be performed
        programmatically with:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">cluster</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">leave</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">selfAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that this command can be issued to any member in the cluster, not
        necessarily the one that is leaving. The cluster extension, but not the
        actor system or JVM, of the leaving member will be shutdown after the
        leader has changed status of the member to<span class="Apple-converted-space">&nbsp;</span><cite
          style="font-style: normal;">Exiting</cite>. Thereafter the member will
        be removed from the cluster. Normally this is handled automatically, but
        in case of network failures during this process it might still be
        necessary to set the node’s status to<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Down</span></code><span
          class="Apple-converted-space">&nbsp;</span>in order to complete the
        removal.</p>
    </div>
    <div class="section" id="weaklyup-members" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="weakly-up-scala"></span>
      <h2 id="WeaklyUp_Members" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">WeaklyUp
        Members</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        a node is<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
          class="Apple-converted-space">&nbsp;</span>then gossip convergence is
        not possible and therefore any<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">leader</span></code><span
          class="Apple-converted-space">&nbsp;</span>actions are also not
        possible. However, we still might want new nodes to join the cluster in
        this scenario.</p>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          WeaklyUp feature is marked as<span class="Apple-converted-space">&nbsp;</span><strong
            style="font-weight: bold; color: rgb(255, 255, 255);">“experimental”</strong><span
            class="Apple-converted-space">&nbsp;</span>as of its introduction in
          Akka 2.4.0. We will continue to improve this feature based on our
          users’ feedback, which implies that while we try to keep incompatible
          changes to a minimum the binary compatibility guarantee for
          maintenance releases does not apply this feature.</p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        feature is disabled by default. With a configuration option you can
        allow this behavior:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">allow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">weakly</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">up</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">members</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">on</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">allow-weakly-up-members</span></code><span
          class="Apple-converted-space">&nbsp;</span>is enabled and there is no
        gossip convergence,<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Joining</span></code><span
          class="Apple-converted-space">&nbsp;</span>members will be promoted to<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WeaklyUp</span></code><span
          class="Apple-converted-space">&nbsp;</span>and they will become part
        of the cluster. Once gossip convergence is reached, the leader will move<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WeaklyUp</span></code><span
          class="Apple-converted-space">&nbsp;</span>members to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Up</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can subscribe to the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WeaklyUp</span></code><span
          class="Apple-converted-space">&nbsp;</span>membership event to make
        use of the members that are in this state, but you should be aware of
        that members on the other side of a network partition have no knowledge
        about the existence of the new members. You should for example not count<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WeaklyUp</span></code><span
          class="Apple-converted-space">&nbsp;</span>members in quorum
        decisions.</p>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          feature is only available from Akka 2.4.0 and cannot be used if some
          of your cluster members are running an older version of Akka.</p>
      </div>
    </div>
    <div class="section" id="subscribe-to-cluster-events" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="cluster-subscriber-scala"></span>
      <h2 id="Subscribe_to_Cluster_Events" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Subscribe
        to Cluster Events</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can subscribe to change notifications of the cluster membership by using<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Cluster(system).subscribe</span></code>.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">classOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">MemberEvent</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">classOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">UnreachableMember</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        snapshot of the full state,<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.ClusterEvent.CurrentClusterState</span></code>,
        is sent to the subscriber as the first message, followed by events for
        incremental updates.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that you may receive an empty<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CurrentClusterState</span></code>,
        containing no members, if you start the subscription before the initial
        join procedure has completed. This is expected behavior. When the node
        has been accepted in the cluster you will receive<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MemberUp</span></code><span
          class="Apple-converted-space">&nbsp;</span>for that node, and other
        nodes.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        you find it inconvenient to handle the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CurrentClusterState</span></code><span
          class="Apple-converted-space">&nbsp;</span>you can use<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterEvent.InitialStateAsEvents</span></code>as
        parameter to<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">subscribe</span></code>.
        That means that instead of receiving<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CurrentClusterState</span></code><span
          class="Apple-converted-space">&nbsp;</span>as the first message you
        will receive the events corresponding to the current state to mimic what
        you would have seen if you were listening to the events when they
        occurred in the past. Note that those initial events only correspond to
        the current state and it is not the full history of all changes that
        actually has occurred in the cluster.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">initialStateMode</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">InitialStateAsEvents</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MemberEvent</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">classOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">UnreachableMember</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        events to track the life-cycle of members are:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterEvent.MemberJoined</span></code><span
            class="Apple-converted-space">&nbsp;</span>- A new member has joined
          the cluster and its status has been changed to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Joining</span></code>.</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterEvent.MemberUp</span></code><span
            class="Apple-converted-space">&nbsp;</span>- A new member has joined
          the cluster and its status has been changed to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Up</span></code>.</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterEvent.MemberExited</span></code><span
            class="Apple-converted-space">&nbsp;</span>- A member is leaving the
          cluster and its status has been changed to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Exiting</span></code><span
            class="Apple-converted-space">&nbsp;</span>Note that the node might
          already have been shutdown when this event is published on another
          node.</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterEvent.MemberRemoved</span></code><span
            class="Apple-converted-space">&nbsp;</span>- Member completely
          removed from the cluster.</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterEvent.UnreachableMember</span></code><span
            class="Apple-converted-space">&nbsp;</span>- A member is considered
          as unreachable, detected by the failure detector of at least one other
          node.</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterEvent.ReachableMember</span></code><span
            class="Apple-converted-space">&nbsp;</span>- A member is considered
          as reachable again, after having been unreachable. All nodes that
          previously detected it as unreachable has detected it as reachable
          again.</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are more types of change events, consult the API documentation of
        classes that extends<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.ClusterEvent.ClusterDomainEvent</span></code><span
          class="Apple-converted-space">&nbsp;</span>for details about the
        events.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Instead
        of subscribing to cluster events it can sometimes be convenient to only
        get the full membership state with<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Cluster(system).state</span></code>.
        Note that this state is not necessarily in sync with the events
        published to a cluster subscription.</p>
      <div class="section" id="worker-dial-in-example">
        <h3 id="Worker_Dial-in_Example" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Worker
          Dial-in Example</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Let's
          take a look at an example that illustrates how workers, here named<span
            class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">backend</em>,
          can detect and register to new master nodes, here named<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">frontend</em>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          example application provides a service to transform text. When some
          text is sent to one of the frontend services, it will be delegated to
          one of the backend workers, which performs the transformation job, and
          sends the result back to the original client. New backend nodes, as
          well as new frontend nodes, can be added or removed to the cluster
          dynamically.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Messages:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TransformationJob</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TransformationResult</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">JobFailed</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">reason</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">job</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">TransformationJob</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">BackendRegistration</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          backend worker that performs the transformation job:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TransformationBackend</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// subscribe to cluster changes, MemberUp</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// re-subscribe when restart</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preStart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">classOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">MemberUp</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">postStop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unsubscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TransformationJob</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TransformationResult</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toUpperCase</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">state</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CurrentClusterState</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">state</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">members</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">filter</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">status</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">==</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">MemberStatus</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Up</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">foreach</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">register</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MemberUp</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">register</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">register</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">member</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Member</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">member</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">hasRole</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"frontend"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorSelection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RootActorPath</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">member</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">/</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"user"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">/</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"frontend"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">BackendRegistration</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
          that the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">TransformationBackend</span></code><span
            class="Apple-converted-space">&nbsp;</span>actor subscribes to
          cluster events to detect new, potential, frontend nodes, and send them
          a registration message so that they know that they can use the backend
          worker.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          frontend that receives user jobs and delegates to one of the
          registered backend workers:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TransformationFrontend</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">var</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">backends</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">IndexedSeq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">var</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">jobCounter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">job</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TransformationJob</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">backends</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">isEmpty</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">JobFailed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Service unavailable, try again later"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">job</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">job</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TransformationJob</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jobCounter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">backends</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jobCounter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">backends</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">forward</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">job</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">BackendRegistration</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">backends</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contains</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">watch</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">backends</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">backends</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">:+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Terminated</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">backends</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">backends</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">filterNot</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">==</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
          that the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">TransformationFrontend</span></code><span
            class="Apple-converted-space">&nbsp;</span>actor watch the
          registered backend to be able to remove it from its list of available
          backend workers. Death watch uses the cluster failure detector for
          nodes in the cluster, i.e. it detects network failures and JVM
          crashes, in addition to graceful termination of watched actor. Death
          watch generates the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Terminated</span></code>message
          to the watching actor when the unreachable cluster node has been
          downed and removed.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://www.lightbend.com/platform/getstarted" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
            Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
          named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://www.lightbend.com/activator/template/akka-sample-cluster-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">Akka
            Cluster Samples with Scala</a>. contains the full source code and
          instructions of how to run the<span class="Apple-converted-space">&nbsp;</span><strong
            style="font-weight: bold; color: rgb(11, 85, 103);">Worker Dial-in
            Example</strong>.</p>
      </div>
    </div>
    <div class="section" id="node-roles" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Node_Roles" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Node
        Roles</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Not
        all nodes of a cluster need to perform the same function: there might be
        one sub-set which runs the web front-end, one which runs the data access
        layer and one for the number-crunching. Deployment of actors—for example
        by cluster-aware routers—can take node roles into account to achieve
        this distribution of responsibilities.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        roles of a node is defined in the configuration property named<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.roles</span></code><span
          class="Apple-converted-space">&nbsp;</span>and it is typically defined
        in the start script as a system property or environment variable.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        roles of the nodes is part of the membership information in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MemberEvent</span></code><span
          class="Apple-converted-space">&nbsp;</span>that you can subscribe to.</p>
    </div>
    <div class="section" id="how-to-startup-when-cluster-size-reached" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="How_To_Startup_when_Cluster_Size_Reached" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">How
        To Startup when Cluster Size Reached</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        common use case is to start actors after the cluster has been
        initialized, members have joined, and the cluster has reached a certain
        size.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
        a configuration option you can define required number of members before
        the leader changes member status of 'Joining' members to 'Up'.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">min</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nr</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">of</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">members</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        a similar way you can define required number of members of a certain
        role before the leader changes member status of 'Joining' members to
        'Up'.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">frontend</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">min</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">nr</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">of</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">members</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">backend</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">min</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nr</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">of</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">members</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can start the actors in a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">registerOnMemberUp</span></code><span
          class="Apple-converted-space">&nbsp;</span>callback, which will be
        invoked when the current member status is changed to 'Up', i.e. the
        cluster has at least the defined number of members.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">registerOnMemberUp</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">FactorialFrontend</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">upToN</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"factorialFrontend"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        callback can be used for other things than starting actors.</p>
    </div>
    <div class="section" id="how-to-cleanup-when-member-is-removed" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="How_To_Cleanup_when_Member_is_Removed" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">How
        To Cleanup when Member is Removed</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can do some clean up in a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">registerOnMemberRemoved</span></code><span
          class="Apple-converted-space">&nbsp;</span>callback, which will be
        invoked when the current member status is changed to 'Removed' or the
        cluster have been shutdown.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        example, this is how to shut down the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
          class="Apple-converted-space">&nbsp;</span>and thereafter exit the
        JVM:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">registerOnMemberRemoved</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// exit JVM when ActorSystem has been terminated</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">registerOnTermination</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">System</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">exit</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// shut down ActorSystem</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// In case ActorSystem shutdown takes longer than 10 seconds,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// exit the JVM forcefully anyway.</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// We must spawn a separate thread to not block current thread,</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// since that would have blocked the shutdown of the ActorSystem.</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Thread</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">run</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Try</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Await</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ready</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">whenTerminated</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">10.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">isFailure</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">System</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">exit</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(-</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">start</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Register
          a OnMemberRemoved callback on a cluster that have been shutdown, the
          callback will be invoked immediately on the caller thread, otherwise
          it will be invoked later when the current member status changed to
          'Removed'. You may want to install some cleanup handling after the
          cluster was started up, but the cluster might already be shutting down
          when you installing, and depending on the race is not healthy.</p>
      </div>
    </div>
    <div class="section" id="cluster-singleton" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Cluster_Singleton" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Cluster
        Singleton</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        some use cases it is convenient and sometimes also mandatory to ensure
        that you have exactly one actor of a certain type running somewhere in
        the cluster.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        can be implemented by subscribing to member events, but there are
        several corner cases to consider. Therefore, this specific use case is
        made easily accessible by the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-singleton.html#cluster-singleton-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Cluster
            Singleton</span></a>.</p>
    </div>
    <div class="section" id="cluster-sharding" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Cluster_Sharding" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Cluster
        Sharding</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Distributes
        actors across several nodes in the cluster and supports interaction with
        the actors using their logical identifier, but without having to care
        about their physical location in the cluster.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/cluster-sharding.html#cluster-sharding-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Cluster
            Sharding</span></a></p>
    </div>
    <div class="section" id="distributed-publish-subscribe" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Distributed_Publish_Subscribe" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Distributed
        Publish Subscribe</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Publish-subscribe
        messaging between actors in the cluster, and point-to-point messaging
        using the logical path of the actors, i.e. the sender does not have to
        know on which node the destination actor is running.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/distributed-pub-sub.html#distributed-pub-sub-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Distributed
            Publish Subscribe in Cluster</span></a>.</p>
    </div>
    <div class="section" id="cluster-client" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Cluster_Client" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Cluster
        Client</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Communication
        from an actor system that is not part of the cluster to actors running
        somewhere in the cluster. The client does not have to know on which node
        the destination actor is running.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/cluster-client.html#cluster-client-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Cluster
            Client</span></a>.</p>
    </div>
    <div class="section" id="distributed-data" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Distributed_Data" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Distributed
        Data</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><em
          style="font-style: italic;">Akka Distributed Data</em><span class="Apple-converted-space">&nbsp;</span>is
        useful when you need to share data between nodes in an Akka Cluster. The
        data is accessed with an actor providing a key-value store like API.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/distributed-data.html#distributed-data-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Distributed
            Data</span></a>.</p>
    </div>
    <div class="section" id="failure-detector" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Failure_Detector" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Failure
        Detector</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        a cluster each node is monitored by a few (default maximum 5) other
        nodes, and when any of these detects the node as<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
          class="Apple-converted-space">&nbsp;</span>that information will
        spread to the rest of the cluster through the gossip. In other words,
        only one node needs to mark a node<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
          class="Apple-converted-space">&nbsp;</span>to have the rest of the
        cluster mark that node<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        failure detector will also detect if the node becomes<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">reachable</span></code><span
          class="Apple-converted-space">&nbsp;</span>again. When all nodes that
        monitored the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code><span
          class="Apple-converted-space">&nbsp;</span>node detects it as<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">reachable</span></code><span
          class="Apple-converted-space">&nbsp;</span>again the cluster, after
        gossip dissemination, will consider it as<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">reachable</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        system messages cannot be delivered to a node it will be quarantined and
        then it cannot come back from<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">unreachable</span></code>.
        This can happen if the there are too many unacknowledged system messages
        (e.g. watch, Terminated, remote actor deployment, failures of actors
        supervised by remote parent). Then the node needs to be moved to the<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">down</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">removed</span></code><span
          class="Apple-converted-space">&nbsp;</span>states and the actor system
        of the quarantined node must be restarted before it can join the cluster
        again.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        nodes in the cluster monitor each other by sending heartbeats to detect
        if a node is unreachable from the rest of the cluster. The heartbeat
        arrival times is interpreted by an implementation of<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.jaist.ac.jp/%7Edefago/files/pdf/IS_RR_2004_010.pdf"
          style="color: rgb(21, 169, 206); text-decoration: none;">The Phi
          Accrual Failure Detector</a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        suspicion level of failure is given by a value called<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">phi</em>. The basic idea of the phi
        failure detector is to express the value of<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">phi</em><span class="Apple-converted-space">&nbsp;</span>on
        a scale that is dynamically adjusted to reflect current network
        conditions.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        value of<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">phi</em><span
          class="Apple-converted-space">&nbsp;</span>is calculated as:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">phi</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log10</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">F</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeSinceLastHeartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">where
        F is the cumulative distribution function of a normal distribution with
        mean and standard deviation estimated from historical heartbeat
        inter-arrival times.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-configuration-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
          class="Apple-converted-space">&nbsp;</span>you can adjust the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.failure-detector.threshold</span></code><span
          class="Apple-converted-space">&nbsp;</span>to define when a<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">phi</em><span class="Apple-converted-space">&nbsp;</span>value
        is considered to be a failure.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        low<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
          class="Apple-converted-space">&nbsp;</span>is prone to generate many
        false positives but ensures a quick detection in the event of a real
        crash. Conversely, a high<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
          class="Apple-converted-space">&nbsp;</span>generates fewer mistakes
        but needs more time to detect actual crashes. The default<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
          class="Apple-converted-space">&nbsp;</span>is 8 and is appropriate for
        most situations. However in cloud environments, such as Amazon EC2, the
        value could be increased to 12 in order to account for network issues
        that sometimes occur on such platforms.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        following chart illustrates how<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">phi</em><span class="Apple-converted-space">&nbsp;</span>increase
        with increasing time since the previous heartbeat.</p>
      <img alt="../_images/phi11.png" src="http://doc.akka.io/docs/akka/2.4/_images/phi11.png"
        style="max-width: 100%; height: auto; border: 0px;">
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Phi
        is calculated from the mean and standard deviation of historical inter
        arrival times. The previous chart is an example for standard deviation
        of 200 ms. If the heartbeats arrive with less deviation the curve
        becomes steeper, i.e. it is possible to determine failure more quickly.
        The curve looks like this for a standard deviation of 100 ms.</p>
      <img alt="../_images/phi21.png" src="http://doc.akka.io/docs/akka/2.4/_images/phi21.png"
        style="max-width: 100%; height: auto; border: 0px;">
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        be able to survive sudden abnormalities, such as garbage collection
        pauses and transient network failures the failure detector is configured
        with a margin,<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.failure-detector.acceptable-heartbeat-pause</span></code>.
        You may want to adjust the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-configuration-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
          class="Apple-converted-space">&nbsp;</span>of this depending on you
        environment. This is how the curve looks like for<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">acceptable-heartbeat-pause</span></code><span
          class="Apple-converted-space">&nbsp;</span>configured to 3 seconds.</p>
      <img alt="../_images/phi31.png" src="http://doc.akka.io/docs/akka/2.4/_images/phi31.png"
        style="max-width: 100%; height: auto; border: 0px;">
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Death
        watch uses the cluster failure detector for nodes in the cluster, i.e.
        it detects network failures and JVM crashes, in addition to graceful
        termination of watched actor. Death watch generates the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Terminated</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to the watching
        actor when the unreachable cluster node has been downed and removed.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        you encounter suspicious false positives when the system is under load
        you should define a separate dispatcher for the cluster actors as
        described in<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-dispatcher-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Cluster
            Dispatcher</span></a>.</p>
    </div>
    <div class="section" id="cluster-aware-routers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="cluster-aware-routers-scala"></span>
      <h2 id="Cluster_Aware_Routers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Cluster
        Aware Routers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/routing.html#routing-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">routers</span></a><span
          class="Apple-converted-space">&nbsp;</span>can be made aware of member
        nodes in the cluster, i.e. deploying new routees or looking up routees
        on nodes in the cluster. When a node becomes unreachable or leaves the
        cluster the routees of that node are automatically unregistered from the
        router. When new nodes join the cluster, additional routees are added to
        the router, according to the configuration. Routees are also added when
        a node becomes reachable again, after having been unreachable.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Cluster
        aware routers make use of members with status<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#weakly-up-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">WeaklyUp</span></a><span
          class="Apple-converted-space">&nbsp;</span>if that feature is enabled.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are two distinct types of routers.</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">Group
            - router that sends messages to the specified path using actor
            selection</strong><span class="Apple-converted-space">&nbsp;</span>The
          routees can be shared among routers running on different nodes in the
          cluster. One example of a use case for this type of router is a
          service running on some backend nodes in the cluster and used by
          routers running on front-end nodes in the cluster.</li>
        <li style="line-height: 18px;"><strong style="font-weight: bold; color: rgb(11, 85, 103);">Pool
            - router that creates routees as child actors and deploys them on
            remote nodes.</strong><span class="Apple-converted-space">&nbsp;</span>Each
          router will have its own routee instances. For example, if you start a
          router on 3 nodes in a 10-node cluster, you will have 30 routees in
          total if the router is configured to use one instance per node. The
          routees created by the different routers will not be shared among the
          routers. One example of a use case for this type of router is a single
          master that coordinates jobs and delegates the actual work to routees
          running on other nodes in the cluster.</li>
      </ul>
      <div class="section" id="router-with-group-of-routees">
        <h3 id="Router_with_Group_of_Routees" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Router
          with Group of Routees</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          using a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Group</span></code><span
            class="Apple-converted-space">&nbsp;</span>you must start the routee
          actors on the cluster member nodes. That is not done by the router.
          The configuration for a group looks like this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">deployment </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="str" style="color: rgb(131, 185, 37);">/statsService/</span><span
class="pln" style="color: rgb(89, 80, 80);">workerRouter </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      router </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> consistent</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">hashing</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="kwd" style="color: rgb(48, 166, 40);">group</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      routees</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">paths </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="str" style="color: rgb(131, 185, 37);">"/user/statsWorker"</span><span class="pun"
style="color: rgb(89, 80, 80);">]</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      cluster </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        enabled </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        allow</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">local</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">routees </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="kwd" style="color: rgb(48, 166, 40);">use</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">role </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> compute</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
          </div>
        </div>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            routee actors should be started as early as possible when starting
            the actor system, because the router will try to use them as soon as
            the member status is changed to 'Up'.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          actor paths without address information that are defined in<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">routees.paths</span></code><span
            class="Apple-converted-space">&nbsp;</span>are used for selecting
          the actors to which the messages will be forwarded to by the router.
          Messages will be forwarded to the routees using<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/actors.html#actorselection-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">ActorSelection</span></a>,
          so the same delivery semantics should be expected. It is possible to
          limit the lookup of routees to member nodes tagged with a certain role
          by specifying<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">use-role</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">max-total-nr-of-instances</span></code><span
            class="Apple-converted-space">&nbsp;</span>defines total number of
          routees in the cluster. By default<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">max-total-nr-of-instances</span></code><span
            class="Apple-converted-space">&nbsp;</span>is set to a high value
          (10000) that will result in new routees added to the router when nodes
          join the cluster. Set it to a lower value if you want to limit total
          number of routees.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          same type of router could also have been defined in code:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterGroup</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterGroupSettings</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ConsistentHashingGroup</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">workerRouter</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterGroup</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ConsistentHashingGroup</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Nil</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterGroupSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">totalInstances</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">100</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">routeesPaths</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">List</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/user/statsWorker"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">allowLocalRoutees</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">useRole</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"compute"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(),</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"workerRouter2"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See<span
            class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-configuration-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
            class="Apple-converted-space">&nbsp;</span>section for further
          descriptions of the settings.</p>
      </div>
      <div class="section" id="router-example-with-group-of-routees">
        <h3 id="Router_Example_with_Group_of_Routees" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Router
          Example with Group of Routees</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Let's
          take a look at how to use a cluster aware router with a group of
          routees, i.e. router sending to the paths of the routees.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          example application provides a service to calculate statistics for a
          text. When some text is sent to the service it splits it into words,
          and delegates the task to count number of characters in each word to a
          separate worker, a routee of a router. The character count for each
          word is sent back to an aggregator that calculates the average number
          of characters per word when all results have been collected.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Messages:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsJob</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsResult</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">meanWordLength</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Double</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">JobFailed</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">reason</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          worker that counts number of characters in each word:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsWorker</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">var</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">cache</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">word</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">length</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">cache</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">word</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">match</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">x</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">x</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">x</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">word</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">length</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cache</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">word</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">x</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">x</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sender</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">length</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          service that receives text from users and splits it up into words,
          delegates to workers and aggregates:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsService</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// This router is used both with lookup and deploy of routees. If you</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// have a router with only lookup of routees you can use Props.empty</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// instead of Props[StatsWorker.class].</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">workerRouter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FromConfig</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">StatsWorker</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]),</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"workerRouter"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsJob</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">""</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">words</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">text</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">split</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">" "</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// important to not close over sender()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// create actor that collects replies from workers</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">aggregator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">classOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsAggregator</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">words</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">size</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">words</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">foreach</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">word</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">workerRouter</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">tell</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ConsistentHashableEnvelope</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">word</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">word</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">),</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">aggregator</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsAggregator</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">expectedResults</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">var</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">results</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">IndexedSeq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">setReceiveTimeout</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">wordCount</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">results</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">results</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">:+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">wordCount</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">results</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">==</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">expectedResults</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">meanWordLength</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">results</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sum</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toDouble</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">/</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">results</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replyTo</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsResult</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">meanWordLength</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReceiveTimeout</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">JobFailed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Service unavailable, try again later"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note,
          nothing cluster specific so far, just plain actors.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
          nodes start<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatsService</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatsWorker</span></code><span
            class="Apple-converted-space">&nbsp;</span>actors. Remember, routees
          are the workers in this case. The router is configured with<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">routees.paths</span></code>:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">deployment </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="str" style="color: rgb(131, 185, 37);">/statsService/</span><span
class="pln" style="color: rgb(89, 80, 80);">workerRouter </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    router </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> consistent</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">hashing</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="kwd" style="color: rgb(48, 166, 40);">group</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    routees</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">paths </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="str" style="color: rgb(131, 185, 37);">"/user/statsWorker"</span><span class="pun"
style="color: rgb(89, 80, 80);">]</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    cluster </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      enabled </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      allow</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">local</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">routees </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="kwd" style="color: rgb(48, 166, 40);">use</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">role </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> compute</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          means that user requests can be sent to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatsService</span></code><span
            class="Apple-converted-space">&nbsp;</span>on any node and it will
          use<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatsWorker</span></code><span
            class="Apple-converted-space">&nbsp;</span>on all nodes.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://www.lightbend.com/platform/getstarted" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
            Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
          named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://www.lightbend.com/activator/template/akka-sample-cluster-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">Akka
            Cluster Samples with Scala</a>. contains the full source code and
          instructions of how to run the<span class="Apple-converted-space">&nbsp;</span><strong
            style="font-weight: bold; color: rgb(11, 85, 103);">Router Example
            with Group of Routees</strong>.</p>
      </div>
      <div class="section" id="router-with-pool-of-remote-deployed-routees">
        <h3 id="Router_with_Pool_of_Remote_Deployed_Routees" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Router
          with Pool of Remote Deployed Routees</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          using a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Pool</span></code><span
            class="Apple-converted-space">&nbsp;</span>with routees created and
          deployed on the cluster member nodes the configuration for a router
          looks like this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">deployment</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="str" style="color: rgb(131, 185, 37);">/</span></span><span class="n"><span
class="str" style="color: rgb(131, 185, 37);">statsService</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">/</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">/</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">workerRouter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">router</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">consistent</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">hashing</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pool</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">enabled</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">on</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">max</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">nr</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">of</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">instances</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">per</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">allow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">local</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">routees</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">on</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">use</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">role</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">compute</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
          is possible to limit the deployment of routees to member nodes tagged
          with a certain role by specifying<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">use-role</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">max-total-nr-of-instances</span></code><span
            class="Apple-converted-space">&nbsp;</span>defines total number of
          routees in the cluster, but the number of routees per node,<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">max-nr-of-instances-per-node</span></code>,
          will not be exceeded. By default<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">max-total-nr-of-instances</span></code><span
            class="Apple-converted-space">&nbsp;</span>is set to a high value
          (10000) that will result in new routees added to the router when nodes
          join the cluster. Set it to a lower value if you want to limit total
          number of routees.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          same type of router could also have been defined in code:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterPool</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterPoolSettings</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ConsistentHashingPool</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">workerRouter</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterPool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ConsistentHashingPool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterPoolSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">totalInstances</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">100</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">maxInstancesPerNode</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">allowLocalRoutees</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">useRole</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">props</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">StatsWorker</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]),</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"workerRouter3"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See<span
            class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-configuration-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
            class="Apple-converted-space">&nbsp;</span>section for further
          descriptions of the settings.</p>
      </div>
      <div class="section" id="router-example-with-pool-of-remote-deployed-routees">
        <h3 id="Router_Example_with_Pool_of_Remote_Deployed_Routees" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Router
          Example with Pool of Remote Deployed Routees</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Let's
          take a look at how to use a cluster aware router on single master node
          that creates and deploys workers. To keep track of a single master we
          use the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/cluster-singleton.html#cluster-singleton-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Cluster
              Singleton</span></a><span class="Apple-converted-space">&nbsp;</span>in
          the contrib module. The<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManager</span></code><span
            class="Apple-converted-space">&nbsp;</span>is started on each node.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSingletonManager</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">singletonProps</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">StatsService</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminationMessage</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">PoisonPill</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">settings</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSingletonManagerSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withRole</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"compute"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)),</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"statsService"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">We
          also need an actor on each node that keeps track of where current
          single master exists and delegates jobs to the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatsService</span></code>.
          That is provided by the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonProxy</span></code>.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSingletonProxy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singletonManagerPath</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"/user/statsService"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">settings</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSingletonProxySettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withRole</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"compute"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)),</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"statsServiceProxy"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonProxy</span></code><span
            class="Apple-converted-space">&nbsp;</span>receives text from users
          and delegates to the current<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatsService</span></code>,
          the single master. It listens to cluster events to lookup the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatsService</span></code><span
            class="Apple-converted-space">&nbsp;</span>on the oldest node.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
          nodes start<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonProxy</span></code><span
            class="Apple-converted-space">&nbsp;</span>and the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManager</span></code>.
          The router is now configured like this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">deployment</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="str" style="color: rgb(131, 185, 37);">/</span></span><span class="n"><span
class="str" style="color: rgb(131, 185, 37);">statsService</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">/</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">/</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">workerRouter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">router</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">consistent</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">hashing</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pool</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">enabled</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">on</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">max</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">nr</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">of</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">instances</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">per</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">allow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">local</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">routees</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">on</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">use</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">compute</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://www.lightbend.com/platform/getstarted" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
            Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
          named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://www.lightbend.com/activator/template/akka-sample-cluster-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">Akka
            Cluster Samples with Scala</a>. contains the full source code and
          instructions of how to run the<span class="Apple-converted-space">&nbsp;</span><strong
            style="font-weight: bold; color: rgb(11, 85, 103);">Router Example
            with Pool of Remote Deployed Routees</strong>.</p>
      </div>
    </div>
    <div class="section" id="cluster-metrics" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Cluster_Metrics" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Cluster
        Metrics</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        member nodes of the cluster can collect system health metrics and
        publish that to other cluster nodes and to the registered subscribers on
        the system event bus with the help of<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-metrics.html"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="doc">Cluster
            Metrics Extension</span></a>.</p>
    </div>
    <div class="section" id="how-to-test" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="How_to_Test" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">How
        to Test</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/dev/multi-node-testing.html#multi-node-testing"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Multi
            Node Testing</span></a><span class="Apple-converted-space">&nbsp;</span>is
        useful for testing cluster applications.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Set
        up your project according to the instructions in<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/dev/multi-node-testing.html#multi-node-testing"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Multi
            Node Testing</span></a><span class="Apple-converted-space">&nbsp;</span>and<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/dev/multi-jvm-testing.html#multi-jvm-testing"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Multi
            JVM Testing</span></a>, i.e. add the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">sbt-multi-jvm</span></code><span
          class="Apple-converted-space">&nbsp;</span>plugin and the dependency
        to<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-multi-node-testkit</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">First,
        as described in<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/dev/multi-node-testing.html#multi-node-testing"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Multi
            Node Testing</span></a>, we need some scaffolding to configure the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MultiNodeSpec</span></code>.
        Define the participating roles and their<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-configuration-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
          class="Apple-converted-space">&nbsp;</span>in an object extending<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MultiNodeConfig</span></code>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">remote</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">testkit</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">MultiNodeConfig</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">com</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">typesafe</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">config</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ConfigFactory</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpecConfig</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MultiNodeConfig</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// register the named roles (nodes) of the test</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">first</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"first"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">second</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"second"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">third</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"thrid"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodeList</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Seq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">first</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">second</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">third</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Extract individual sigar library for every node.</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodeList</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">foreach</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">role</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodeConfig</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ConfigFactory</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parseString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"""</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">      # Disable legacy metrics in akka-cluster.</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">      akka.cluster.metrics.enabled=off</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">      # Enable metrics extension in akka-cluster-metrics.</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">      akka.extensions=["</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterMetricsExtension</span><span
class="str" style="color: rgb(131, 185, 37);">"]</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">      # Sigar native library extract location during tests.</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">      akka.cluster.metrics.native-library-extract-folder=target/native/</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">${</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">role</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">name</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">      """</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// this configuration will be used for all nodes</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// note that no fixed host names and ports are used</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">commonConfig</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ConfigFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parseString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"""</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">    akka.actor.provider = "</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterActorRefProvider</span><span
class="str" style="color: rgb(131, 185, 37);">"</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">    akka.remote.log-remote-lifecycle-events = off</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">    akka.cluster.roles = [compute]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">     // router lookup config ...</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">    """</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Define
        one concrete test class for each role/node. These will be instantiated
        on the different nodes (JVMs). They can be implemented differently, but
        often they are the same and extend an abstract test class, as
        illustrated here.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// need one concrete test class per node</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpecMultiJvmNode1</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpec</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpecMultiJvmNode2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpec</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpecMultiJvmNode3</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpec</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        the naming convention of these classes. The name of the classes must end
        with<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MultiJvmNode1</span></code>,<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MultiJvmNode2</span></code><span
          class="Apple-converted-space">&nbsp;</span>and so on. It is possible
        to define another suffix to be used by the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">sbt-multi-jvm</span></code>,
        but the default should be fine in most cases.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Then
        the abstract<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MultiNodeSpec</span></code>,
        which takes the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MultiNodeConfig</span></code><span
          class="Apple-converted-space">&nbsp;</span>as constructor parameter.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">org</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scalatest</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">BeforeAndAfterAll</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">org</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scalatest</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">WordSpecLike</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">org</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scalatest</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Matchers</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">remote</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">testkit</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">MultiNodeSpec</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">testkit</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ImplicitSender</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">abstract</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpec</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MultiNodeSpec</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpecConfig</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WordSpecLike</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Matchers</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">BeforeAndAfterAll</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ImplicitSender</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsSampleSpecConfig</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">initialParticipants</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">roles</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">beforeAll</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">multiNodeSpecBeforeAll</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">afterAll</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">multiNodeSpecAfterAll</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Most
        of this can of course be extracted to a separate trait to avoid
        repeating this in all your tests.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Typically
        you begin your test by starting up the cluster and let the members join,
        and create some actors. That can be done like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"illustrate how to startup cluster"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">in</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">within</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">15</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">seconds</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">testActor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">classOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">MemberUp</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">expectMsgClass</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">CurrentClusterState</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">firstAddress</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">first</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">secondAddress</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">second</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">thirdAddress</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">third</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">join</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">firstAddress</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">StatsWorker</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"statsWorker"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">StatsService</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"statsService"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receiveN</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">3</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">collect</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MemberUp</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">should</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">be</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">firstAddress</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">secondAddress</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">thirdAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unsubscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">testActor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">testConductor</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">enter</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"all-up"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">From
        the test you interact with the cluster using the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Cluster</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension, e.g.<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">join</span></code>.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">join</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">firstAddress</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Notice
        how the<span class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">testActor</cite><span
          class="Apple-converted-space">&nbsp;</span>from<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/testing.html#akka-testkit"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">testkit</span></a><span
          class="Apple-converted-space">&nbsp;</span>is added as<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-subscriber-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">subscriber</span></a><span
          class="Apple-converted-space">&nbsp;</span>to cluster changes and then
        waiting for certain events, such as in this case all members becoming
        'Up'.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        above code was running for all roles (JVMs).<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">runOn</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a convenient utility to
        declare that a certain block of code should only run for a specific
        role.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"show usage of the statsService from one node"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">in</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">within</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">15</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">seconds</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">second</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">assertServiceOk</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">testConductor</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">enter</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"done-2"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">assertServiceOk</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">service</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorSelection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">third</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">/</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"user"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">/</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"statsService"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// eventually the service should be ok,</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// first attempts might fail because worker actors not started yet</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">awaitAssert</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">service</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatsJob</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"this is the text that will be analyzed"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">expectMsgType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">StatsResult</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">second</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">meanWordLength</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">should</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">be</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">3.875</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+-</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0.001</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        again we take advantage of the facilities in<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/testing.html#akka-testkit"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">testkit</span></a><span
          class="Apple-converted-space">&nbsp;</span>to verify expected
        behavior. Here using<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">testActor</span></code><span
          class="Apple-converted-space">&nbsp;</span>as sender (via<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ImplicitSender</span></code>)
        and verifying the reply with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">expectMsgPF</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        the above code you can see<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">node(third)</span></code>,
        which is useful facility to get the root actor reference of the actor
        system for a specific role. This can also be used to grab the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.actor.Address</span></code><span
          class="Apple-converted-space">&nbsp;</span>of that node.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">firstAddress</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">node</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">first</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">address</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">secondAddress</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">second</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">thirdAddress</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">node</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">third</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">address</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="jmx" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="cluster-jmx-scala"></span>
      <h2 id="JMX" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">JMX</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Information
        and management of the cluster is available as JMX MBeans with the root
        name<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.Cluster</span></code>.
        The JMX information can be displayed with an ordinary JMX console such
        as JConsole or JVisualVM.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">From
        JMX you can:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">see what members that are part of the
          cluster</li>
        <li style="line-height: 18px;">see status of this node</li>
        <li style="line-height: 18px;">see roles of each member</li>
        <li style="line-height: 18px;">join this node to another node in cluster</li>
        <li style="line-height: 18px;">mark any node in the cluster as down</li>
        <li style="line-height: 18px;">tell any node in the cluster to leave</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Member
        nodes are identified by their address, in format<span class="Apple-converted-space">&nbsp;</span><cite
          style="font-style: normal;">akka.&lt;protocol&gt;://&lt;actor-system-name&gt;@&lt;hostname&gt;:&lt;port&gt;</cite>.</p>
    </div>
    <div class="section" id="command-line-management" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="cluster-command-line-scala"></span>
      <h2 id="Command_Line_Management" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Command
        Line Management</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        cluster can be managed with the script<span class="Apple-converted-space">&nbsp;</span><cite
          style="font-style: normal;">bin/akka-cluster</cite><span class="Apple-converted-space">&nbsp;</span>provided
        in the Akka distribution.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Run
        it without parameters to see instructions about how to use the script:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="typ" style="color: rgb(0, 143, 169);">Usage</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> bin</span><span class="pun" style="color: rgb(89, 80, 80);">/</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster </span><span class="pun" style="color: rgb(89, 80, 80);">&lt;</span><span
class="pln" style="color: rgb(89, 80, 80);">node</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">hostname</span><span class="pun" style="color: rgb(89, 80, 80);">&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">&lt;</span><span
class="pln" style="color: rgb(89, 80, 80);">jmx</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">port</span><span class="pun" style="color: rgb(89, 80, 80);">&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">&lt;command&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">...</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="typ" style="color: rgb(0, 143, 169);">Supported</span><span class="pln" style="color: rgb(89, 80, 80);"> commands are</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">           join </span><span class="pun"
style="color: rgb(89, 80, 80);">&lt;</span><span class="pln" style="color: rgb(89, 80, 80);">node</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">url</span><span
class="pun" style="color: rgb(89, 80, 80);">&gt;</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Sends</span><span class="pln" style="color: rgb(89, 80, 80);"> request a JOIN node </span><span
class="kwd" style="color: rgb(48, 166, 40);">with</span><span class="pln" style="color: rgb(89, 80, 80);"> the specified URL</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          leave </span><span class="pun" style="color: rgb(89, 80, 80);">&lt;</span><span
class="pln" style="color: rgb(89, 80, 80);">node</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">url</span><span class="pun" style="color: rgb(89, 80, 80);">&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Sends</span><span
class="pln" style="color: rgb(89, 80, 80);"> a request </span><span class="kwd"
style="color: rgb(48, 166, 40);">for</span><span class="pln" style="color: rgb(89, 80, 80);"> node </span><span
class="kwd" style="color: rgb(48, 166, 40);">with</span><span class="pln" style="color: rgb(89, 80, 80);"> URL to LEAVE the cluster</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">           down </span><span class="pun" style="color: rgb(89, 80, 80);">&lt;</span><span
class="pln" style="color: rgb(89, 80, 80);">node</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">url</span><span class="pun" style="color: rgb(89, 80, 80);">&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Sends</span><span
class="pln" style="color: rgb(89, 80, 80);"> a request </span><span class="kwd"
style="color: rgb(48, 166, 40);">for</span><span class="pln" style="color: rgb(89, 80, 80);"> marking node </span><span
class="kwd" style="color: rgb(48, 166, 40);">with</span><span class="pln" style="color: rgb(89, 80, 80);"> URL </span><span
class="kwd" style="color: rgb(48, 166, 40);">as</span><span class="pln" style="color: rgb(89, 80, 80);"> DOWN</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">             member</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">status </span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Asks</span><span
class="pln" style="color: rgb(89, 80, 80);"> the member node </span><span class="kwd"
style="color: rgb(48, 166, 40);">for</span><span class="pln" style="color: rgb(89, 80, 80);"> its current status</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">                   members </span><span class="pun"
style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Asks</span><span class="pln" style="color: rgb(89, 80, 80);"> the cluster </span><span
class="kwd" style="color: rgb(48, 166, 40);">for</span><span class="pln" style="color: rgb(89, 80, 80);"> addresses of current members</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">               unreachable </span><span class="pun"
style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Asks</span><span class="pln" style="color: rgb(89, 80, 80);"> the cluster </span><span
class="kwd" style="color: rgb(48, 166, 40);">for</span><span class="pln" style="color: rgb(89, 80, 80);"> addresses of unreachable members</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            cluster</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">status </span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Asks</span><span
class="pln" style="color: rgb(89, 80, 80);"> the cluster </span><span class="kwd"
style="color: rgb(48, 166, 40);">for</span><span class="pln" style="color: rgb(89, 80, 80);"> its current status </span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">member ring</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">                             unavailable nodes</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> meta data etc</span><span
class="pun" style="color: rgb(89, 80, 80);">.)</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">                    leader </span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Asks</span><span class="pln" style="color: rgb(89, 80, 80);"> the cluster who the current leader </span><span
class="kwd" style="color: rgb(48, 166, 40);">is</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">              </span><span class="kwd"
style="color: rgb(48, 166, 40);">is</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">singleton </span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Checks</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">if</span><span
class="pln" style="color: rgb(89, 80, 80);"> the cluster </span><span class="kwd"
style="color: rgb(48, 166, 40);">is</span><span class="pln" style="color: rgb(89, 80, 80);"> a singleton cluster </span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">single</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">                             node cluster</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">              </span><span class="kwd"
style="color: rgb(48, 166, 40);">is</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">available </span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Checks</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">if</span><span
class="pln" style="color: rgb(89, 80, 80);"> the member node </span><span class="kwd"
style="color: rgb(48, 166, 40);">is</span><span class="pln" style="color: rgb(89, 80, 80);"> available</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="typ"
style="color: rgb(0, 143, 169);">Where</span><span class="pln" style="color: rgb(89, 80, 80);"> the </span><span
class="pun" style="color: rgb(89, 80, 80);">&lt;</span><span class="pln" style="color: rgb(89, 80, 80);">node</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">url</span><span
class="pun" style="color: rgb(89, 80, 80);">&gt;</span><span class="pln" style="color: rgb(89, 80, 80);"> should be on the format of</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="str" style="color: rgb(131, 185, 37);">'akka.&lt;protocol&gt;://&lt;actor-system-name&gt;@&lt;hostname&gt;:&lt;port&gt;'</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="typ" style="color: rgb(0, 143, 169);">Examples</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> bin</span><span class="pun" style="color: rgb(89, 80, 80);">/</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster localhost </span><span class="lit"
style="color: rgb(25, 95, 145);">9999</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">is</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">available</span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          bin</span><span
class="pun" style="color: rgb(89, 80, 80);">/</span><span class="pln" style="color: rgb(89, 80, 80);">akka</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">cluster localhost </span><span
class="lit" style="color: rgb(25, 95, 145);">9999</span><span class="pln" style="color: rgb(89, 80, 80);"> join akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="com" style="color: rgb(147, 161, 161);">//MySystem@darkstar:2552</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          bin</span><span class="pun" style="color: rgb(89, 80, 80);">/</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster localhost </span><span class="lit"
style="color: rgb(25, 95, 145);">9999</span><span class="pln" style="color: rgb(89, 80, 80);"> cluster</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">status</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        be able to use the script you must enable remote monitoring and
        management when starting the JVMs of the cluster nodes, as described in<span
          class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://docs.oracle.com/javase/6/docs/technotes/guides/management/agent.html"
          style="color: rgb(21, 169, 206); text-decoration: none;">Monitoring
          and Management Using JMX Technology</a></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Example
        of system properties to enable remote monitoring and management:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">java</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Dcom</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">sun</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">management</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jmxremote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">9999</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">\</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Dcom</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sun</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">management</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jmxremote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">authenticate</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">\</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Dcom</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sun</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">management</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jmxremote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ssl</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="configuration" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="cluster-configuration-scala"></span>
      <h2 id="Configuration" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuration</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are several configuration properties for the cluster. We refer to the<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/general/configuration.html#config-akka-cluster"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">reference
            configuration</span></a><span class="Apple-converted-space">&nbsp;</span>for
        more information.</p>
      <div class="section" id="cluster-info-logging">
        <h3 id="Cluster_Info_Logging" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Cluster
          Info Logging</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          can silence the logging of cluster events at info level with
          configuration property:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">off</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="cluster-dispatcher"><span id="cluster-dispatcher-scala"></span>
        <h3 id="Cluster_Dispatcher" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Cluster
          Dispatcher</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Under
          the hood the cluster extension is implemented with actors and it can
          be necessary to create a bulkhead for those actors to avoid
          disturbance from other actors. Especially the heartbeating actors that
          is used for failure detection can generate false positives if they are
          not given a chance to run at regular intervals. For this purpose you
          can define a separate dispatcher to be used for the cluster actors:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">use</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">type</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Dispatcher"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">executor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"fork-join-executor"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">fork</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">join</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">parallelism</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">min</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">2</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parallelism</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">max</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">4</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Normally
            it should not be necessary to configure a separate dispatcher for
            the Cluster. The default-dispatcher should be sufficient for
            performing the Cluster tasks, i.e.<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.cluster.use-dispatcher</span></code><span
              class="Apple-converted-space">&nbsp;</span>should not be changed.
            If you have Cluster related problems when using the
            default-dispatcher that is typically an indication that you are
            running blocking or CPU intensive actors/tasks on the
            default-dispatcher. Use dedicated dispatchers for such actors/tasks
            instead of running them on the default-dispatcher, because that may
            starve system internal tasks. Related config properties:<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.cluster.use-dispatcher</span><span
                class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">=</span><span
                class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">akka.cluster.cluster-dispatcher</span></code>.
            Corresponding default values:<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.cluster.use-dispatcher</span><span
                class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">=</span></code>.</p>
        </div>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      Singleton</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">For
      some use cases it is convenient and sometimes also mandatory to ensure
      that you have exactly one actor of a certain type running somewhere in the
      cluster.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Some
      examples:</p>
    <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc; color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <li style="line-height: 18px;">single point of responsibility for certain
        cluster-wide consistent decisions, or coordination of actions across the
        cluster system</li>
      <li style="line-height: 18px;">single entry point to an external system</li>
      <li style="line-height: 18px;">single master, many workers</li>
      <li style="line-height: 18px;">centralized naming service, or routing
        logic</li>
    </ul>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Using
      a singleton should not be the first design choice. It has several
      drawbacks, such as single-point of bottleneck. Single-point of failure is
      also a relevant concern, but for some cases this feature takes care of
      that by making sure that another singleton instance will eventually be
      started.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      cluster singleton pattern is implemented by<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.cluster.singleton.ClusterSingletonManager</span></code>.
      It manages one singleton actor instance among all cluster nodes or a group
      of nodes tagged with a specific role.<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManager</span></code><span
        class="Apple-converted-space">&nbsp;</span>is an actor that is supposed
      to be started on all nodes, or all nodes with specified role, in the
      cluster. The actual singleton actor is started by the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManager</span></code><span
        class="Apple-converted-space">&nbsp;</span>on the oldest node by
      creating a child actor from supplied<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Props</span></code>.<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManager</span></code><span
        class="Apple-converted-space">&nbsp;</span>makes sure that at most one
      singleton instance is running at any point in time.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      singleton actor is always running on the oldest member with specified
      role. The oldest member is determined by<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.cluster.Member#isOlderThan</span></code>.
      This can change when removing that member from the cluster. Be aware that
      there is a short time period when there is no active singleton during the
      hand-over process.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      cluster failure detector will notice when oldest node becomes unreachable
      due to things like JVM crash, hard shut down, or network failure. Then a
      new oldest node will take over and a new singleton actor is created. For
      these failure scenarios there will not be a graceful hand-over, but more
      than one active singletons is prevented by all reasonable means. Some
      corner cases are eventually resolved by configurable timeouts.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">You
      can access the singleton actor by using the provided<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.cluster.singleton.ClusterSingletonProxy</span></code>,
      which will route all messages to the current instance of the singleton.
      The proxy will keep track of the oldest node in the cluster and resolve
      the singleton's<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code><span
        class="Apple-converted-space">&nbsp;</span>by explicitly sending the
      singleton's<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">actorSelection</span></code><span
        class="Apple-converted-space">&nbsp;</span>the<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.actor.Identify</span></code><span
        class="Apple-converted-space">&nbsp;</span>message and waiting for it to
      reply. This is performed periodically if the singleton doesn't reply
      within a certain (configurable) time. Given the implementation, there
      might be periods of time during which the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code><span
        class="Apple-converted-space">&nbsp;</span>is unavailable, e.g., when a
      node leaves the cluster. In these cases, the proxy will buffer the
      messages sent to the singleton and then deliver them when the singleton is
      finally available. If the buffer is full the<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonProxy</span></code><span
        class="Apple-converted-space">&nbsp;</span>will drop old messages when
      new messages are sent via the proxy. The size of the buffer is
      configurable and it can be disabled by using a buffer size of 0.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">It's
      worth noting that messages can always be lost because of the distributed
      nature of these actors. As always, additional logic should be implemented
      in the singleton (acknowledgement) and in the client (retry) actors to
      ensure at-least-once message delivery.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      singleton instance will not run on members with status<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#weakly-up-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">WeaklyUp</span></a><span
        class="Apple-converted-space">&nbsp;</span>if that feature is enabled.</p>
    <div class="section" id="potential-problems-to-be-aware-of" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Potential_problems_to_be_aware_of" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Potential
        problems to be aware of</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        pattern may seem to be very tempting to use at first, but it has several
        drawbacks, some of them are listed below:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">the cluster singleton may quickly become
          a<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">performance
            bottleneck</em>,</li>
        <li style="line-height: 18px;">you can not rely on the cluster singleton
          to be<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">non-stop</em><span
            class="Apple-converted-space">&nbsp;</span>available — e.g. when the
          node on which the singleton has been running dies, it will take a few
          seconds for this to be noticed and the singleton be migrated to
          another node,</li>
        <li style="line-height: 18px;">in the case of a<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">network partition</em><span class="Apple-converted-space">&nbsp;</span>appearing
          in a Cluster that is using Automatic Downing (see Auto Downing docs
          for<a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#automatic-vs-manual-downing-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Downing</span></a>),
          it may happen that the isolated clusters each decide to spin up their
          own singleton, meaning that there might be multiple singletons running
          in the system, yet the Clusters have no way of finding out about them
          (because of the partition).</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Especially
        the last point is something you should be aware of — in general when
        using the Cluster Singleton pattern you should take care of downing
        nodes yourself and not rely on the timing based auto-down feature.</p>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><strong
            style="font-weight: bold; color: rgb(255, 255, 255);">Don't use
            Cluster Singleton together with Automatic Downing</strong>, since it
          allows the cluster to split up into two separate clusters, which in
          turn will result in<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">multiple Singletons</em><span class="Apple-converted-space">&nbsp;</span>being
          started, one in each separate cluster!</p>
      </div>
    </div>
    <div class="section" id="an-example" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="An_Example" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">An
        Example</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Assume
        that we need one single entry point to an external system. An actor that
        receives messages from a JMS queue with the strict requirement that only
        one JMS consumer must exist to be make sure that the messages are
        processed in order. That is perhaps not how one would like to design
        things, but a typical real-world scenario when integrating with external
        systems.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">On
        each node in the cluster you need to start the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManager</span></code><span
          class="Apple-converted-space">&nbsp;</span>and supply the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Props</span></code><span
          class="Apple-converted-space">&nbsp;</span>of the singleton actor, in
        this case the JMS queue consumer.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterSingletonManager</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">singletonProps</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">queue</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">testActor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminationMessage</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">End</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">settings</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSingletonManagerSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withRole</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"worker"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)),</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"consumer"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
        we limit the singleton to nodes tagged with the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">"worker"</span></code><span
          class="Apple-converted-space">&nbsp;</span>role, but all nodes,
        independent of role, can be used by not specifying<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">withRole</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
        we use an application specific<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">terminationMessage</span></code><span
          class="Apple-converted-space">&nbsp;</span>to be able to close the
        resources before actually stopping the singleton actor. Note that<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">PoisonPill</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a perfectly fine<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">terminationMessage</span></code><span
          class="Apple-converted-space">&nbsp;</span>if you only need to stop
        the actor.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
        is how the singleton actor handles the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">terminationMessage</span></code><span
          class="Apple-converted-space">&nbsp;</span>in this example.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">End</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">queue</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UnregisterConsumer</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UnregistrationOk</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">stoppedBeforeUnregistration</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">stop</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ping</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sender</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Pong</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
        the names given above, access to the singleton can be obtained from any
        cluster node using a properly configured proxy.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterSingletonProxy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">singletonManagerPath</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"/user/consumer"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">settings</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSingletonProxySettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withRole</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"worker"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)),</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"consumerProxy"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        more comprehensive sample is available in the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.lightbend.com/platform/getstarted"
          style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
        named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/activator/template/akka-distributed-workers"
          style="color: rgb(21, 169, 206); text-decoration: none;">Distributed
          workers with Akka and Scala!</a>.</p>
    </div>
    <div class="section" id="dependencies" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Dependencies" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Dependencies</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        use the Cluster Singleton you must add the following dependency in your
        project.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">sbt:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-cluster-tools"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">maven:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">com</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">typesafe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">tools_2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">11</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">version</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">2.4</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">10</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">version</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="configuration" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Configuration" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuration</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        following configuration properties are read by the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManagerSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>when created with a<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
          class="Apple-converted-space">&nbsp;</span>parameter. It is also
        possible to amend the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManagerSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>or create it from another
        config section with the same layout as below.<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManagerSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a parameter to the<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonManager.props</span></code><span
          class="Apple-converted-space">&nbsp;</span>factory method, i.e. each
        singleton can be configured with different settings if needed.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">actor</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">name</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">child</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">singleton</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">actor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"singleton"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Singleton</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">among</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">nodes</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">tagged</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">with</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">specified</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">role</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">role</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">not</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">specified</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">it</span></span><span class=" -Symbol"><span
class="com" style="color: rgb(147, 161, 161);">'s</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">a</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">singleton</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">among</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">all</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">nodes</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">in</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">cluster</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">""</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">When</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">a</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">node</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">becoming</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">oldest</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">it</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">sends</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">hand</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">-</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">over</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">request</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">previous</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">oldest</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">,</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">that</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">might</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">leaving</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">cluster</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">This</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">retried</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">with</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">interval</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">until</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">previous</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">oldest</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">confirms</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">that</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">hand</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">over</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">has</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">started</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">or</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">previous</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">oldest</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">member</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">removed</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">from</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">cluster</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">(+</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">down</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">removal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">margin</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">).</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">hand</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">over</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">retry</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">number</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">retries</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">are</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">derived</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">from</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">hand</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">over</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">retry</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">interval</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">and</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">down</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">removal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">margin</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">(</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">or</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterSingletonManagerSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">removalMargin</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">),</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">but</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">it</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">never</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">less</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">than</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">property</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">min</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">number</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">of</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">hand</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">over</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">retries</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">10</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        following configuration properties are read by the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonProxySettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>when created with a<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
          class="Apple-converted-space">&nbsp;</span>parameter. It is also
        possible to amend the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonProxySettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>or create it from another
        config section with the same layout as below.<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonProxySettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a parameter to the<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSingletonProxy.props</span></code><span
          class="Apple-converted-space">&nbsp;</span>factory method, i.e. each
        singleton proxy can be configured with different settings if needed.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">proxy</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">actor</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">name</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">singleton</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">actor</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">that</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">is</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">started</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">by</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterSingletonManager</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">$</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">role</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">cluster</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">nodes</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">where</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">singleton</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">can</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">be</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">deployed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">role</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">not</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">specified</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">then</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">any</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">node</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">do</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">""</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Interval</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">at</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">which</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">proxy</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">try</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">resolve</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">singleton</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">instance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleton</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">identification</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">location</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">singleton</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">is</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">unknown</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">proxy</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">buffer</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">number</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">messages</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">and</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">deliver</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">them</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">when</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">singleton</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">identified</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">When</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">buffer</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">full</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">old</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">messages</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">be</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">dropped</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">when</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">new</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">messages</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">are</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">sent</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">via</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">proxy</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Use</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="com" style="color: rgb(147, 161, 161);">0</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">disable</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">buffering</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">,</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">i</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">e</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">messages</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">dropped</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">immediately</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">if</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">location</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">singleton</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">unknown</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Maximum</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">allowed</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">buffer</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">size</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">is</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="com" style="color: rgb(147, 161, 161);">10000.</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1000</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Distributed
      Publish Subscribe in Cluster</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">How
      do I send a message to an actor without knowing which node it is running
      on?</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">How
      do I send messages to all actors in the cluster that have registered
      interest in a named topic?</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">This
      pattern provides a mediator actor,<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.cluster.pubsub.DistributedPubSubMediator</span></code>,
      that manages a registry of actor references and replicates the entries to
      peer actors among all cluster nodes or a group of nodes tagged with a
      specific role.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator</span></code><span
        class="Apple-converted-space">&nbsp;</span>actor is supposed to be
      started on all nodes, or all nodes with specified role, in the cluster.
      The mediator can be started with the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">DistributedPubSub</span></code><span
        class="Apple-converted-space">&nbsp;</span>extension or as an ordinary
      actor.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      registry is eventually consistent, i.e. changes are not immediately
      visible at other nodes, but typically they will be fully replicated to all
      other nodes after a few seconds. Changes are only performed in the own
      part of the registry and those changes are versioned. Deltas are
      disseminated in a scalable way to other nodes with a gossip protocol.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      members with status<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#weakly-up-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">WeaklyUp</span></a>,
      if that feature is enabled, will participate in Distributed Publish
      Subscribe, i.e. subscribers on nodes with<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">WeaklyUp</span></code><span
        class="Apple-converted-space">&nbsp;</span>status will receive published
      messages if the publisher and subscriber are on same side of a network
      partition.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">You
      can send messages via the mediator on any node to registered actors on any
      other node.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">There
      a two different modes of message delivery, explained in the sections<span
        class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/distributed-pub-sub.html#distributed-pub-sub-publish-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Publish</span></a><span
        class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/distributed-pub-sub.html#distributed-pub-sub-send-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Send</span></a><span
        class="Apple-converted-space">&nbsp;</span>below.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">A
      more comprehensive sample is available in the<span class="Apple-converted-space">&nbsp;</span><a
        class="reference external" href="http://www.lightbend.com/platform/getstarted"
        style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
        Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
      named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
        href="http://www.lightbend.com/activator/template/akka-clustering" style="color: rgb(21, 169, 206); text-decoration: none;">Akka
        Clustered PubSub with Scala!</a>.</p>
    <div class="section" id="publish" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="distributed-pub-sub-publish-scala"></span>
      <h2 id="Publish" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Publish</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is the true pub/sub mode. A typical usage of this mode is a chat room in
        an instant messaging application.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Actors
        are registered to a named topic. This enables many subscribers on each
        node. The message will be delivered to all subscribers of the topic.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        efficiency the message is sent over the wire only once per node (that
        has a matching topic), and then delivered to all subscribers of the
        local topic representation.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        register actors to the local mediator with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.Subscribe</span></code>.
        Successful<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Subscribe</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Unsubscribe</span></code><span
          class="Apple-converted-space">&nbsp;</span>is acknowledged with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.SubscribeAck</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.UnsubscribeAck</span></code><span
          class="Apple-converted-space">&nbsp;</span>replies. The acknowledgment
        means that the subscription is registered, but it can still take some
        time until it is replicated to other nodes.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        publish messages by sending<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.Publish</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to the local
        mediator.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Actors
        are automatically removed from the registry when they are terminated, or
        you can explicitly remove entries with<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.Unsubscribe</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
        example of a subscriber actor:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Subscriber</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedPubSubMediator</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SubscribeAck</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DistributedPubSub</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// subscribe to the topic named "content"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"content"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">info</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Got {}"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SubscribeAck</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"content"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`self`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">info</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"subscribing"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">);</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Subscriber
        actors can be started on several nodes in the cluster, and all will
        receive messages published to the "content" topic.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">first</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Subscriber</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"subscriber1"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Subscriber</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"subscriber2"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Subscriber</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"subscriber3"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        simple actor that publishes to this "content" topic:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Publisher</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedPubSubMediator</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Publish</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// activate the extension</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DistributedPubSub</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">in</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">out</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">in</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toUpperCase</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Publish</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"content"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">out</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        can publish messages to the topic from anywhere in the cluster:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">third</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">publisher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Publisher</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"publisher"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">later</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// after a while the subscriptions are replicated</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">publisher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"hello"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <div class="section" id="topic-groups">
        <h3 id="Topic_Groups" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Topic
          Groups</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Actors
          may also be subscribed to a named topic with a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">group</span></code><span
            class="Apple-converted-space">&nbsp;</span>id. If subscribing with a
          group id, each message published to a topic with the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">sendOneMessageToEachGroup</span></code><span
            class="Apple-converted-space">&nbsp;</span>flag set to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">true</span></code><span
            class="Apple-converted-space">&nbsp;</span>is delivered via the
          supplied<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">RoutingLogic</span></code><span
            class="Apple-converted-space">&nbsp;</span>(default random) to one
          actor within each subscribing group.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          all the subscribed actors have the same group id, then this works just
          like<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Send</span></code><span
            class="Apple-converted-space">&nbsp;</span>and each message is only
          delivered to one subscriber.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          all the subscribed actors have different group names, then this works
          like normal<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Publish</span></code><span
            class="Apple-converted-space">&nbsp;</span>and each message is
          broadcasted to all subscribers.</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
            that if the group id is used it is part of the topic identifier.
            Messages published with<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">sendOneMessageToEachGroup=false</span></code><span
              class="Apple-converted-space">&nbsp;</span>will not be delivered
            to subscribers that subscribed with a group id. Messages published
            with<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">sendOneMessageToEachGroup=true</span></code><span
              class="Apple-converted-space">&nbsp;</span>will not be delivered
            to subscribers that subscribed without a group id.</p>
        </div>
      </div>
    </div>
    <div class="section" id="send" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="distributed-pub-sub-send-scala"></span>
      <h2 id="Send" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Send</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is a point-to-point mode where each message is delivered to one
        destination, but you still does not have to know where the destination
        is located. A typical usage of this mode is private chat to one other
        user in an instant messaging application. It can also be used for
        distributing tasks to registered workers, like a cluster aware router
        where the routees dynamically can register themselves.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        message will be delivered to one recipient with a matching path, if any
        such exists in the registry. If several entries match the path because
        it has been registered on several nodes the message will be sent via the
        supplied<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">RoutingLogic</span></code><span
          class="Apple-converted-space">&nbsp;</span>(default random) to one
        destination. The sender() of the message can specify that local affinity
        is preferred, i.e. the message is sent to an actor in the same local
        actor system as the used mediator actor, if any such exists, otherwise
        route to any other matching entry.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        register actors to the local mediator with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.Put</span></code>.
        The<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code><span
          class="Apple-converted-space">&nbsp;</span>in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Put</span></code><span
          class="Apple-converted-space">&nbsp;</span>must belong to the same
        local actor system as the mediator. The path without address information
        is the key to which you send messages. On each node there can only be
        one actor for a given path, since the path is unique within one local
        actor system.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        send messages by sending<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.Send</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to the local
        mediator with the path (without address information) of the destination
        actors.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Actors
        are automatically removed from the registry when they are terminated, or
        you can explicitly remove entries with<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.Remove</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
        example of a destination actor:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Destination</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedPubSubMediator</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Put</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DistributedPubSub</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// register to the path</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Put</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">info</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Got {}"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Destination
        actors can be started on several nodes in the cluster, and all will
        receive messages sent to the path (without address information).</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">first</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Destination</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"destination"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Destination</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"destination"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        simple actor that sends to the path:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Sender</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedPubSubMediator</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Send</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// activate the extension</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DistributedPubSub</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">in</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">out</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">in</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toUpperCase</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Send</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">path</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"/user/destination"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">msg</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">out</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">localAffinity</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        can send messages to the path from anywhere in the cluster:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">third</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"sender"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">later</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// after a while the destinations are replicated</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"hello"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is also possible to broadcast messages to the actors that have been
        registered with<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Put</span></code>. Send<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator.SendToAll</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to the local
        mediator and the wrapped message will then be delivered to all
        recipients with a matching path. Actors with the same path, without
        address information, can be registered on different nodes. On each node
        there can only be one such actor, since the path is unique within one
        local actor system.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Typical
        usage of this mode is to broadcast messages to all replicas with the
        same path, e.g. 3 actors on different nodes that all perform the same
        actions, for redundancy. You can also optionally specify a property (<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">allButSelf</span></code>)
        deciding if the message should be sent to a matching path on the self
        node or not.</p>
    </div>
    <div class="section" id="distributedpubsub-extension" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="DistributedPubSub_Extension" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">DistributedPubSub
        Extension</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        the example above the mediator is started and accessed with the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.pubsub.DistributedPubSub</span></code>extension.
        That is convenient and perfectly fine in most cases, but it can be good
        to know that it is possible to start the mediator actor as an ordinary
        actor and you can have several different mediators at the same time to
        be able to divide a large number of actors/topics to different
        mediators. For example you might want to use different cluster roles for
        different mediators.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSub</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension can be configured
        with the following properties:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="com" style="color: rgb(147, 161, 161);"># Settings for the DistributedPubSub extension</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">pub</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">sub</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">{</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Actor name of the mediator actor, /system/distributedPubSubMediator</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  name </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> distributedPubSubMediator</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Start the mediator on members tagged with this role.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># All members are used if undefined or empty.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  role </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">""</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The routing logic to use for 'Send'</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Possible values: random, round-robin, broadcast</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  routing</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">logic </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> random</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># How often the DistributedPubSubMediator should send out gossip information</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  gossip</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">interval </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">1s</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Removed entries are pruned after this duration</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  removed</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">time</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">to</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">live </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">120s</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Maximum number of elements to transfer in one message when synchronizing the registries.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Next chunk will be transferred in next round of gossip.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">delta</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">elements </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">3000</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The id of the dispatcher to use for DistributedPubSubMediator actors. </span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># If not specified default dispatcher is used.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># If specified you need to define the settings of the actual dispatcher.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="kwd" style="color: rgb(48, 166, 40);">use</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">dispatcher </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="str" style="color: rgb(131, 185, 37);">""</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is recommended to load the extension when the actor system is started by
        defining it in<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.extensions</span></code>configuration
        property. Otherwise it will be activated when first used and then it
        takes a while for it to be populated.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">extensions </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.pubsub.DistributedPubSub"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="dependencies" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Dependencies" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Dependencies</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        use Distributed Publish Subscribe you must add the following dependency
        in your project.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">sbt:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-cluster-tools"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">maven:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">com</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">typesafe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">tools_2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">11</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">version</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">2.4</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">10</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">version</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      Client</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">An
      actor system that is not part of the cluster can communicate with actors
      somewhere in the cluster via this<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code>.
      The client can of course be part of another cluster. It only needs to know
      the location of one (or more) nodes to use as initial contact points. It
      will establish a connection to a<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterReceptionist</span></code><span
        class="Apple-converted-space">&nbsp;</span>somewhere in the cluster. It
      will monitor the connection to the receptionist and establish a new
      connection if the link goes down. When looking for a new receptionist it
      uses fresh contact points retrieved from previous establishment, or
      periodically refreshed contacts, i.e. not necessarily the initial contact
      points.</p>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
          class="Apple-converted-space">&nbsp;</span>should not be used when
        sending messages to actors that run within the same cluster. Similar
        functionality as the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
          class="Apple-converted-space">&nbsp;</span>is provided in a more
        efficient way by<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/distributed-pub-sub.html#distributed-pub-sub-scala"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Distributed
            Publish Subscribe in Cluster</span></a><span class="Apple-converted-space">&nbsp;</span>for
        actors that belong to the same cluster.</p>
    </div>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Also,
      note it's necessary to change<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.actor.provider</span></code><span
        class="Apple-converted-space">&nbsp;</span>from<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.actor.LocalActorRefProvider</span></code><span
        class="Apple-converted-space">&nbsp;</span>to<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.remote.RemoteActorRefProvider</span></code><span
        class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka.cluster.ClusterActorRefProvider</span></code><span
        class="Apple-converted-space">&nbsp;</span>when using the cluster
      client.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      receptionist is supposed to be started on all nodes, or all nodes with
      specified role, in the cluster. The receptionist can be started with the<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code><span
        class="Apple-converted-space">&nbsp;</span>extension or as an ordinary
      actor.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">You
      can send messages via the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
        class="Apple-converted-space">&nbsp;</span>to any actor in the cluster
      that is registered in the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">DistributedPubSubMediator</span></code><span
        class="Apple-converted-space">&nbsp;</span>used by the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterReceptionist</span></code>.
      The<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code><span
        class="Apple-converted-space">&nbsp;</span>provides methods for
      registration of actors that should be reachable from the client. Messages
      are wrapped in<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient.Send</span></code>,<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient.SendToAll</span></code><span
        class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient.Publish</span></code>.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Both
      the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
        class="Apple-converted-space">&nbsp;</span>and the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code><span
        class="Apple-converted-space">&nbsp;</span>emit events that can be
      subscribed to. The<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
        class="Apple-converted-space">&nbsp;</span>sends out notifications in
      relation to having received a list of contact points from the<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code>.
      One use of this list might be for the client to record its contact points.
      A client that is restarted could then use this information to supersede
      any previously configured contact points.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code><span
        class="Apple-converted-space">&nbsp;</span>sends out notifications in
      relation to having received contact from a<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code>.
      This notification enables the server containing the receptionist to become
      aware of what clients are connected.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong
        style="font-weight: bold; color: rgb(11, 85, 103);">1.
        ClusterClient.Send</strong></p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      message will be delivered to one recipient with a matching path, if any
      such exists. If several entries match the path the message will be
      delivered to one random destination. The sender() of the message can
      specify that local affinity is preferred, i.e. the message is sent to an
      actor in the same local actor system as the used receptionist actor, if
      any such exists, otherwise random to any other matching entry.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong
        style="font-weight: bold; color: rgb(11, 85, 103);">2.
        ClusterClient.SendToAll</strong></p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      message will be delivered to all recipients with a matching path.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong
        style="font-weight: bold; color: rgb(11, 85, 103);">3.
        ClusterClient.Publish</strong></p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      message will be delivered to all recipients Actors that have been
      registered as subscribers to the named topic.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Response
      messages from the destination actor are tunneled via the receptionist to
      avoid inbound connections from other cluster nodes to the client, i.e. the<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">sender()</span></code>,
      as seen by the destination actor, is not the client itself. The<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">sender()</span></code><span
        class="Apple-converted-space">&nbsp;</span>of the response messages, as
      seen by the client, is<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">deadLetters</span></code><span
        class="Apple-converted-space">&nbsp;</span>since the client should
      normally send subsequent messages via the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code>.
      It is possible to pass the original sender inside the reply messages if
      the client is supposed to communicate directly to the actor in the
      cluster.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">While
      establishing a connection to a receptionist the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
        class="Apple-converted-space">&nbsp;</span>will buffer messages and send
      them when the connection is established. If the buffer is full the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
        class="Apple-converted-space">&nbsp;</span>will drop old messages when
      new messages are sent via the client. The size of the buffer is
      configurable and it can be disabled by using a buffer size of 0.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">It's
      worth noting that messages can always be lost because of the distributed
      nature of these actors. As always, additional logic should be implemented
      in the destination (acknowledgement) and in the client (retry) actors to
      ensure at-least-once message delivery.</p>
    <div class="section" id="an-example" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="An_Example" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">An
        Example</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">On
        the cluster nodes first start the receptionist. Note, it is recommended
        to load the extension when the actor system is started by defining it in
        the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.extensions</span></code><span
          class="Apple-converted-space">&nbsp;</span>configuration property:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">extensions </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.client.ClusterClientReceptionist"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Next,
        register the actors that should be available for the client.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">host1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serviceA</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Service</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"serviceA"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterClientReceptionist</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">registerService</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serviceA</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">host2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">host3</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serviceB</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Service</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"serviceB"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterClientReceptionist</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">registerService</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serviceB</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">On
        the client you create the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor and use it as a
        gateway for sending messages to the actors identified by their path
        (without address information) somewhere in the cluster.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">client</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterClient</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterClientSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withInitialContacts</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">initialContacts</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"client"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterClient</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Send</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"/user/serviceA"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"hello"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">localAffinity</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kc" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">c</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterClient</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SendToAll</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"/user/serviceB"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"hi"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">initialContacts</span></code><span
          class="Apple-converted-space">&nbsp;</span>parameter is a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Set[ActorPath]</span></code>,
        which can be created like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">initialContacts</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorPath</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://OtherSys@host1:2552/system/receptionist"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorPath</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://OtherSys@host2:2552/system/receptionist"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">settings</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterClientSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">withInitialContacts</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">initialContacts</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        will probably define the address information of the initial contact
        points in configuration or system property. See also<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-client.html#cluster-client-config-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        more comprehensive sample is available in the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.lightbend.com/platform/getstarted"
          style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
        named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/activator/template/akka-distributed-workers"
          style="color: rgb(21, 169, 206); text-decoration: none;">Distributed
          workers with Akka and Scala!</a>.</p>
    </div>
    <div class="section" id="clusterclientreceptionist-extension" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="ClusterClientReceptionist_Extension" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">ClusterClientReceptionist
        Extension</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        the example above the receptionist is started and accessed with the<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.client.ClusterClientReceptionist</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension. That is
        convenient and perfectly fine in most cases, but it can be good to know
        that it is possible to start the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.client.ClusterReceptionist</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor as an ordinary actor
        and you can have several different receptionists at the same time,
        serving different types of clients.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code><span
          class="Apple-converted-space">&nbsp;</span>uses the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedPubSub</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension, which is
        described in<a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/distributed-pub-sub.html#distributed-pub-sub-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Distributed
            Publish Subscribe in Cluster</span></a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is recommended to load the extension when the actor system is started by
        defining it in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.extensions</span></code>configuration
        property:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">extensions </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.client.ClusterClientReceptionist"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="events" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Events" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Events</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
        mentioned earlier, both the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code><span
          class="Apple-converted-space">&nbsp;</span>emit events that can be
        subscribed to. The following code snippet declares an actor that will
        receive notifications on contact points (addresses to the available
        receptionists), as they become available. The code illustrates
        subscribing to the events and receiving the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClient</span></code><span
          class="Apple-converted-space">&nbsp;</span>initial state.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClientListener</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">targetClient</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preStart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">targetClient</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SubscribeContactPoints</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receiveWithContactPoints</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveWithContactPoints</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contactPoints</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorPath</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ContactPoints</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cps</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">become</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveWithContactPoints</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cps</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Now do something with the up-to-date "cps"</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ContactPointAdded</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">become</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveWithContactPoints</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contactPoints</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Now do something with an up-to-date "contactPoints + cp"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ContactPointRemoved</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">become</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveWithContactPoints</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contactPoints</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Now do something with an up-to-date "contactPoints - cp"</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Similarly
        we can have an actor that behaves in a similar fashion for learning what
        cluster clients contact a<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReceptionistListener</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">targetReceptionist</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preStart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">targetReceptionist</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SubscribeClusterClients</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receiveWithClusterClients</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveWithClusterClients</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">clusterClients</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterClients</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">become</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveWithClusterClients</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Now do something with the up-to-date "c"</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterClientUp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">become</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveWithClusterClients</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">clusterClients</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Now do something with an up-to-date "clusterClients + c"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterClientUnreachable</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">become</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveWithClusterClients</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">clusterClients</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Now do something with an up-to-date "clusterClients - c"</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="dependencies" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Dependencies" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Dependencies</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        use the Cluster Client you must add the following dependency in your
        project.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">sbt:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-cluster-tools"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">maven:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">com</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">typesafe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">tools_2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">11</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">version</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">2.4</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">10</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">version</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="configuration" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="cluster-client-config-scala"></span>
      <h2 id="Configuration" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuration</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClientReceptionist</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension (or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterReceptionistSettings</span></code>)
        can be configured with the following properties:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Settings</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">for</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterClientReceptionist</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">extension</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">client</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receptionist</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Actor</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">name</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterReceptionist</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">actor</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">,</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">/</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">system</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">/</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">receptionist</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receptionist</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Start</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">receptionist</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">on</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">members</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">tagged</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">with</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">role</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">All</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">members</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">are</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">used</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">if</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">undefined</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">or</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">""</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">receptionist</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">send</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">number</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">contact</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">points</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">client</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">number</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">of</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contacts</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">actor</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">that</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">tunnel</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">response</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">messages</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">client</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">be</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">stopped</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">after</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">time</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">inactivity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">response</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">tunnel</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">30</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">id</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">dispatcher</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">use</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">for</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterReceptionist</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">actors</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">not</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">specified</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">default</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">dispatcher</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">used</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">specified</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">you</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">need</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">define</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">settings</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">actual</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">dispatcher</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">use</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">""</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">How</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">often</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">failure</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">detection</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">heartbeat</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">messages</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">should</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">received</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">for</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">each</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterClient</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">heartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Number</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">potentially</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">lost</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">/</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">delayed</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">heartbeats</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">that</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">accepted</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">before</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">considering</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">it</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">be</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">an</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">anomaly</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterReceptionist</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">is</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">using</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">DeadlineFailureDetector</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">,</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">which</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">trigger</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">if</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">there</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">are</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">no</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">heartbeats</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">within</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">duration</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">heartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">interval</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">+</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">acceptable</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">heartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">pause</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">,</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">i</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">e</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="com" style="color: rgb(147, 161, 161);">15</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">seconds</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">with</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">default</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">settings</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">acceptable</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">heartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pause</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">13</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Failure</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">detection</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">checking</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">interval</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">for</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">checking</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">all</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">ClusterClients</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">failure</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">detection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        following configuration properties are read by the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClientSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>when created with a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code>parameter.
        It is also possible to amend the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClientSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>or create it from another
        config section with the same layout as below.<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClientSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a parameter to the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterClient.props</span></code><span
          class="Apple-converted-space">&nbsp;</span>factory method, i.e. each
        client can be configured with different settings if needed.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Settings</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">for</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterClient</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">client</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Actor</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">paths</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterReceptionist</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">actors</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">on</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">servers</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">(</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">cluster</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">nodes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">that</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">client</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">try</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">contact</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">initially</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">It</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">mandatory</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">specify</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">at</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">least</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">one</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">initial</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">contact</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Comma</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">separated</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">full</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">actor</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">paths</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">defined</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">by</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">a</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">string</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">on</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">form</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="com" style="color: rgb(147, 161, 161);">"akka.tcp://system@hostname:port/system/receptionist"</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">initial</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contacts</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[]</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Interval</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">at</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">which</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">client</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">retries</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">establish</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">contact</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">with</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">one</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterReceptionist</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">on</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">servers</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">(</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">cluster</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">nodes</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">)</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">establishing</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contacts</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Interval</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">at</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">which</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">client</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">ask</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterReceptionist</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">for</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">new</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">contact</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">points</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">be</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">used</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">for</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">next</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">reconnect</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">refresh</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contacts</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">60</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">How</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">often</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">failure</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">detection</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">heartbeat</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">messages</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">should</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">sent</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">heartbeat</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Number</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">potentially</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">lost</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">/</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">delayed</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">heartbeats</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">that</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">accepted</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">before</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">considering</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">it</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">be</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">an</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">anomaly</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">ClusterClient</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">is</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">using</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">DeadlineFailureDetector</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">,</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">which</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">trigger</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">if</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">there</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">are</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">no</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">heartbeats</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">within</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">duration</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">heartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">interval</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">+</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">acceptable</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">heartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">pause</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">,</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">i</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">e</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="com" style="color: rgb(147, 161, 161);">15</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">seconds</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">with</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">default</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">settings</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">acceptable</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">heartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pause</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">13</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">connection</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">receptionist</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">not</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">established</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">client</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">buffer</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">number</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">messages</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">and</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">deliver</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">them</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">connection</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">established</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">When</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">buffer</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">full</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">old</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">messages</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">will</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">be</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">dropped</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">when</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">new</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">messages</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">are</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">sent</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">via</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">client</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Use</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="com" style="color: rgb(147, 161, 161);">0</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">disable</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">buffering</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">,</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">i</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">e</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">messages</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">dropped</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">immediately</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">if</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">location</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">singleton</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">is</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">unknown</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Maximum</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">allowed</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">buffer</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">size</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">is</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="com" style="color: rgb(147, 161, 161);">10000.</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1000</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">connection</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">receiptionist</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">lost</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">and</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">client</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">has</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">not</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">been</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">able</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">acquire</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">a</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">new</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">connection</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">for</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">long</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">client</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">stop</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">itself</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">This</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">duration</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">makes</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">it</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">possible</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">watch</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">cluster</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">client</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">and</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">react</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">on</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">a</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">more</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">permanent</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">loss</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">connection</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">with</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">cluster</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">,</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">for</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">example</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">by</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">accessing</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">some</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">kind</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">service</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">registry</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">for</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">an</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">updated</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">set</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">initial</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">contacts</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">start</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">a</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">new</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">cluster</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">client</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">with</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">not</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">wanted</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">it</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">can</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">be</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">set</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="com" style="color: rgb(147, 161, 161);">"off"</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">disable</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">timeout</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">and</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">retry</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">forever</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">reconnect</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">off</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="failure-handling" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Failure_handling" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Failure
        handling</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        the cluster client is started it must be provided with a list of initial
        contacts which are cluster nodes where receptionists are running. It
        will then repeatedly (with an interval configurable by<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">establishing-get-contacts-interval</span></code>)
        try to contact those until it gets in contact with one of them. While
        running, the list of contacts are continuously updated with data from
        the receptionists (again, with an interval configurable with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">refresh-contacts-interval</span></code>),
        so that if there are more receptionists in the cluster than the initial
        contacts provided to the client the client will learn about them.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">While
        the client is running it will detect failures in its connection to the
        receptionist by heartbeats if more than a configurable amount of
        heartbeats are missed the client will try to reconnect to its known set
        of contacts to find a receptionist it can access.</p>
    </div>
    <div class="section" id="when-the-cluster-cannot-be-reached-at-all" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="When_the_cluster_cannot_be_reached_at_all" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">When
        the cluster cannot be reached at all</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is possible to make the cluster client stop entirely if it cannot find a
        receptionist it can talk to within a configurable interval. This is
        configured with the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">reconnect-timeout</span></code>,
        which defaults to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">off</span></code>. This
        can be useful when initial contacts are provided from some kind of
        service registry, cluster node addresses are entirely dynamic and the
        entire cluster might shut down or crash, be restarted on new addresses.
        Since the client will be stopped in that case a monitoring actor can
        watch it and upon<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Terminate</span></code><span
          class="Apple-converted-space">&nbsp;</span>a new set of initial
        contacts can be fetched and a new cluster client started.</p>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      Sharding</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      sharding is useful when you need to distribute actors across several nodes
      in the cluster and want to be able to interact with them using their
      logical identifier, but without having to care about their physical
      location in the cluster, which might also change over time.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">It
      could for example be actors representing Aggregate Roots in Domain-Driven
      Design terminology. Here we call these actors "entities". These actors
      typically have persistent (durable) state, but this feature is not limited
      to actors with persistent state.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      sharding is typically used when you have many stateful actors that
      together consume more resources (e.g. memory) than fit on one machine. If
      you only have a few stateful actors it might be easier to run them on a<span
        class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/cluster-singleton.html#cluster-singleton-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Cluster
          Singleton</span></a><span class="Apple-converted-space">&nbsp;</span>node.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">In
      this context sharding means that actors with an identifier, so called
      entities, can be automatically distributed across multiple nodes in the
      cluster. Each entity actor runs only at one place, and messages can be
      sent to the entity without requiring the sender to know the location of
      the destination actor. This is achieved by sending the messages via a<code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
        class="Apple-converted-space">&nbsp;</span>actor provided by this
      extension, which knows how to route the message with the entity id to the
      final destination.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      sharding will not be active on members with status<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#weakly-up-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">WeaklyUp</span></a><span
        class="Apple-converted-space">&nbsp;</span>if that feature is enabled.</p>
    <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><strong
          style="font-weight: bold; color: rgb(255, 255, 255);">Don't use
          Cluster Sharding together with Automatic Downing</strong>, since it
        allows the cluster to split up into two separate clusters, which in turn
        will result in<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">multiple
          shards and entities</em><span class="Apple-converted-space">&nbsp;</span>being
        started, one in each separate cluster! See<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/java/cluster-usage.html#automatic-vs-manual-downing-java"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Downing</span></a>.</p>
    </div>
    <div class="section" id="an-example" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="An_Example" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">An
        Example</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is how an entity actor may look like:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Increment</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Decrement</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">counterId</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Long</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">EntityEnvelope</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">id</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Long</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">payload</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Any</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Stop</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CounterChanged</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">delta</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Counter</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PersistentActor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ShardRegion</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Passivate</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">setReceiveTimeout</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">120.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// self.path.name is the entity identifier (utf-8 URL-encoded)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">persistenceId</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Counter-"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">path</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">var</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">count</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">updateState</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">event</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CounterChanged</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">count</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">event</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">delta</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveRecover</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">evt</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CounterChanged</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">updateState</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">evt</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receiveCommand</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Increment</span></span><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">persist</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">CounterChanged</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(+</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">updateState</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Decrement</span></span><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">persist</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">CounterChanged</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(-</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">updateState</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);">         </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sender</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">count</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReceiveTimeout</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parent</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Passivate</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stopMessage</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Stop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Stop</span></span><span class="pln"
style="color: rgb(89, 80, 80);">           </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        above actor uses event sourcing and the support provided in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">PersistentActor</span></code><span
          class="Apple-converted-space">&nbsp;</span>to store its state. It does
        not have to be a persistent actor, but in case of failure or migration
        of entities between nodes it must be able to recover its state if it is
        valuable.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        how the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">persistenceId</span></code><span
          class="Apple-converted-space">&nbsp;</span>is defined. The name of the
        actor is the entity identifier (utf-8 URL-encoded). You may define it
        another way, but it must be unique.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        using the sharding extension you are first, typically at system startup
        on each node in the cluster, supposed to register the supported entity
        types with the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding.start</span></code><span
          class="Apple-converted-space">&nbsp;</span>method.<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding.start</span></code><span
          class="Apple-converted-space">&nbsp;</span>gives you the reference
        which you can pass along.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">counterRegion</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSharding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">start</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">typeName</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Counter"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">entityProps</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Counter</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">settings</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterShardingSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractEntityId</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractEntityId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractShardId</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractShardId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">extractEntityId</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">extractShardId</span></code><span
          class="Apple-converted-space">&nbsp;</span>are two application
        specific functions to extract the entity identifier and the shard
        identifier from incoming messages.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">extractEntityId</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ShardRegion</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">ExtractEntityId</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">EntityEnvelope</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">id</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">payload</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">id</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toString</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">payload</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">id</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);">               </span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">id</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toString</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">msg</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">numberOfShards</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">100</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">extractShardId</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ShardRegion</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">ExtractShardId</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">EntityEnvelope</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">id</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">id</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">%</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">numberOfShards</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toString</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">id</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);">               </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">id</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">%</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">numberOfShards</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toString</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        example illustrates two different ways to define the entity identifier
        in the messages:</p>
      <blockquote style="padding: 0px 0px 0px 15px; margin: 0px 0px 18px; border-left-width: 5px; border-left-style: solid; border-left-color: rgb(238, 238, 238);">
        <div>
          <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">The<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
                class="Apple-converted-space">&nbsp;</span>message includes the
              identifier itself.</li>
            <li style="line-height: 18px;">The<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">EntityEnvelope</span></code><span
                class="Apple-converted-space">&nbsp;</span>holds the identifier,
              and the actual message that is sent to the entity actor is wrapped
              in the envelope.</li>
          </ul>
        </div>
      </blockquote>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        how these two messages types are handled in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">extractEntityId</span></code><span
          class="Apple-converted-space">&nbsp;</span>function shown above. The
        message sent to the entity actor is the second part of the tuple return
        by the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">extractEntityId</span></code><span
          class="Apple-converted-space">&nbsp;</span>and that makes it possible
        to unwrap envelopes if needed.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        shard is a group of entities that will be managed together. The grouping
        is defined by the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">extractShardId</span></code><span
          class="Apple-converted-space">&nbsp;</span>function shown above. For a
        specific entity identifier the shard identifier must always be the same.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Creating
        a good sharding algorithm is an interesting challenge in itself. Try to
        produce a uniform distribution, i.e. same amount of entities in each
        shard. As a rule of thumb, the number of shards should be a factor ten
        greater than the planned maximum number of cluster nodes. Less shards
        than number of nodes will result in that some nodes will not host any
        shards. Too many shards will result in less efficient management of the
        shards, e.g. rebalancing overhead, and increased latency because the
        coordinator is involved in the routing of the first message for each
        shard. The sharding algorithm must be the same on all nodes in a running
        cluster. It can be changed after stopping all nodes in the cluster.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        simple sharding algorithm that works fine in most cases is to take the
        absolute value of the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">hashCode</span></code><span
          class="Apple-converted-space">&nbsp;</span>of the entity identifier
        modulo number of shards. As a convenience this is provided by the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion.HashCodeMessageExtractor</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Messages
        to the entities are always sent via the local<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code>.
        The<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor reference for a named
        entity type is returned by<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding.start</span></code><span
          class="Apple-converted-space">&nbsp;</span>and it can also be
        retrieved with<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding.shardRegion</span></code>.
        The<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>will lookup the location of
        the shard for the entity if it does not already know its location. It
        will delegate the message to the right node and it will create the
        entity actor on demand, i.e. when the first message for a specific
        entity is delivered.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">counterRegion</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSharding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">shardRegion</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Counter"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">counterRegion</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">123</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">expectMsg</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">counterRegion</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">EntityEnvelope</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">123</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Increment</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">counterRegion</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">123</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">expectMsg</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        more comprehensive sample is available in the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.lightbend.com/platform/getstarted"
          style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
        named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/activator/template/akka-cluster-sharding-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka Cluster
          Sharding with Scala!</a>.</p>
    </div>
    <div class="section" id="how-it-works" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="How_it_works" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">How
        it works</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor is started on each
        node in the cluster, or group of nodes tagged with a specific role. The<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>is created with two
        application specific functions to extract the entity identifier and the
        shard identifier from incoming messages. A shard is a group of entities
        that will be managed together. For the first message in a specific shard
        the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>request the location of the
        shard from a central coordinator, the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator</span></code><span
          class="Apple-converted-space">&nbsp;</span>decides which<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>shall own the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code><span
          class="Apple-converted-space">&nbsp;</span>and informs that<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code>.
        The region will confirm this request and create the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code><span
          class="Apple-converted-space">&nbsp;</span>supervisor as a child
        actor. The individual<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Entities</span></code><span
          class="Apple-converted-space">&nbsp;</span>will then be created when
        needed by the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor. Incoming messages
        thus travel via the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>and the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code><span
          class="Apple-converted-space">&nbsp;</span>to the target<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Entity</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        the shard home is another<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>instance messages will be
        forwarded to that<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>instance instead. While
        resolving the location of a shard incoming messages for that shard are
        buffered and later delivered when the shard home is known. Subsequent
        messages to the resolved shard can be delivered to the target
        destination immediately without involving the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Scenario
        1:</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">Incoming message M1 to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
            class="Apple-converted-space">&nbsp;</span>instance R1.</li>
        <li style="line-height: 18px;">M1 is mapped to shard S1. R1 doesn't know
          about S1, so it asks the coordinator C for the location of S1.</li>
        <li style="line-height: 18px;">C answers that the home of S1 is R1.</li>
        <li style="line-height: 18px;">R1 creates child actor for the entity E1
          and sends buffered messages for S1 to E1 child</li>
        <li style="line-height: 18px;">All incoming messages for S1 which arrive
          at R1 can be handled by R1 without C. It creates entity children as
          needed, and forwards messages to them.</li>
      </ol>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Scenario
        2:</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">Incoming message M2 to R1.</li>
        <li style="line-height: 18px;">M2 is mapped to S2. R1 doesn't know about
          S2, so it asks C for the location of S2.</li>
        <li style="line-height: 18px;">C answers that the home of S2 is R2.</li>
        <li style="line-height: 18px;">R1 sends buffered messages for S2 to R2</li>
        <li style="line-height: 18px;">All incoming messages for S2 which arrive
          at R1 can be handled by R1 without C. It forwards messages to R2.</li>
        <li style="line-height: 18px;">R2 receives message for S2, ask C, which
          answers that the home of S2 is R2, and we are in Scenario 1 (but for
          R2).</li>
      </ol>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        make sure that at most one instance of a specific entity actor is
        running somewhere in the cluster it is important that all nodes have the
        same view of where the shards are located. Therefore the shard
        allocation decisions are taken by the central<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator</span></code>,
        which is running as a cluster singleton, i.e. one instance on the oldest
        member among all cluster nodes or a group of nodes tagged with a
        specific role.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        logic that decides where a shard is to be located is defined in a
        pluggable shard allocation strategy. The default implementation<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator.LeastShardAllocationStrategy</span></code><span
          class="Apple-converted-space">&nbsp;</span>allocates new shards to the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code>with
        least number of previously allocated shards. This strategy can be
        replaced by an application specific implementation.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        be able to use newly added members in the cluster the coordinator
        facilitates rebalancing of shards, i.e. migrate entities from one node
        to another. In the rebalance process the coordinator first notifies all<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actors that a handoff for a
        shard has started. That means they will start buffering incoming
        messages for that shard, in the same way as if the shard location is
        unknown. During the rebalance process the coordinator will not answer
        any requests for the location of shards that are being rebalanced, i.e.
        local buffering will continue until the handoff is completed. The<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>responsible for the
        rebalanced shard will stop all entities in that shard by sending the
        specified<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">handOffStopMessage</span></code><span
          class="Apple-converted-space">&nbsp;</span>(default<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">PoisonPill</span></code>)
        to them. When all entities have been terminated the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code>owning
        the entities will acknowledge the handoff as completed to the
        coordinator. Thereafter the coordinator will reply to requests for the
        location of the shard and thereby allocate a new home for the shard and
        then buffered messages in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actors are delivered to the
        new location. This means that the state of the entities are not
        transferred or migrated. If the state of the entities are of importance
        it should be persistent (durable), e.g. with<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Persistence</span></a>,
        so that it can be recovered at the new location.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        logic that decides which shards to rebalance is defined in a pluggable
        shard allocation strategy. The default implementation<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator.LeastShardAllocationStrategy</span></code><span
          class="Apple-converted-space">&nbsp;</span>picks shards for handoff
        from the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>with most number of
        previously allocated shards. They will then be allocated to the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>with least number of
        previously allocated shards, i.e. new members in the cluster. There is a
        configurable threshold of how large the difference must be to begin the
        rebalancing. This strategy can be replaced by an application specific
        implementation.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        state of shard locations in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator</span></code><span
          class="Apple-converted-space">&nbsp;</span>is persistent (durable)
        with<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Persistence</span></a><span
          class="Apple-converted-space">&nbsp;</span>to survive failures. Since
        it is running in a cluster<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Persistence</span></a><span
          class="Apple-converted-space">&nbsp;</span>must be configured with a
        distributed journal. When a crashed or unreachable coordinator node has
        been removed (via down) from the cluster a new<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator</span></code><span
          class="Apple-converted-space">&nbsp;</span>singleton actor will take
        over and the state is recovered. During such a failure period shards
        with known location are still available, while messages for new
        (unknown) shards are buffered until the new<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator</span></code><span
          class="Apple-converted-space">&nbsp;</span>becomes available.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
        long as a sender uses the same<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor to deliver messages
        to an entity actor the order of the messages is preserved. As long as
        the buffer limit is not reached messages are delivered on a best effort
        basis, with at-most once delivery semantics, in the same way as ordinary
        message sending. Reliable end-to-end messaging, with at-least-once
        semantics can be added by using<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">AtLeastOnceDelivery</span></code><span
          class="Apple-converted-space">&nbsp;</span>in<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Persistence</span></a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Some
        additional latency is introduced for messages targeted to new or
        previously unused shards due to the round-trip to the coordinator.
        Rebalancing of shards may also add latency. This should be considered
        when designing the application specific shard resolution, e.g. to avoid
        too fine grained shards.</p>
    </div>
    <div class="section" id="distributed-data-mode" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Distributed_Data_Mode" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Distributed
        Data Mode</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Instead
        of using<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Persistence</span></a><span
          class="Apple-converted-space">&nbsp;</span>it is possible to use the<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/distributed-data.html#distributed-data-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Distributed
            Data</span></a><span class="Apple-converted-space">&nbsp;</span>module
        as storage for the state of the sharding coordinator. In such case the
        state of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardCoordinator</span></code><span
          class="Apple-converted-space">&nbsp;</span>will be replicated inside a
        cluster by the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/distributed-data.html#distributed-data-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Distributed
            Data</span></a>module with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WriteMajority</span></code>/<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ReadMajority</span></code><span
          class="Apple-converted-space">&nbsp;</span>consistency.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        mode can be enabled by setting configuration property:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sharding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">state</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">store</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mode</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ddata</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is using the Distributed Data extension that must be running on all
        nodes in the cluster. Therefore you should add that extension to the
        configuration to make sure that it is started on all nodes:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extensions</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.ddata.DistributedData"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        must explicitly add the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-distributed-data-experimental</span></code><span
          class="Apple-converted-space">&nbsp;</span>dependency to your build if
        you use this mode. It is possible to remove<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-persistence</span></code><span
          class="Apple-converted-space">&nbsp;</span>dependency from a project
        if it is not used in user code and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">remember-entities</span></code><span
          class="Apple-converted-space">&nbsp;</span>is<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">off</span></code>.
        Using it together with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Remember</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">Entities</span></code><span
          class="Apple-converted-space">&nbsp;</span>shards will be recreated
        after rebalancing, however will not be recreated after a clean cluster
        start as the Sharding Coordinator state is empty after a clean cluster
        start when using ddata mode. When<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Remember</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">Entities</span></code><span
          class="Apple-converted-space">&nbsp;</span>is<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">on</span></code><span class="Apple-converted-space">&nbsp;</span>Sharding
        Region always keeps data usig persistence, no matter how<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">State</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">Store</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">Mode</span></code><span
          class="Apple-converted-space">&nbsp;</span>is set.</p>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ddata</span></code><span
            class="Apple-converted-space">&nbsp;</span>mode is considered as<span
            class="Apple-converted-space">&nbsp;</span><strong style="font-weight: bold; color: rgb(255, 255, 255);">“experimental”</strong><span
            class="Apple-converted-space">&nbsp;</span>as of its introduction in
          Akka 2.4.0, since it depends on the experimental Distributed Data
          module.</p>
      </div>
    </div>
    <div class="section" id="proxy-only-mode" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Proxy_Only_Mode" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Proxy
        Only Mode</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor can also be started
        in proxy only mode, i.e. it will not host any entities itself, but knows
        how to delegate messages to the right location. A<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>is started in proxy only
        mode with the method<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding.startProxy</span></code><span
          class="Apple-converted-space">&nbsp;</span>method.</p>
    </div>
    <div class="section" id="passivation" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Passivation" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Passivation</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        the state of the entities are persistent you may stop entities that are
        not used to reduce memory consumption. This is done by the application
        specific implementation of the entity actors for example by defining
        receive timeout (<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">context.setReceiveTimeout</span></code>).
        If a message is already enqueued to the entity when it stops itself the
        enqueued message in the mailbox will be dropped. To support graceful
        passivation without losing such messages the entity actor can send<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion.Passivate</span></code><span
          class="Apple-converted-space">&nbsp;</span>to its parent<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code>.
        The specified wrapped message in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Passivate</span></code><span
          class="Apple-converted-space">&nbsp;</span>will be sent back to the
        entity, which is then supposed to stop itself. Incoming messages will be
        buffered by the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code><span
          class="Apple-converted-space">&nbsp;</span>between reception of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Passivate</span></code><span
          class="Apple-converted-space">&nbsp;</span>and termination of the
        entity. Such buffered messages are thereafter delivered to a new
        incarnation of the entity.</p>
    </div>
    <div class="section" id="remembering-entities" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Remembering_Entities" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Remembering
        Entities</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        list of entities in each<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code><span
          class="Apple-converted-space">&nbsp;</span>can be made persistent
        (durable) by setting the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">rememberEntities</span></code><span
          class="Apple-converted-space">&nbsp;</span>flag to true in<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterShardingSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>when calling<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding.start</span></code>.
        When configured to remember entities, whenever a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code><span
          class="Apple-converted-space">&nbsp;</span>is rebalanced onto another
        node or recovers after a crash it will recreate all the entities which
        were previously running in that<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code>. To
        permanently stop entities, a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Passivate</span></code><span
          class="Apple-converted-space">&nbsp;</span>message must be sent to the
        parent of the entity actor, otherwise the entity will be automatically
        restarted after the entity restart backoff specified in the
        configuration.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">rememberEntities</span></code><span
          class="Apple-converted-space">&nbsp;</span>is set to false, a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code><span
          class="Apple-converted-space">&nbsp;</span>will not automatically
        restart any entities after a rebalance or recovering from a crash.
        Entities will only be started once the first message for that entity has
        been received in the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Shard</span></code>.
        Entities will not be restarted if they stop without using a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Passivate</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that the state of the entities themselves will not be restored unless
        they have been made persistent, e.g. with<a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Persistence</span></a>.</p>
    </div>
    <div class="section" id="supervision" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Supervision" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Supervision</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        you need to use another<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">supervisorStrategy</span></code><span
          class="Apple-converted-space">&nbsp;</span>for the entity actors than
        the default (restarting) strategy you need to create an intermediate
        parent actor that defines the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">supervisorStrategy</span></code><span
          class="Apple-converted-space">&nbsp;</span>to the child entity actor.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CounterSupervisor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">counter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Counter</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"theCounter"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">supervisorStrategy</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">OneForOneStrategy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">IllegalArgumentException</span></span><span
class="pln" style="color: rgb(89, 80, 80);">     </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SupervisorStrategy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Resume</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorInitializationException</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SupervisorStrategy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Stop</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">DeathPactException</span></span><span
class="pln" style="color: rgb(89, 80, 80);">           </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SupervisorStrategy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Stop</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Exception</span></span><span class="pln"
style="color: rgb(89, 80, 80);">                    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SupervisorStrategy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Restart</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">counter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">forward</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        start such a supervisor in the same way as if it was the entity actor.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSharding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">start</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">typeName</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"SupervisedCounter"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">entityProps</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">CounterSupervisor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">settings</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterShardingSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractEntityId</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractEntityId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractShardId</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractShardId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that stopped entities will be started again when a new message is
        targeted to the entity.</p>
    </div>
    <div class="section" id="graceful-shutdown" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Graceful_Shutdown" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Graceful
        Shutdown</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can send the message<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion.GracefulShutdown</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor to handoff all shards
        that are hosted by that<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>and then the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor will be stopped. You
        can<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">watch</span></code><span
          class="Apple-converted-space">&nbsp;</span>the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor to know when it is
        completed. During this period other regions will buffer messages for
        those shards in the same way as when a rebalance is triggered by the
        coordinator. When the shards have been stopped the coordinator will
        allocate these shards elsewhere.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion</span></code><span
          class="Apple-converted-space">&nbsp;</span>has terminated you probably
        want to<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">leave</span></code><span
          class="Apple-converted-space">&nbsp;</span>the cluster, and shut down
        the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is how to do that:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">IllustrateGracefulShutdown</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">region</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterSharding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">shardRegion</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Entity"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"leave"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">watch</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">region</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">region</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ShardRegion</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GracefulShutdown</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Terminated</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`region`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">cluster</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">registerOnMemberRemoved</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"member-removed"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">leave</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">selfAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"member-removed"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Let singletons hand over gracefully before stopping the system</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">scheduler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">scheduleOnce</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">10.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"stop-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"stop-system"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="removal-of-internal-cluster-sharding-data" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="removeinternalclustershardingdata-scala"></span>
      <h2 id="Removal_of_Internal_Cluster_Sharding_Data" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Removal
        of Internal Cluster Sharding Data</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        Cluster Sharding coordinator stores the locations of the shards using
        Akka Persistence. This data can safely be removed when restarting the
        whole Akka Cluster. Note that this is not application data.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        is a utility program<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.sharding.RemoveInternalClusterShardingData</span></code><span
          class="Apple-converted-space">&nbsp;</span>that removes this data.</p>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Never
          use this program while there are running Akka Cluster nodes that are
          using Cluster Sharding. Stop all Cluster nodes before using this
          program.</p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        can be needed to remove the data if the Cluster Sharding coordinator
        cannot startup because of corrupt data, which may happen if accidentally
        two clusters were running at the same time, e.g. caused by using
        auto-down and there was a network partition.</p>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><strong
            style="font-weight: bold; color: rgb(255, 255, 255);">Don't use
            Cluster Sharding together with Automatic Downing</strong>, since it
          allows the cluster to split up into two separate clusters, which in
          turn will result in<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">multiple shards and entities</em><span class="Apple-converted-space">&nbsp;</span>being
          started, one in each separate cluster! See<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#automatic-vs-manual-downing-scala"
            style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Downing</span></a>.</p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Use
        this program as a standalone Java main program:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">java</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">classpath</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&lt;</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">jar</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">files</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">including</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sharding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sharding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RemoveInternalClusterShardingData</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">2.3</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">entityType1</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entityType2</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entityType3</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        program is included in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-cluster-sharding</span></code><span
          class="Apple-converted-space">&nbsp;</span>jar file. It is easiest to
        run it with same classpath and configuration as your ordinary
        application. It can be run from sbt or maven in similar way.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Specify
        the entity type names (same as you use in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">start</span></code><span
          class="Apple-converted-space">&nbsp;</span>method of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding</span></code>)
        as program arguments.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        you specify<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">-2.3</span></code><span
          class="Apple-converted-space">&nbsp;</span>as the first program
        argument it will also try to remove data that was stored by Cluster
        Sharding in Akka 2.3.x using different persistenceId.</p>
    </div>
    <div class="section" id="dependencies" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Dependencies" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Dependencies</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        use the Cluster Sharding you must add the following dependency in your
        project.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">sbt:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-cluster-sharding"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">maven:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">com</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">typesafe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sharding_2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">11</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">version</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">2.4</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">10</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">version</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="configuration" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Configuration" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuration</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension can be configured
        with the following properties. These configuration properties are read
        by the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterShardingSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>when created with a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
          class="Apple-converted-space">&nbsp;</span>parameter. It is also
        possible to amend the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterShardingSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>or create it from another
        config section with the same layout as below.<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterShardingSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a parameter to the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">start</span></code><span
          class="Apple-converted-space">&nbsp;</span>method of the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension, i.e. each each
        entity type can be configured with different settings if needed.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="com" style="color: rgb(147, 161, 161);"># Settings for the ClusterShardingExtension</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">sharding </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The extension creates a top level actor with this name in top level system scope,</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># e.g. '/system/sharding'</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  guardian</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">name </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> sharding</span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Specifies that entities runs on cluster nodes with a specific role.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># If the role is not specified (or empty) all nodes in the cluster are used.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  role </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">""</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># When this is set to 'on' the active entity actors will automatically be restarted</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># upon Shard restart. i.e. if the Shard is started on a different ShardRegion</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># due to rebalance or crash.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  remember</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">entities </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> off</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># If the coordinator can't store state changes it will be stopped</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># and started again after this duration, with an exponential back-off</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># of up to 5 times this duration.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  coordinator</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">failure</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">backoff </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">5</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The ShardRegion retries registration and shard location requests to the</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># ShardCoordinator with this interval if it does not reply.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="kwd" style="color: rgb(48, 166, 40);">retry</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">interval </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">2</span><span class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Maximum number of messages that are buffered by a ShardRegion actor.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  buffer</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">100000</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Timeout of the shard rebalancing process.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  handoff</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">60</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Time given to a region to acknowledge it's hosting a shard.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  shard</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">start</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># If the shard is remembering entities and can't store state changes</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># will be stopped and then started again after this duration. Any messages</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># sent to an affected entity may be lost in this process.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  shard</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">failure</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">backoff </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># If the shard is remembering entities and an entity stops itself without</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># using passivate. The entity will be restarted after this duration or when</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># the next message for it is received, which ever occurs first.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  entity</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">restart</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">backoff </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Rebalance check is performed periodically with this interval.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  rebalance</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">interval </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Absolute path to the journal plugin configuration entity that is to be</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># used for the internal persistence of ClusterSharding. If not defined</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># the default journal plugin is used. Note that this is not related to</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># persistence used by the entity actors.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  journal</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">plugin</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">id </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">""</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Absolute path to the snapshot plugin configuration entity that is to be</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># used for the internal persistence of ClusterSharding. If not defined</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># the default snapshot plugin is used. Note that this is not related to</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># persistence used by the entity actors.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  snapshot</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">plugin</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">id </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">""</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Parameter which determines how the coordinator will be store a state</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># valid values either "persistence" or "ddata"</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The "ddata" mode is experimental, since it depends on the experimental</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># module akka-distributed-data-experimental.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  state</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">store</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">mode </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"persistence"</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The shard saves persistent snapshots after this number of persistent</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># events. Snapshots are used to reduce recovery times.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  snapshot</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">after </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">1000</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Setting for the default shard allocation strategy</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  least</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">shard</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">allocation</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">strategy </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Threshold of how large the difference between most and least number of</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># allocated shards must be to begin the rebalancing.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    rebalance</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">threshold </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The number of ongoing rebalancing processes is limited to this number.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">simultaneous</span><span class="pun"
style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">rebalance </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">3</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Timeout of waiting the initial distributed state (an initial state will be queried again if the timeout happened)</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># works only for state-store-mode = "ddata"</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  waiting</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">for</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">state</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">5</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Timeout of waiting for update the distributed state (update will be retried if the timeout happened)</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># works only for state-store-mode = "ddata"</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  updating</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">state</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">5</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The shard uses this strategy to determines how to recover the underlying entity actors. The strategy is only used</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># by the persistent shard when rebalancing or restarting. The value can either be "all" or "constant". The "all"</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># strategy start all the underlying entity actors at the same time. The constant strategy will start the underlying</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># entity actors at a fix rate. The default strategy "all".</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  entity</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">recovery</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">strategy </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"all"</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Default settings for the constant rate entity recovery strategy</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  entity</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">recovery</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">constant</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">rate</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">strategy </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Sets the frequency at which a batch of entity actors is started.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    frequency </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">100</span><span
class="pln" style="color: rgb(89, 80, 80);"> ms</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Sets the number of entity actors to be restart at a particular interval</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    number</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">of</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">entities </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">5</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Settings for the coordinator singleton. Same layout as akka.cluster.singleton.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The "role" of the singleton configuration is not used. The singleton role will</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># be the same as "akka.cluster.sharding.role".</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  coordinator</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">singleton </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> $</span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">singleton</span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The id of the dispatcher to use for ClusterSharding actors.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># If not specified default dispatcher is used.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># If specified you need to define the settings of the actual dispatcher.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># This dispatcher for the entity actors is defined by the user provided</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Props, i.e. this dispatcher is not used for the entity actors.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="kwd" style="color: rgb(48, 166, 40);">use</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">dispatcher </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="str" style="color: rgb(131, 185, 37);">""</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Custom
        shard allocation strategy can be defined in an optional parameter to<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ClusterSharding.start</span></code>.
        See the API documentation of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardAllocationStrategy</span></code><span
          class="Apple-converted-space">&nbsp;</span>for details of how to
        implement a custom shard allocation strategy.</p>
    </div>
    <div class="section" id="inspecting-cluster-sharding-state" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Inspecting_cluster_sharding_state" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Inspecting
        cluster sharding state</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Two
        requests to inspect the cluster state are available:</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion.GetShardRegionState</span></code><span
          class="Apple-converted-space">&nbsp;</span>which will return a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion.CurrentShardRegionState</span></code><span
          class="Apple-converted-space">&nbsp;</span>that contains the
        identifiers of the shards running in a Region and what entities are
        alive for each of them.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion.GetClusterShardingStats</span></code><span
          class="Apple-converted-space">&nbsp;</span>which will query all the
        regions in the cluster and return a<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ShardRegion.ClusterShardingStats</span></code><span
          class="Apple-converted-space">&nbsp;</span>containing the identifiers
        of the shards running in each region and a count of entities that are
        alive in each shard.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        purpose of these messages is testing and monitoring, they are not
        provided to give access to directly sending messages to the individual
        entities.</p>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Cluster
      Metrics Extension</h1>
    <div class="section" id="introduction" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Introduction" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Introduction</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        member nodes of the cluster can collect system health metrics and
        publish that to other cluster nodes and to the registered subscribers on
        the system event bus with the help of Cluster Metrics Extension.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Cluster
        metrics information is primarily used for load-balancing routers, and
        can also be used to implement advanced metrics-based node life cycles,
        such as "Node Let-it-crash" when CPU steal time becomes excessive.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Cluster
        Metrics Extension is a separate Akka module delivered in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-cluster-metrics</span></code><span
          class="Apple-converted-space">&nbsp;</span>jar.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        enable usage of the extension you need to add the following dependency
        to your project:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-cluster-metrics_2.11"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">and
        add the following configuration stanza to your<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code></p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">extensions </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="str" style="color: rgb(131, 185, 37);">"akka.cluster.metrics.ClusterMetricsExtension"</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">]</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Make
        sure to disable legacy metrics in akka-cluster:<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.enabled=off</span></code>,
        since it is still enabled in akka-cluster by default (for compatibility
        with past releases).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Cluster
        members with status<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#weakly-up-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">WeaklyUp</span></a>,
        if that feature is enabled, will participate in Cluster Metrics
        collection and dissemination.</p>
    </div>
    <div class="section" id="metrics-collector" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Metrics_Collector" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Metrics
        Collector</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Metrics
        collection is delegated to an implementation of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.MetricsCollector</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Different
        collector implementations provide different subsets of metrics published
        to the cluster. Certain message routing and let-it-crash functions may
        not work when Sigar is not provisioned.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Cluster
        metrics extension comes with two built-in collector implementations:</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.SigarMetricsCollector</span></code>,
          which requires Sigar provisioning, and is more rich/precise</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.JmxMetricsCollector</span></code>,
          which is used as fall back, and is less rich/precise</li>
      </ol>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can also plug-in your own metrics collector implementation.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">By
        default, metrics extension will use collector provider fall back and
        will try to load them in this order:</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">configured user-provided collector</li>
        <li style="line-height: 18px;">built-in<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.SigarMetricsCollector</span></code></li>
        <li style="line-height: 18px;">and finally<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.JmxMetricsCollector</span></code></li>
      </ol>
    </div>
    <div class="section" id="metrics-events" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Metrics_Events" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Metrics
        Events</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Metrics
        extension periodically publishes current snapshot of the cluster metrics
        to the node system event bus.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        publication period is controlled by the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.collector.sample-period</span></code><span
          class="Apple-converted-space">&nbsp;</span>setting.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        payload of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.ClusterMetricsChanged</span></code><span
          class="Apple-converted-space">&nbsp;</span>event will contain latest
        metrics of the node as well as other cluster member nodes metrics gossip
        which was received during the collector sample period.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can subscribe your metrics listener actors to these events in order to
        implement custom node lifecycle</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterMetricsExtension</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">metricsListenerActor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="hyperic-sigar-provisioning" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Hyperic_Sigar_Provisioning" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Hyperic
        Sigar Provisioning</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Both
        user-provided and built-in metrics collectors can optionally use<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.hyperic.com/products/sigar"
          style="color: rgb(21, 169, 206); text-decoration: none;">Hyperic Sigar</a><span
          class="Apple-converted-space">&nbsp;</span>for a wider and more
        accurate range of metrics compared to what can be retrieved from
        ordinary JMX MBeans.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sigar
        is using a native o/s library, and requires library provisioning, i.e.
        deployment, extraction and loading of the o/s native library into JVM at
        runtime.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">User
        can provision Sigar classes and native library in one of the following
        ways:</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">Use<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://github.com/kamon-io/sigar-loader"
            style="color: rgb(21, 169, 206); text-decoration: none;">Kamon
            sigar-loader</a><span class="Apple-converted-space">&nbsp;</span>as
          a project dependency for the user project. Metrics extension will
          extract and load sigar library on demand with help of Kamon sigar
          provisioner.</li>
        <li style="line-height: 18px;">Use<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://github.com/kamon-io/sigar-loader"
            style="color: rgb(21, 169, 206); text-decoration: none;">Kamon
            sigar-loader</a><span class="Apple-converted-space">&nbsp;</span>as
          java agent:<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">java</span><span class="Apple-converted-space">&nbsp;</span><span
              class="pre" style="color: rgb(11, 85, 103);">-javaagent:/path/to/sigar-loader.jar</span></code>.
          Kamon sigar loader agent will extract and load sigar library during
          JVM start.</li>
        <li style="line-height: 18px;">Place<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">sigar.jar</span></code><span
            class="Apple-converted-space">&nbsp;</span>on the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">classpath</span></code><span
            class="Apple-converted-space">&nbsp;</span>and Sigar native library
          for the o/s on the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">java.library.path</span></code>.
          User is required to manage both project dependency and library
          deployment manually.</li>
      </ol>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          using<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="https://github.com/kamon-io/sigar-loader" style="color: rgb(11, 85, 103); text-decoration: none;">Kamon
            sigar-loader</a><span class="Apple-converted-space">&nbsp;</span>and
          running multiple instances of the same application on the same host,
          you have to make sure that sigar library is extracted to a unique per
          instance directory. You can control the extract directory with the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.native-library-extract-folder</span></code><span
            class="Apple-converted-space">&nbsp;</span>configuration setting.</p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        enable usage of Sigar you can add the following dependency to the user
        project</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"io.kamon"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"sigar-loader"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"1.6.6-rev002"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can download Kamon sigar-loader from<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://search.maven.org/#search%7Cga%7C1%7Csigar-loader"
          style="color: rgb(21, 169, 206); text-decoration: none;">Maven Central</a></p>
    </div>
    <div class="section" id="adaptive-load-balancing" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Adaptive_Load_Balancing" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Adaptive
        Load Balancing</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">AdaptiveLoadBalancingPool</span></code><span
          class="Apple-converted-space">&nbsp;</span>/<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">AdaptiveLoadBalancingGroup</span></code><span
          class="Apple-converted-space">&nbsp;</span>performs load balancing of
        messages to cluster nodes based on the cluster metrics data. It uses
        random selection of routees with probabilities derived from the
        remaining capacity of the corresponding node. It can be configured to
        use a specific MetricsSelector to produce the probabilities, a.k.a.
        weights:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">heap</span></code><span
            class="Apple-converted-space">&nbsp;</span>/<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HeapMetricsSelector</span></code><span
            class="Apple-converted-space">&nbsp;</span>- Used and max JVM heap
          memory. Weights based on remaining heap capacity; (max - used) / max</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">load</span></code><span
            class="Apple-converted-space">&nbsp;</span>/<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">SystemLoadAverageMetricsSelector</span></code><span
            class="Apple-converted-space">&nbsp;</span>- System load average for
          the past 1 minute, corresponding value can be found in<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">top</span></code><span
            class="Apple-converted-space">&nbsp;</span>of Linux systems. The
          system is possibly nearing a bottleneck if the system load average is
          nearing number of cpus/cores. Weights based on remaining load
          capacity; 1 - (load / processors)</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">cpu</span></code><span
            class="Apple-converted-space">&nbsp;</span>/<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CpuMetricsSelector</span></code><span
            class="Apple-converted-space">&nbsp;</span>- CPU utilization in
          percentage, sum of User + Sys + Nice + Wait. Weights based on
          remaining cpu capacity; 1 - utilization</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">mix</span></code><span
            class="Apple-converted-space">&nbsp;</span>/<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">MixMetricsSelector</span></code><span
            class="Apple-converted-space">&nbsp;</span>- Combines heap, cpu and
          load. Weights based on mean of remaining capacity of the combined
          selectors.</li>
        <li style="line-height: 18px;">Any custom implementation of<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.MetricsSelector</span></code></li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        collected metrics values are smoothed with<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average"
          style="color: rgb(21, 169, 206); text-decoration: none;">exponential
          weighted moving average</a>. In the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#cluster-configuration-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
          class="Apple-converted-space">&nbsp;</span>you can adjust how quickly
        past data is decayed compared to new data.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Let's
        take a look at this router in action. What can be more demanding than
        calculating factorials?</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        backend worker that performs the factorial calculation:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">FactorialBackend</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">n</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">factorial</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">n</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">map</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">result</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">n</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">result</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pipeTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sender</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">factorial</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">n</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">BigInt</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nd" style="color: rgb(0, 0, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">@tailrec</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">factorialAcc</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">acc</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">BigInt</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">n</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">BigInt</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">n</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&lt;=</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">acc</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">factorialAcc</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">acc</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">*</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">n</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">n</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">factorialAcc</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">BigInt</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">n</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        frontend that receives user jobs and delegates to the backends via the
        router:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">FactorialFrontend</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upToN</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">repeat</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Boolean</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">backend</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FromConfig</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(),</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"factorialBackendRouter"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preStart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sendJobs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">repeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">setReceiveTimeout</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">10.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">n</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">factorial</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">BigInt</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">n</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">==</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">upToN</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">debug</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"{}! = {}"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">n</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">factorial</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">repeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sendJobs</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReceiveTimeout</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Timeout"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sendJobs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sendJobs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Starting batch of factorials up to [{}]"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">upToN</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">to</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">upToN</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">backend</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
        you can see, the router is defined in the same way as other routers, and
        in this case it is configured as follows:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">deployment </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="str" style="color: rgb(131, 185, 37);">/factorialFrontend/</span><span
class="pln" style="color: rgb(89, 80, 80);">factorialBackendRouter </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">{</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Router type provided by metrics extension. </span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    router </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> cluster</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">adaptive</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">group</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Router parameter specific for metrics extension.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># metrics-selector = heap</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># metrics-selector = load</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># metrics-selector = cpu</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    metrics</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">selector </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> mix</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    routees</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">paths </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="str" style="color: rgb(131, 185, 37);">"/user/factorialBackend"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    cluster </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      enabled </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="kwd" style="color: rgb(48, 166, 40);">use</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">role </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> backend</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      allow</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">local</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">routees </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> off</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is only<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">router</span></code><span
          class="Apple-converted-space">&nbsp;</span>type and the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">metrics-selector</span></code><span
          class="Apple-converted-space">&nbsp;</span>parameter that is specific
        to this router, other things work in the same way as other routers.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        same type of router could also have been defined in code:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterGroup</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterGroupSettings</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">AdaptiveLoadBalancingGroup</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">HeapMetricsSelector</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">backend</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterGroup</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">AdaptiveLoadBalancingGroup</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HeapMetricsSelector</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterGroupSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">totalInstances</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">100</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">routeesPaths</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">List</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/user/factorialBackend"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">allowLocalRoutees</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">useRole</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"backend"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(),</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"factorialBackendRouter2"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterPool</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterPoolSettings</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">AdaptiveLoadBalancingPool</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">SystemLoadAverageMetricsSelector</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">backend</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterPool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">AdaptiveLoadBalancingPool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SystemLoadAverageMetricsSelector</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterRouterPoolSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">totalInstances</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">100</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">maxInstancesPerNode</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">allowLocalRoutees</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">useRole</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"backend"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">FactorialBackend</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]),</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"factorialBackendRouter3"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/platform/getstarted" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
        named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/activator/template/akka-sample-cluster-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka Cluster
          Samples with Scala</a>. contains the full source code and instructions
        of how to run the<span class="Apple-converted-space">&nbsp;</span><strong
          style="font-weight: bold; color: rgb(11, 85, 103);">Adaptive Load
          Balancing</strong><span class="Apple-converted-space">&nbsp;</span>sample.</p>
    </div>
    <div class="section" id="subscribe-to-metrics-events" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Subscribe_to_Metrics_Events" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Subscribe
        to Metrics Events</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is possible to subscribe to the metrics events directly to implement
        other functionality.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterMetricsEvent</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterMetricsChanged</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterEvent</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">CurrentClusterState</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">NodeMetrics</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StandardMetrics</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">HeapMemory</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StandardMetrics</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Cpu</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ClusterMetricsExtension</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MetricsListener</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">selfAddress</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">selfAddress</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extension</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ClusterMetricsExtension</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Subscribe unto ClusterMetricsEvent events.</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preStart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extension</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Unsubscribe from ClusterMetricsEvent events.</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">postStop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extension</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unsubscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ClusterMetricsChanged</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">clusterMetrics</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">clusterMetrics</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">filter</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">==</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">selfAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">foreach</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">nodeMetrics</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">logHeap</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">nodeMetrics</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">logCpu</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">nodeMetrics</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">state</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CurrentClusterState</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Ignore.</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">logHeap</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodeMetrics</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">NodeMetrics</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodeMetrics</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">match</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HeapMemory</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">timestamp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">used</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">committed</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">max</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Used heap: {} MB"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">used</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">doubleValue</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">/</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1024</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">/</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1024</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// No heap info.</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">logCpu</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodeMetrics</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">NodeMetrics</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodeMetrics</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">match</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Cpu</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">address</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">timestamp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">systemLoadAverage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">cpuCombined</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cpuStolen</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">processors</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Load: {} ({} processors)"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">systemLoadAverage</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">processors</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// No cpu info.</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="custom-metrics-collector" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Custom_Metrics_Collector" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Custom
        Metrics Collector</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Metrics
        collection is delegated to the implementation of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.MetricsCollector</span></code></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can plug-in your own metrics collector instead of built-in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.SigarMetricsCollector</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.JmxMetricsCollector</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Look
        at those two implementations for inspiration.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Custom
        metrics collector implementation class must be specified in the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.metrics.collector.provider</span></code><span
          class="Apple-converted-space">&nbsp;</span>configuration property.</p>
    </div>
    <div class="section" id="configuration" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Configuration" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuration</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        Cluster metrics extension can be configured with the following
        properties:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="com" style="color: rgb(147, 161, 161);">##############################################</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># Akka Cluster Metrics Reference Config File #</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);">##############################################</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># This is the reference config file that contains all the default settings.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># Make your edits in your application.conf in order to override these settings.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># Sigar provisioning:</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);">#</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);">#  User can provision sigar classes and native library in one of the following ways:</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># </span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);">#  1) Use https://github.com/kamon-io/sigar-loader Kamon sigar-loader as a project dependency for the user project.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);">#  Metrics extension will extract and load sigar library on demand with help of Kamon sigar provisioner.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># </span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);">#  2) Use https://github.com/kamon-io/sigar-loader Kamon sigar-loader as java agent: `java -javaagent:/path/to/sigar-loader.jar`</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);">#  Kamon sigar loader agent will extract and load sigar library during JVM start.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># </span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);">#  3) Place `sigar.jar` on the `classpath` and sigar native library for the o/s on the `java.library.path`</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);">#  User is required to manage both project dependency and library deployment manually.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># Cluster metrics extension.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># Provides periodic statistics collection and publication throughout the cluster.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Full path of dispatcher configuration key.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Use "" for default key `akka.actor.default-dispatcher`.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    dispatcher </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">""</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># How long should any actor wait before starting the periodic tasks.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    periodic</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">tasks</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">initial</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">delay </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">1s</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Sigar native library extract location.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Use per-application-instance scoped location, such as program working directory.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="kwd" style="color: rgb(48, 166, 40);">native</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">library</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">extract</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">folder </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> $</span><span
class="pun" style="color: rgb(89, 80, 80);">{</span><span class="pln" style="color: rgb(89, 80, 80);">user</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">dir</span><span
class="pun" style="color: rgb(89, 80, 80);">}</span><span class="str" style="color: rgb(131, 185, 37);">"/native"</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Metrics supervisor actor.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    supervisor </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Actor name. Example name space: /system/cluster-metrics</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        name </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"cluster-metrics"</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Supervision strategy.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        strategy </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="com" style="color: rgb(147, 161, 161);"># FQCN of class providing `akka.actor.SupervisorStrategy`.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="com" style="color: rgb(147, 161, 161);"># Must have a constructor with signature `&lt;init&gt;(com.typesafe.config.Config)`.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="com" style="color: rgb(147, 161, 161);"># Default metrics strategy provider is a configurable extension of `OneForOneStrategy`.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            provider </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.metrics.ClusterMetricsStrategy"</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="com" style="color: rgb(147, 161, 161);"># Configuration of the default strategy provider.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="com" style="color: rgb(147, 161, 161);"># Replace with custom settings when overriding the provider.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            configuration </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">{</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">                </span><span class="com"
style="color: rgb(147, 161, 161);"># Log restart attempts.</span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">                loggingEnabled </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">true</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">                </span><span class="com"
style="color: rgb(147, 161, 161);"># Child actor restart-on-failure window.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">                withinTimeRange </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">3s</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">                </span><span class="com"
style="color: rgb(147, 161, 161);"># Maximum number of restart attempts before child actor is stopped.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">                maxNrOfRetries </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">3</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Metrics collector actor.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    collector </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Enable or disable metrics collector for load-balancing nodes.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Metrics collection can also be controlled at runtime by sending control messages</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># to /system/cluster-metrics actor: `akka.cluster.metrics.{CollectionStartMessage,CollectionStopMessage}`</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        enabled </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># FQCN of the metrics collector implementation.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># It must implement `akka.cluster.metrics.MetricsCollector` and</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># have public constructor with akka.actor.ActorSystem parameter.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Will try to load in the following order of priority: </span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># 1) configured custom collector 2) internal `SigarMetricsCollector` 3) internal `JmxMetricsCollector`</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        provider </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">""</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Try all 3 available collector providers, or else fail on the configured custom collector provider.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        fallback </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">true</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># How often metrics are sampled on a node.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Shorter interval will collect the metrics more often.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Also controls frequency of the metrics publication to the node system event bus. </span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        sample</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">interval </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">3s</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># How often a node publishes metrics information to the other nodes in the cluster.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Shorter interval will publish the metrics gossip more often.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        gossip</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">interval </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">3s</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># How quickly the exponential weighting of past data is decayed compared to</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># new data. Set lower to increase the bias toward newer values.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># The relevance of each data sample is halved for every passing half-life</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># duration, i.e. after 4 times the half-life, a data sample’s relevance is</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># reduced to 6% of its original relevance. The initial relevance of a data</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># sample is given by 1 – 0.5 ^ (collect-interval / half-life).</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># See http://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        moving</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">average</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">half</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">life </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">12s</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># Cluster metrics extension serializers and routers.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Protobuf serializer for remote cluster metrics messages.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    serializers </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">       akka</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.metrics.protobuf.MessageSerializer"</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Interface binding for remote cluster metrics messages.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    serialization</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">bindings </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">       </span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.metrics.ClusterMetricsMessage"</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> akka</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Globally unique metrics extension serializer identifier.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    serialization</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">identifiers </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.metrics.protobuf.MessageSerializer"</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#  Provide routing of messages based on cluster metrics.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    router</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">type</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">mapping </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        cluster</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">adaptive</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">pool  </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"akka.cluster.metrics.AdaptiveLoadBalancingPool"</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        cluster</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">metrics</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">adaptive</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">group</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="str" style="color: rgb(131, 185, 37);">"akka.cluster.metrics.AdaptiveLoadBalancingGroup"</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Distributed
      Data</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><em
        style="font-style: italic;">Akka Distributed Data</em><span class="Apple-converted-space">&nbsp;</span>is
      useful when you need to share data between nodes in an Akka Cluster. The
      data is accessed with an actor providing a key-value store like API. The
      keys are unique identifiers with type information of the data values. The
      values are<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">Conflict
        Free Replicated Data Types</em><span class="Apple-converted-space">&nbsp;</span>(CRDTs).</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">All
      data entries are spread to all nodes, or nodes with a certain role, in the
      cluster via direct replication and gossip based dissemination. You have
      fine grained control of the consistency level for reads and writes.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      nature CRDTs makes it possible to perform updates from any node without
      coordination. Concurrent updates from different nodes will automatically
      be resolved by the monotonic merge function, which all data types must
      provide. The state changes always converge. Several useful data types for
      counters, sets, maps and registers are provided and you can also implement
      your own custom data types.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">It
      is eventually consistent and geared toward providing high read and write
      availability (partition tolerance), with low latency. Note that in an
      eventually consistent system a read may return an out-of-date value.</p>
    <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        module is marked as<span class="Apple-converted-space">&nbsp;</span><strong
          style="font-weight: bold; color: rgb(255, 255, 255);">“experimental”</strong><span
          class="Apple-converted-space">&nbsp;</span>as of its introduction in
        Akka 2.4.0. We will continue to improve this API based on our users’
        feedback, which implies that while we try to keep incompatible changes
        to a minimum the binary compatibility guarantee for maintenance releases
        does not apply to the contents of the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.persistence</span></code><span
          class="Apple-converted-space">&nbsp;</span>package.</p>
    </div>
    <div class="section" id="using-the-replicator" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Using_the_Replicator" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Using
        the Replicator</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.ddata.Replicator</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor provides the API for
        interacting with the data. The<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor must be started on
        each node in the cluster, or group of nodes tagged with a specific role.
        It communicates with other<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code><span
          class="Apple-converted-space">&nbsp;</span>instances with the same
        path (without address) that are running on other nodes . For convenience
        it can be used with the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.cluster.ddata.DistributedData</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Cluster
        members with status<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/cluster-usage.html#weakly-up-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">WeaklyUp</span></a>,
        if that feature is enabled, will currently not participate in
        Distributed Data, but that is something that should be possible to add
        in a future release.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Below
        is an example of an actor that schedules tick messages to itself and for
        each tick adds or removes elements from a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code><span
          class="Apple-converted-space">&nbsp;</span>(observed-remove set). It
        also subscribes to changes of this.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ThreadLocalRandom</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">DistributedData</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ORSet</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ORSetKey</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Replicator</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Replicator</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DataBot</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">private</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tick</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DataBot</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DataBot</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DistributedData</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">tickTask</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">scheduler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">schedule</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Tick</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ORSetKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"key"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Subscribe</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tick</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ThreadLocalRandom</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">current</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nextInt</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">97</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">123</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toChar</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toString</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ThreadLocalRandom</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">current</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nextBoolean</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// add</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Adding: {}"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ORSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteLocal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// remove</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Removing: {}"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ORSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteLocal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">UpdateResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ignore</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Changed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">data</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">c</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Current elements: {}"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">data</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">postStop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">tickTask</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cancel</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <div class="section" id="update"><span id="replicator-update-scala"></span>
        <h3 id="Update" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Update</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          modify and replicate a data value you send a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>message to the local<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          current data value for the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">key</span></code><span
            class="Apple-converted-space">&nbsp;</span>of the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>is passed as parameter to
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">modify</span></code><span
            class="Apple-converted-space">&nbsp;</span>function of the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code>.
          The function is supposed to return the new value of the data, which
          will then be replicated according to the given consistency level.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">modify</span></code><span
            class="Apple-converted-space">&nbsp;</span>function is called by the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code><span
            class="Apple-converted-space">&nbsp;</span>actor and must therefore
          be a pure function that only uses the data parameter and stable fields
          from enclosing scope. It must for example not access<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">sender()</span></code><span
            class="Apple-converted-space">&nbsp;</span>reference of an enclosing
          actor.</p>
        <dl class="docutils" style="margin-bottom: 18px;">
          <dt style="line-height: 18px; font-weight: bold;"><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
              class="Apple-converted-space">&nbsp;</span>is intended to only be
            sent from an actor running in same local<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
              class="Apple-converted-space">&nbsp;</span>as</dt>
          <dd style="line-height: 18px; margin-left: 9px;">
            <ul class="first last simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
              <li style="line-height: 18px;">the<span class="Apple-converted-space">&nbsp;</span><cite
                  style="font-style: normal;">Replicator</cite>, because the<span
                  class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">modify</cite><span
                  class="Apple-converted-space">&nbsp;</span>function is
                typically not serializable.</li>
            </ul>
          </dd>
        </dl>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          supply a write consistency level which has the following meaning:</p>
        <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">WriteLocal</span></code><span
              class="Apple-converted-space">&nbsp;</span>the value will
            immediately only be written to the local replica, and later
            disseminated with gossip</li>
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">WriteTo(n)</span></code><span
              class="Apple-converted-space">&nbsp;</span>the value will
            immediately be written to at least<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">n</span></code><span
              class="Apple-converted-space">&nbsp;</span>replicas, including the
            local replica</li>
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">WriteMajority</span></code><span
              class="Apple-converted-space">&nbsp;</span>the value will
            immediately be written to a majority of replicas, i.e. at least<span
              class="Apple-converted-space">&nbsp;</span><strong style="font-weight: bold; color: rgb(11, 85, 103);">N/2
              + 1</strong><span class="Apple-converted-space">&nbsp;</span>replicas,
            where N is the number of nodes in the cluster (or cluster role
            group)</li>
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">WriteAll</span></code><span
              class="Apple-converted-space">&nbsp;</span>the value will
            immediately be written to all nodes in the cluster (or all nodes in
            the cluster role group)</li>
        </ul>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedData</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">PNCounterKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"counter1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GSetKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"set1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Set2Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ORSetKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"set2"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActiveFlagKey</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FlagKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"active"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PNCounter</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteLocal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeTo3</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteTo</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">n</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">timeout</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeTo3</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"hello"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeMajority</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteMajority</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set2Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ORSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeMajority</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"hello"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeAll</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteAll</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActiveFlagKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Flag</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">writeAll</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">switchOn</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
          reply of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.UpdateSuccess</span></code><span
            class="Apple-converted-space">&nbsp;</span>is sent to the sender of
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>if the value was
          successfully replicated according to the supplied consistency level
          within the supplied timeout. Otherwise a<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.UpdateFailure</span></code><span
            class="Apple-converted-space">&nbsp;</span>subclass is sent back.
          Note that a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.UpdateTimeout</span></code><span
            class="Apple-converted-space">&nbsp;</span>reply does not mean that
          the update completely failed or was rolled back. It may still have
          been replicated to some nodes, and will eventually be replicated to
          all nodes with the gossip protocol.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UpdateSuccess</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ok</span></span></li></ol></pre>
          </div>
        </div>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UpdateSuccess</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ok</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UpdateTimeout</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// write to 3 nodes failed within 1.second</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          will always see your own writes. For example if you send two<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>messages changing the
          value of the same<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">key</span></code>,
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">modify</span></code><span
            class="Apple-converted-space">&nbsp;</span>function of the second
          message will see the change that was performed by the first<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code>message.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>message you can pass an
          optional request context, which the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code><span
            class="Apple-converted-space">&nbsp;</span>does not care about, but
          is included in the reply messages. This is a convenient way to pass
          contextual information (e.g. original sender) without having to use<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ask</span></code><span
            class="Apple-converted-space">&nbsp;</span>or maintain local
          correlation data structures.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedData</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeTwo</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteTo</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">n</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">timeout</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">3.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">PNCounterKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"counter1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receive</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"increment"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// incoming command to increase the counter</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upd</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PNCounter</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeTwo</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">request</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upd</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UpdateSuccess</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"ack"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UpdateTimeout</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"nack"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="get"><span id="replicator-get-scala"></span>
        <h3 id="Get" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Get</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          retrieve the current value of a data you send<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>message to the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code>.
          You supply a consistency level which has the following meaning:</p>
        <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ReadLocal</span></code><span
              class="Apple-converted-space">&nbsp;</span>the value will only be
            read from the local replica</li>
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ReadFrom(n)</span></code><span
              class="Apple-converted-space">&nbsp;</span>the value will be read
            and merged from<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">n</span></code><span
              class="Apple-converted-space">&nbsp;</span>replicas, including the
            local replica</li>
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ReadMajority</span></code><span
              class="Apple-converted-space">&nbsp;</span>the value will be read
            and merged from a majority of replicas, i.e. at least<span class="Apple-converted-space">&nbsp;</span><strong
              style="font-weight: bold; color: rgb(11, 85, 103);">N/2 + 1</strong><span
              class="Apple-converted-space">&nbsp;</span>replicas, where N is
            the number of nodes in the cluster (or cluster role group)</li>
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ReadAll</span></code><span
              class="Apple-converted-space">&nbsp;</span>the value will be read
            and merged from all nodes in the cluster (or all nodes in the
            cluster role group)</li>
        </ul>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedData</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">PNCounterKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"counter1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GSetKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"set1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Set2Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ORSetKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"set2"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActiveFlagKey</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FlagKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"active"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReadLocal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readFrom3</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReadFrom</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">n</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">timeout</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readFrom3</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readMajority</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReadMajority</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set2Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readMajority</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readAll</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReadAll</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActiveFlagKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readAll</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
          reply of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.GetSuccess</span></code><span
            class="Apple-converted-space">&nbsp;</span>is sent to the sender of
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>if the value was
          successfully retrieved according to the supplied consistency level
          within the supplied timeout. Otherwise a<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.GetFailure</span></code><span
            class="Apple-converted-space">&nbsp;</span>is sent. If the key does
          not exist the reply will be<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.NotFound</span></code>.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">g</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">@</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetSuccess</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">g</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// key counter1 does not exist</span></span></li></ol></pre>
          </div>
        </div>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">g</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">@</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetSuccess</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">g</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetFailure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// read from 3 nodes failed within 1.second</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);">   </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// key set1 does not exist</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          will always read your own writes. For example if you send a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>message followed by a<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>of the same<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">key</span></code>the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>will retrieve the change
          that was performed by the preceding<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>message. However, the
          order of the reply messages are not defined, i.e. in the previous
          example you may receive the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GetSuccess</span></code><span
            class="Apple-converted-space">&nbsp;</span>before the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">UpdateSuccess</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>message you can pass an
          optional request context in the same way as for the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>message, described above.
          For example the original sender can be passed and replied to after
          receiving and transforming<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GetSuccess</span></code>.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedData</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readTwo</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReadFrom</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">n</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">timeout</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">3.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">PNCounterKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"counter1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receive</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"get-count"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// incoming request to retrieve current value of the counter</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readTwo</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">request</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">g</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GetSuccess</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">value</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">g</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">longValue</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetFailure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1L</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0L</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="consistency">
        <h3 id="Consistency" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Consistency</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          consistency level that is supplied in the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/distributed-data.html#replicator-update-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Update</span></a><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/distributed-data.html#replicator-get-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Get</span></a><span
            class="Apple-converted-space">&nbsp;</span>specifies per request how
          many replicas that must respond successfully to a write and read
          request.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          low latency reads you use<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReadLocal</span></code><span
            class="Apple-converted-space">&nbsp;</span>with the risk of
          retrieving stale data, i.e. updates from other nodes might not be
          visible yet.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          using<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WriteLocal</span></code><span
            class="Apple-converted-space">&nbsp;</span>the update is only
          written to the local replica and then disseminated in the background
          with the gossip protocol, which can take few seconds to spread to all
          nodes.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WriteAll</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReadAll</span></code><span
            class="Apple-converted-space">&nbsp;</span>is the strongest
          consistency level, but also the slowest and with lowest availability.
          For example, it is enough that one node is unavailable for a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>request and you will not
          receive the value.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          consistency is important, you can ensure that a read always reflects
          the most recent write by using the following formula:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodes_written</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nodes_read</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">N</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">where
          N is the total number of nodes in the cluster, or the number of nodes
          with the role that is used for the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          example, in a 7 node cluster this these consistency properties are
          achieved by writing to 4 nodes and reading from 4 nodes, or writing to
          5 nodes and reading from 3 nodes.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">By
          combining<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WriteMajority</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReadMajority</span></code><span
            class="Apple-converted-space">&nbsp;</span>levels a read always
          reflects the most recent write. The<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code><span
            class="Apple-converted-space">&nbsp;</span>writes and reads to a
          majority of replicas, i.e.<span class="Apple-converted-space">&nbsp;</span><strong
            style="font-weight: bold; color: rgb(11, 85, 103);">N / 2 + 1</strong>.
          For example, in a 5 node cluster it writes to 3 nodes and reads from 3
          nodes. In a 6 node cluster it writes to 4 nodes and reads from 4
          nodes.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
          is an example of using<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WriteMajority</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReadMajority</span></code>:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">private</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">private</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">readMajority</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ReadMajority</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">private</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">writeMajority</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">WriteMajority</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receiveGetCart</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetCart</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readMajority</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">g</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GetSuccess</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">data</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">g</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cart</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entries</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">values</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cart</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetFailure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// ReadMajority failure, try again with local read</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReadLocal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replyTo</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receiveAddItem</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">cmd</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">AddItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">item</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">update</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">LWWMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">LineItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeMajority</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cmd</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">cart</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">updateCart</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">cart</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">item</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">update</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          some rare cases, when performing an<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>it is needed to first try
          to fetch latest data from other nodes. That can be done by first
          sending a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>with<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReadMajority</span></code><span
            class="Apple-converted-space">&nbsp;</span>and then continue with
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>when the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GetSuccess</span></code>,<code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GetFailure</span></code><span
            class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">NotFound</span></code><span
            class="Apple-converted-space">&nbsp;</span>reply is received. This
          might be needed when you need to base a decision on latest information
          or when removing entries from<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code>.
          If an entry is added to an<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>from one node and removed
          from another node the entry will only be removed if the added entry is
          visible on the node where the removal is performed (hence the name
          observed-removed set).</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          following example illustrates how to do that:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receiveRemoveItem</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">cmd</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RemoveItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">productId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// Try to fetch latest from a majority of nodes first, since ORMap</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// remove must have seen the item to be able to remove it.</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">readMajority</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cmd</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetSuccess</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">RemoveItem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">productId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">LWWMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeMajority</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">productId</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetFailure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">RemoveItem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">productId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// ReadMajority failed, fall back to best effort local value</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Update</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">LWWMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeMajority</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">productId</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DataKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">RemoveItem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">productId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// nothing to remove</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><em
              style="font-style: italic;">Caveat:</em><span class="Apple-converted-space">&nbsp;</span>Even
            if you use<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">WriteMajority</span></code><span
              class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ReadMajority</span></code><span
              class="Apple-converted-space">&nbsp;</span>there is small risk
            that you may read stale data if the cluster membership has changed
            between the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
              class="Apple-converted-space">&nbsp;</span>and the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Get</span></code>.
            For example, in cluster of 5 nodes when you<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
              class="Apple-converted-space">&nbsp;</span>and that change is
            written to 3 nodes: n1, n2, n3. Then 2 more nodes are added and a<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
              class="Apple-converted-space">&nbsp;</span>request is reading from
            4 nodes, which happens to be n4, n5, n6, n7, i.e. the value on n1,
            n2, n3 is not seen in the response of the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
              class="Apple-converted-space">&nbsp;</span>request.</p>
        </div>
      </div>
      <div class="section" id="subscribe">
        <h3 id="Subscribe" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Subscribe</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          may also register interest in change notifications by sending<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.Subscribe</span></code><span
            class="Apple-converted-space">&nbsp;</span>message to the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code>.
          It will send<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.Changed</span></code><span
            class="Apple-converted-space">&nbsp;</span>messages to the
          registered subscriber when the data for the subscribed key is updated.
          Subscribers will be notified periodically with the configured<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">notify-subscribers-interval</span></code>,
          and it is also possible to send an explicit<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.FlushChanges</span></code><span
            class="Apple-converted-space">&nbsp;</span>message to the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code><span
            class="Apple-converted-space">&nbsp;</span>to notify the subscribers
          immediately.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          subscriber is automatically removed if the subscriber is terminated. A
          subscriber can also be deregistered with the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.Unsubscribe</span></code><span
            class="Apple-converted-space">&nbsp;</span>message.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedData</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">PNCounterKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"counter1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// subscribe to changes of the Counter1Key value</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Subscribe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">var</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">currentValue</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">BigInt</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receive</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Changed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">currentValue</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"get-count"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// incoming request to retrieve current value of the counter</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">currentValue</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="delete">
        <h3 id="Delete" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Delete</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
          data entry can be deleted by sending a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.Delete</span></code><span
            class="Apple-converted-space">&nbsp;</span>message to the local
          local<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code>.
          As reply of the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Delete</span></code><span
            class="Apple-converted-space">&nbsp;</span>a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.DeleteSuccess</span></code><span
            class="Apple-converted-space">&nbsp;</span>is sent to the sender of
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Delete</span></code><span
            class="Apple-converted-space">&nbsp;</span>if the value was
          successfully deleted according to the supplied consistency level
          within the supplied timeout. Otherwise a<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.ReplicationDeleteFailure</span></code><span
            class="Apple-converted-space">&nbsp;</span>is sent. Note that<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReplicationDeleteFailure</span></code><span
            class="Apple-converted-space">&nbsp;</span>does not mean that the
          delete completely failed or was rolled back. It may still have been
          replicated to some nodes, and may eventually be replicated to all
          nodes.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
          deleted key cannot be reused again, but it is still recommended to
          delete unused data entries because that reduces the replication
          overhead when new nodes join the cluster. Subsequent<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Delete</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Update</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Get</span></code><span
            class="Apple-converted-space">&nbsp;</span>requests will be replied
          with<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.DataDeleted</span></code>.
          Subscribers will receive<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator.DataDeleted</span></code>.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DistributedData</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">PNCounterKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"counter1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Set2Key</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ORSetKey</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"set2"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Delete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Counter1Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteLocal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeMajority</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WriteMajority</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">replicator</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Delete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Set2Key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeMajority</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
            deleted keys continue to be included in the stored data on each node
            as well as in gossip messages, a continuous series of updates and
            deletes of top-level entities will result in growing memory usage
            until an ActorSystem runs out of memory. To use Akka Distributed
            Data where frequent adds and removes are required, you should use a
            fixed number of top-level data types that support both updates and
            removals, for example<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
              class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code>.</p>
        </div>
      </div>
    </div>
    <div class="section" id="data-types" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Data_Types" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Data
        Types</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        data types must be convergent (stateful) CRDTs and implement the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ReplicatedData</span></code><span
          class="Apple-converted-space">&nbsp;</span>trait, i.e. they provide a
        monotonic merge function and the state changes always converge.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can use your own custom<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ReplicatedData</span></code><span
          class="Apple-converted-space">&nbsp;</span>types, and several types
        are provided by this package, such as:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Counters:<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GCounter</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PNCounter</span></code></li>
        <li style="line-height: 18px;">Sets:<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GSet</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code></li>
        <li style="line-height: 18px;">Maps:<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMultiMap</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWMap</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PNCounterMap</span></code></li>
        <li style="line-height: 18px;">Registers:<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWRegister</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Flag</span></code></li>
      </ul>
      <div class="section" id="counters">
        <h3 id="Counters" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Counters</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GCounter</span></code><span
            class="Apple-converted-space">&nbsp;</span>is a "grow only counter".
          It only supports increments, no decrements.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
          works in a similar way as a vector clock. It keeps track of one
          counter per node and the total value is the sum of these counters. The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">merge</span></code><span
            class="Apple-converted-space">&nbsp;</span>is implemented by taking
          the maximum count for each node.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you need both increments and decrements you can use the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PNCounter</span></code><span
            class="Apple-converted-space">&nbsp;</span>(positive/negative
          counter).</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
          is tracking the increments (P) separate from the decrements (N). Both
          P and N are represented as two internal<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GCounter</span></code>.
          Merge is handled by merging the internal P and N counters. The value
          of the counter is the value of the P counter minus the value of the N
          counter.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">c0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PNCounter</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">c1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">c0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c1</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">7</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">c3</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">PNCounter</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">println</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// 6</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Several
          related counters can be managed in a map with the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PNCounterMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>data type. When the
          counters are placed in a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PNCounterMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>as opposed to placing
          them as separate top level values they are guaranteed to be replicated
          together as one unit, which is sometimes necessary for related data.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PNCounterMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m0</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">increment</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"a"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">7</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m2</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">decrement</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"a"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m3</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">increment</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"b"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"a"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// 5</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">m3</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">entries</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">key</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"</span></span><span class="si" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">$key</span></span><span class="s"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);"> -&gt; </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$value</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="sets">
        <h3 id="Sets" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Sets</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you only need to add elements to a set and not remove elements the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>(grow-only set) is the
          data type to use. The elements can be any type of values that can be
          serialized. Merge is simply the union of the two sets.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"a"</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s1</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"b"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"c"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">s2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">contains</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"a"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// a, b, c</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you need add and remove operations you should use the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>(observed-remove set).
          Elements can be added and removed any number of times. If an element
          is concurrently added and removed, the add will win. You cannot remove
          an element that you have not seen.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>has a version vector that
          is incremented when an element is added to the set. The version for
          the node that added the element is also tracked for each element in a
          so called "birth dot". The version vector and the dots are used by the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">merge</span></code><span
            class="Apple-converted-space">&nbsp;</span>function to track
          causality of the operations and resolve concurrent updates.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ORSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"a"</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s1</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"b"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s3</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s2</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"a"</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">println</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// b</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="maps">
        <h3 id="Maps" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Maps</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>(observed-remove map) is
          a map with<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">String</span></code><span
            class="Apple-converted-space">&nbsp;</span>keys and the values are<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReplicatedData</span></code><span
            class="Apple-converted-space">&nbsp;</span>types themselves. It
          supports add, remove and delete any number of times for a map entry.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          an entry is concurrently added and removed, the add will win. You
          cannot remove an entry that you have not seen. This is the same
          semantics as for the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          an entry is concurrently updated to different values the values will
          be merged, hence the requirement that the values must be<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReplicatedData</span></code><span
            class="Apple-converted-space">&nbsp;</span>types.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
          is rather inconvenient to use the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>directly since it does
          not expose specific types of the values. The<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>is intended as a low
          level tool for building more specific maps, such as the following
          specialized maps.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMultiMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>(observed-remove
          multi-map) is a multi-map implementation that wraps an<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>with an<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>for the map's value.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PNCounterMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>(positive negative
          counter map) is a map of named counters. It is a specialized<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>with<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PNCounter</span></code><span
            class="Apple-converted-space">&nbsp;</span>values.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>(last writer wins map) is
          a specialized<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>with<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWRegister</span></code><span
            class="Apple-converted-space">&nbsp;</span>(last writer wins
          register) values.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ORMultiMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"a"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">3</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">addBinding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"a"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">4</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m3</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">removeBinding</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"a"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m4</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">m3</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">addBinding</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"b"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m4</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entries</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
          that<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWRegister</span></code><span
            class="Apple-converted-space">&nbsp;</span>and therefore<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>relies on synchronized
          clocks and should only be used when the choice of value is not
          important for concurrent updates occurring within the clock skew.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Instead
          of using timestamps based on<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">System.currentTimeMillis()</span></code><span
            class="Apple-converted-space">&nbsp;</span>time it is possible to
          use a timestamp value based on something else, for example an
          increasing version number from a database record that is used for
          optimistic concurrency control.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          a data entry is changed the full state of that entry is replicated to
          other nodes, i.e. when you update a map the whole map is replicated.
          Therefore, instead of using one<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>with 1000 elements it is
          more efficient to split that up in 10 top level<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ORMap</span></code><span
            class="Apple-converted-space">&nbsp;</span>entries with 100 elements
          each. Top level entries are replicated individually, which has the
          trade-off that different entries may not be replicated at the same
          time and you may see inconsistencies between related entries. Separate
          top level entries cannot be updated atomically together.</p>
      </div>
      <div class="section" id="flags-and-registers">
        <h3 id="Flags_and_Registers" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Flags
          and Registers</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Flag</span></code><span
            class="Apple-converted-space">&nbsp;</span>is a data type for a
          boolean value that is initialized to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">false</span></code><span
            class="Apple-converted-space">&nbsp;</span>and can be switched to<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">true</span></code>.
          Thereafter it cannot be changed.<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">true</span></code><span
            class="Apple-converted-space">&nbsp;</span>wins over<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">false</span></code><span
            class="Apple-converted-space">&nbsp;</span>in merge.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">f0</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Flag</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">empty</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f1</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f0</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">switchOn</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">println</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabled</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWRegister</span></code><span
            class="Apple-converted-space">&nbsp;</span>(last writer wins
          register) can hold any (serializable) value.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Merge
          of a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWRegister</span></code><span
            class="Apple-converted-space">&nbsp;</span>takes the register with
          highest timestamp. Note that this relies on synchronized clocks.<cite
            style="font-style: normal;">LWWRegister</cite><span class="Apple-converted-space">&nbsp;</span>should
          only be used when the choice of value is not important for concurrent
          updates occurring within the clock skew.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Merge
          takes the register updated by the node with lowest address (<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">UniqueAddress</span></code><span
            class="Apple-converted-space">&nbsp;</span>is ordered) if the
          timestamps are exactly the same.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">LWWRegister</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Hello"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r2</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">withValue</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Hi"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">println</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"</span></span><span class="si" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">${</span></span><span class="n"><span
class="str" style="color: rgb(131, 185, 37);">r1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="str" style="color: rgb(131, 185, 37);">.</span></span><span class="n"><span
class="str" style="color: rgb(131, 185, 37);">value</span></span><span class="si"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);"> by </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">${</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">r1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">updatedBy</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);"> at </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">${</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">r1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">timestamp</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Instead
          of using timestamps based on<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">System.currentTimeMillis()</span></code><span
            class="Apple-converted-space">&nbsp;</span>time it is possible to
          use a timestamp value based on something else, for example an
          increasing version number from a database record that is used for
          optimistic concurrency control.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Record</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">version</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">address</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">node</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">recordClock</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">LWWRegister</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Clock</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Record</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">apply</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">currentTimestamp</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Long</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Record</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Long</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">value</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">version</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">record1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Record</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">version</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Alice"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Union Square"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">LWWRegister</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">record1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">record2</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Record</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">version</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Alice"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Madison Square"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r2</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">LWWRegister</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">record2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r3</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">merge</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">r2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">r3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          first-write-wins semantics you can use the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWRegister#reverseClock</span></code><span
            class="Apple-converted-space">&nbsp;</span>instead of the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LWWRegister#defaultClock</span></code>.</p>
      </div>
      <div class="section" id="custom-data-type">
        <h3 id="Custom_Data_Type" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Custom
          Data Type</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          can rather easily implement your own data types. The only requirement
          is that it implements the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">merge</span></code><span
            class="Apple-converted-space">&nbsp;</span>function of the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ReplicatedData</span></code><span
            class="Apple-converted-space">&nbsp;</span>trait.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
          nice property of stateful CRDTs is that they typically compose nicely,
          i.e. you can combine several smaller data types to build richer data
          structures. For example, the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PNCounter</span></code><span
            class="Apple-converted-space">&nbsp;</span>is composed of two
          internal<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GCounter</span></code><span
            class="Apple-converted-space">&nbsp;</span>instances to keep track
          of increments and decrements separately.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
          is s simple implementation of a custom<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">TwoPhaseSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>that is using two
          internal<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>types to keep track of
          addition and removals. A<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">TwoPhaseSet</span></code><span
            class="Apple-converted-space">&nbsp;</span>is a set where an element
          may be added and removed, but never added again thereafter.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">     </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReplicatedData</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">type</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">T</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">add</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">element</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">copy</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">add</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">element</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">remove</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">element</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">copy</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">add</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">element</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Set</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">diff</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">merge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">that</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">copy</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">adds</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">this</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">merge</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">that</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">this</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">merge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">that</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Data
          types should be immutable, i.e. "modifying" methods should return a
          new instance.</p>
        <div class="section" id="serialization">
          <h4 id="Serialization" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Serialization</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            data types must be serializable with an<span class="Apple-converted-space">&nbsp;</span><a
              class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/serialization.html#serialization-scala"
              style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Akka
                Serializer</span></a>. It is highly recommended that you
            implement efficient serialization with Protobuf or similar for your
            custom data types. The built in data types are marked with<code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ReplicatedDataSerialization</span></code><span
              class="Apple-converted-space">&nbsp;</span>and serialized with<code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.cluster.ddata.protobuf.ReplicatedDataSerializer</span></code>.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Serialization
            of the data types are used in remote messages and also for creating
            message digests (SHA-1) to detect changes. Therefore it is important
            that the serialization is efficient and produce the same bytes for
            the same content. For example sets and maps should be sorted
            deterministically in the serialization.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
            is a protobuf representation of the above<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">TwoPhaseSet</span></code>:</p>
          <div class="highlight-scala">
            <div class="highlight" style="background: rgb(240, 240, 240);">
              <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">option</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">java_package</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"docs.ddata.protobuf.msg"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">option</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">optimize_for</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">SPEED</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">message</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">repeated</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">string</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">adds</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">;</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">repeated</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">string</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">removals</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">;</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
            </div>
          </div>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            serializer for the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">TwoPhaseSet</span></code>:</p>
          <div class="highlight-scala">
            <div class="highlight" style="background: rgb(240, 240, 240);">
              <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ArrayList</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Collections</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">collection</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">JavaConverters</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ExtendedActorSystem</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">GSet</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">protobuf</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">SerializationSupport</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">serialization</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Serializer</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">docs</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">docs</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">protobuf</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">msg</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetMessages</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetSerializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ExtendedActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Serializer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SerializationSupport</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">includeManifest</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Boolean</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">identifier</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">99999</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">toBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">match</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetToProto</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toByteArray</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">throw</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">IllegalArgumentException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Can't serialize object of type </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">${</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">obj</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">getClass</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">clazz</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Class</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetFromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetToProto</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSet</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetMessages</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetMessages</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">newBuilder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// using java collections and sorting for performance (avoid conversions)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ArrayList</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">add</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(!</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">isEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Collections</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sort</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">addAllAdds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ArrayList</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">add</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(!</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">isEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Collections</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sort</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">addAllRemovals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">b</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">build</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetFromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetMessages</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parseFrom</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getAddsList</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">iterator</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">asScala</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getRemovalsList</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">iterator</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">asScala</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
            </div>
          </div>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
            that the elements of the sets are sorted so the SHA-1 digests are
            the same for the same elements.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
            register the serializer in configuration:</p>
          <div class="highlight-scala">
            <div class="highlight" style="background: rgb(240, 240, 240);">
              <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serializers</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">two</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">phase</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">set</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"docs.ddata.protobuf.TwoPhaseSetSerializer"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serialization</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bindings</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"docs.ddata.TwoPhaseSet"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">two</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">phase</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">set</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
            </div>
          </div>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Using
            compression can sometimes be a good idea to reduce the data size.
            Gzip compression is provided by the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.cluster.ddata.protobuf.SerializationSupport</span></code><span
              class="Apple-converted-space">&nbsp;</span>trait:</p>
          <div class="highlight-scala">
            <div class="highlight" style="background: rgb(240, 240, 240);">
              <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">toBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">match</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">compress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetToProto</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">throw</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">IllegalArgumentException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Can't serialize object of type </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">${</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">obj</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">getClass</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">clazz</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Class</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetFromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">decompress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
            </div>
          </div>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            two embedded<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">GSet</span></code><span
              class="Apple-converted-space">&nbsp;</span>can be serialized as
            illustrated above, but in general when composing new data types from
            the existing built in types it is better to make use of the existing
            serializer for those types. This can be done by declaring those as
            bytes fields in protobuf:</p>
          <div class="highlight-scala">
            <div class="highlight" style="background: rgb(240, 240, 240);">
              <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">message</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet2</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">optional</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">adds</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">;</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">optional</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">removals</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">;</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
            </div>
          </div>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">and
            use the methods<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">otherMessageToProto</span></code><span
              class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">otherMessageFromBinary</span></code><span
              class="Apple-converted-space">&nbsp;</span>that are provided by
            the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">SerializationSupport</span></code><span
              class="Apple-converted-space">&nbsp;</span>trait to serialize and
            deserialize the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">GSet</span></code><span
              class="Apple-converted-space">&nbsp;</span>instances. This works
            with any type that has a registered Akka serializer. This is how
            such an serializer would look like for the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">TwoPhaseSet</span></code>:</p>
          <div class="highlight-scala">
            <div class="highlight" style="background: rgb(240, 240, 240);">
              <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ExtendedActorSystem</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">GSet</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">protobuf</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ReplicatedDataSerializer</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">cluster</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">protobuf</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">SerializationSupport</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">serialization</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Serializer</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">docs</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">docs</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ddata</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">protobuf</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">msg</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetMessages</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetSerializer2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ExtendedActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Serializer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SerializationSupport</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">includeManifest</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Boolean</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">identifier</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">99999</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replicatedDataSerializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ReplicatedDataSerializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">toBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">match</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetToProto</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toByteArray</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">throw</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">IllegalArgumentException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Can't serialize object of type </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">${</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">obj</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">getClass</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">clazz</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Class</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetFromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetToProto</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSet</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetMessages</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetMessages</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">newBuilder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(!</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">isEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">setAdds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">otherMessageToProto</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(!</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">isEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">setRemovals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">otherMessageToProto</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">build</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">twoPhaseSetFromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSetMessages</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parseFrom</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">hasAdds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">otherMessageFromBinary</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getAdds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toByteArray</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">asInstanceOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">else</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">removals</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">hasRemovals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">otherMessageFromBinary</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getRemovals</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toByteArray</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">asInstanceOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">else</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GSet</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TwoPhaseSet</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">adds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">removals</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
            </div>
          </div>
        </div>
      </div>
      <div class="section" id="crdt-garbage">
        <h3 id="CRDT_Garbage" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">CRDT
          Garbage</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">One
          thing that can be problematic with CRDTs is that some data types
          accumulate history (garbage). For example a<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GCounter</span></code><span
            class="Apple-converted-space">&nbsp;</span>keeps track of one
          counter per node. If a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">GCounter</span></code><span
            class="Apple-converted-space">&nbsp;</span>has been updated from one
          node it will associate the identifier of that node forever. That can
          become a problem for long running systems with many cluster nodes
          being added and removed. To solve this problem the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Replicator</span></code><span
            class="Apple-converted-space">&nbsp;</span>performs pruning of data
          associated with nodes that have been removed from the cluster. Data
          types that need pruning have to implement the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">RemovedNodePruning</span></code><span
            class="Apple-converted-space">&nbsp;</span>trait.</p>
      </div>
    </div>
    <div class="section" id="samples" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Samples" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Samples</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Several
        interesting samples are included and described in the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.lightbend.com/platform/getstarted"
          style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
        named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/activator/template/akka-sample-distributed-data-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka
          Distributed Data Samples with Scala</a>.</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Low Latency Voting Service</li>
        <li style="line-height: 18px;">Highly Available Shopping Cart</li>
        <li style="line-height: 18px;">Distributed Service Registry</li>
        <li style="line-height: 18px;">Replicated Cache</li>
        <li style="line-height: 18px;">Replicated Metrics</li>
      </ul>
    </div>
    <div class="section" id="limitations" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Limitations" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Limitations</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are some limitations that you should be aware of.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">CRDTs
        cannot be used for all types of problems, and eventual consistency does
        not fit all domains. Sometimes you need strong consistency.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is not intended for<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">Big Data</em>. The number of top level
        entries should not exceed 100000. When a new node is added to the
        cluster all these entries are transferred (gossiped) to the new node.
        The entries are split up in chunks and all existing nodes collaborate in
        the gossip, but it will take a while (tens of seconds) to transfer all
        entries and this means that you cannot have too many top level entries.
        The current recommended limit is 100000. We will be able to improve this
        if needed, but the design is still not intended for billions of entries.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
        data is held in memory, which is another reason why it is not intended
        for<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">Big
          Data</em>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        a data entry is changed the full state of that entry is replicated to
        other nodes. For example, if you add one element to a Set with 100
        existing elements, all 101 elements are transferred to other nodes. This
        means that you cannot have too large data entries, because then the
        remote message size will be too large. We might be able to make this
        more efficient by implementing<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://gsd.di.uminho.pt/members/cbm/ps/delta-crdt-draft16may2014.pdf"
          style="color: rgb(21, 169, 206); text-decoration: none;">Efficient
          State-based CRDTs by Delta-Mutation</a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        data is only kept in memory. It is redundant since it is replicated to
        other nodes in the cluster, but if you stop all nodes the data is lost,
        unless you have saved it elsewhere. Making the data durable is a
        possible future feature, but even if we implement that it is not
        intended to be a full featured database.</p>
    </div>
    <div class="section" id="learn-more-about-crdts" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Learn_More_about_CRDTs" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Learn
        More about CRDTs</h2>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><a class="reference external" href="http://www.ustream.tv/recorded/61448875"
            style="color: rgb(21, 169, 206); text-decoration: none;">The Final
            Causal Frontier</a><span class="Apple-converted-space">&nbsp;</span>talk
          by Sean Cribbs</li>
        <li style="line-height: 18px;"><a class="reference external" href="https://vimeo.com/43903960"
            style="color: rgb(21, 169, 206); text-decoration: none;">Eventually
            Consistent Data Structures</a><span class="Apple-converted-space">&nbsp;</span>talk
          by Sean Cribbs</li>
        <li style="line-height: 18px;"><a class="reference external" href="http://research.microsoft.com/apps/video/default.aspx?id=153540&amp;r=1"
            style="color: rgb(21, 169, 206); text-decoration: none;">Strong
            Eventual Consistency and Conflict-free Replicated Data Types</a><span
            class="Apple-converted-space">&nbsp;</span>talk by Mark Shapiro</li>
        <li style="line-height: 18px;"><a class="reference external" href="http://hal.upmc.fr/file/index/docid/555588/filename/techreport.pdf"
            style="color: rgb(21, 169, 206); text-decoration: none;">A
            comprehensive study of Convergent and Commutative Replicated Data
            Types</a><span class="Apple-converted-space">&nbsp;</span>paper by
          Mark Shapiro et. al.</li>
      </ul>
      <div class="section" id="dependencies">
        <h3 id="Dependencies" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Dependencies</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          use Distributed Data you must add the following dependency in your
          project.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">sbt:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-distributed-data-experimental"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">maven:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">com</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">typesafe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">groupId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">distributed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">experimental_2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">11</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">artifactId</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="tag" style="color: rgb(48, 166, 40);">&lt;</span></span><span class="n"><span
class="tag" style="color: rgb(48, 166, 40);">version</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">2.4</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">.</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">10</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">version</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&lt;/</span></span><span
class="n"><span class="tag" style="color: rgb(48, 166, 40);">dependency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="tag" style="color: rgb(48, 166, 40);">&gt;</span></span></li></ol></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="section" id="configuration" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Configuration" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuration</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DistributedData</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension can be configured
        with the following properties:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Settings</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">for</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">DistributedData</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">extension</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">distributed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Actor</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">name</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Replicator</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">actor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">,</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">/</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">system</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">/</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">ddataReplicator</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ddataReplicator</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Replicas</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">are</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">running</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">on</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">members</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">tagged</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">with</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">role</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">All</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">members</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">are</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">used</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">if</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">undefined</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">or</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">role</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">""</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">How</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">often</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">Replicator</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">should</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">send</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">out</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">gossip</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">information</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">gossip</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">How</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">often</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">subscribers</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">notified</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">changes</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">,</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">if</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">any</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">notify</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">subscribers</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">500</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">ms</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Maximum</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">number</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">entries</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">transfer</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">in</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">one</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">gossip</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">message</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">when</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">synchronizing</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">replicas</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Next</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">chunk</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">will</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">transferred</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">in</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">next</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">round</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">gossip</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">max</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">delta</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">elements</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1000</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">id</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">dispatcher</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">use</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">for</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Replicator</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">actors</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">not</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">specified</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">default</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">dispatcher</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">used</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">specified</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">you</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">need</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">define</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">settings</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">actual</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">dispatcher</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">use</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">""</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">How</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">often</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">Replicator</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">checks</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">for</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">pruning</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">of</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">data</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">associated</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">with</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">removed</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">cluster</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">nodes</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pruning</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">interval</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">30</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">How</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">long</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">time</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">it</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">takes</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">(</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">worst</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">case</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">)</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">spread</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">data</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">all</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">other</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">replica</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">nodes</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">#</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">This</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">used</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">when</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">initiating</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">and</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">completing</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">the</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">pruning</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">process</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">of</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">data</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">associated</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">with</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">removed</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">cluster</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">nodes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">The</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">time</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">measurement</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">is</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">stopped</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">when</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">any</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">replica</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">is</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">unreachable</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">,</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">so</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">it</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">should</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">be</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">configured</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">to</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">worst</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">case</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">in</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">a</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">healthy</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">cluster</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">max</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pruning</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dissemination</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">60</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">s</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Serialized</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Write</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">and</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">Read</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">messages</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">are</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">cached</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">when</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">they</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">are</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">sent</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">to</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">several</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">nodes</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">.</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">If</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">no</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">further</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">activity</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">they</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">are</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">removed</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">from</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">the</span></span><span class="com" style="color: rgb(147, 161, 161);"> </span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">cache</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">#</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">after</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="com" style="color: rgb(147, 161, 161);">this</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">duration</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">.</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">serializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cache</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">time</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">to</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">live</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">10</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">s</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Remoting</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">For
      an introduction of remoting capabilities of Akka please see<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/general/remoting.html#remoting"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Location
          Transparency</span></a>.</p>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
        explained in that chapter Akka remoting is designed for communication in
        a peer-to-peer fashion and it has limitations for client-server setups.
        In particular Akka Remoting does not work transparently with Network
        Address Translation, Load Balancers, or in Docker containers. For
        symmetric communication in these situations network and/or Akka
        configuration will have to be changed as described in<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/remoting.html#remote-configuration-nat"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Akka
            behind NAT or in a Docker container</span></a>.</p>
    </div>
    <div class="section" id="preparing-your-actorsystem-for-remoting" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Preparing_your_ActorSystem_for_Remoting" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Preparing
        your ActorSystem for Remoting</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        Akka remoting is a separate jar file. Make sure that you have the
        following dependency in your project:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-remote"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        enable remote capabilities in your Akka project you should, at a
        minimum, add the following changes to your<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code><span
          class="Apple-converted-space">&nbsp;</span>file:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  actor </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    provider </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"akka.remote.RemoteActorRefProvider"</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  remote </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    enabled</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">transports </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="str" style="color: rgb(131, 185, 37);">"akka.remote.netty.tcp"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    netty</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">tcp </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      hostname </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"127.0.0.1"</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      port </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">2552</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
        you can see in the example above there are four things you need to add
        to get started:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Change provider from<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.actor.LocalActorRefProvider</span></code><span
            class="Apple-converted-space">&nbsp;</span>to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.remote.RemoteActorRefProvider</span></code></li>
        <li style="line-height: 18px;">Add host name - the machine you want to
          run the actor system on; this host name is exactly what is passed to
          remote systems in order to identify this system and consequently used
          for connecting back to this system if need be, hence set it to a
          reachable IP address or resolvable name in case you want to
          communicate across the network.</li>
        <li style="line-height: 18px;">Add port number - the port the actor
          system should listen on, set to 0 to have it chosen automatically</li>
      </ul>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          port number needs to be unique for each actor system on the same
          machine even if the actor systems have different names. This is
          because each actor system has its own networking subsystem listening
          for connections and handling messages as not to interfere with other
          actor systems.</p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        example above only illustrates the bare minimum of properties you have
        to add to enable remoting. All settings are described in<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/remoting.html#remote-configuration-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Remote
            Configuration</span></a>.</p>
    </div>
    <div class="section" id="types-of-remote-interaction" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Types_of_Remote_Interaction" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Types
        of Remote Interaction</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        has two ways of using remoting:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Lookup : used to look up an actor on a
          remote node with<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">actorSelection(path)</span></code></li>
        <li style="line-height: 18px;">Creation : used to create an actor on a
          remote node with<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">actorOf(Props(...),</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">actorName)</span></code></li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        the next sections the two alternatives are described in detail.</p>
    </div>
    <div class="section" id="looking-up-remote-actors" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Looking_up_Remote_Actors" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Looking
        up Remote Actors</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">actorSelection(path)</span></code><span
          class="Apple-converted-space">&nbsp;</span>will obtain an<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSelection</span></code><span
          class="Apple-converted-space">&nbsp;</span>to an Actor on a remote
        node, e.g.:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">selection</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorSelection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://actorSystemName@10.0.0.1:2552/user/actorName"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
        you can see from the example above the following pattern is used to find
        an actor on a remote node:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.&lt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">protocol</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&gt;:</span><span
class="com" style="color: rgb(147, 161, 161);">//&lt;</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">actor</span></span><span class="com"
style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com" style="color: rgb(147, 161, 161);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">&gt;@&lt;</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">hostname</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">&gt;:&lt;</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">&gt;/&lt;</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">actor</span></span><span
class="com" style="color: rgb(147, 161, 161);"> </span><span class="n"><span class="com"
style="color: rgb(147, 161, 161);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="com" style="color: rgb(147, 161, 161);">&gt;</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        you obtained a selection to the actor you can interact with it in the
        same way you would with a local actor, e.g.:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">selection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Pretty awesome feature"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        acquire an<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code><span
          class="Apple-converted-space">&nbsp;</span>for an<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSelection</span></code><span
          class="Apple-converted-space">&nbsp;</span>you need to send a message
        to the selection and use the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">sender</span></code>reference
        of the reply from the actor. There is a built-in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Identify</span></code><span
          class="Apple-converted-space">&nbsp;</span>message that all Actors
        will understand and automatically reply to with a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorIdentity</span></code><span
          class="Apple-converted-space">&nbsp;</span>message containing the<span
          class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code>.
        This can also be done with the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">resolveOne</span></code><span
          class="Apple-converted-space">&nbsp;</span>method of the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSelection</span></code>,
        which returns a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Future</span></code><span
          class="Apple-converted-space">&nbsp;</span>of the matching<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code>.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          more details on how actor addresses and paths are formed and used,
          please refer to<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/general/addressing.html#addressing"
            style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Actor
              References, Paths and Addresses</span></a>.</p>
      </div>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Message
          sends to actors that are actually in the sending actor system do not
          get delivered via the remote actor ref provider. They're delivered
          directly, by the local actor ref provider.</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Aside
          from providing better performance, this also means that if the
          hostname you configure remoting to listen as cannot actually be
          resolved from within the very same actor system, such messages will
          (perhaps counterintuitively) be delivered just fine.</p>
      </div>
    </div>
    <div class="section" id="creating-actors-remotely" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Creating_Actors_Remotely" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Creating
        Actors Remotely</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        you want to use the creation functionality in Akka remoting you have to
        further amend the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code><span
          class="Apple-converted-space">&nbsp;</span>file in the following way
        (only showing deployment section):</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">actor</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">deployment</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="str" style="color: rgb(131, 185, 37);">/</span></span><span class="n"><span
class="str" style="color: rgb(131, 185, 37);">sampleActor</span></span><span class="str"
style="color: rgb(131, 185, 37);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="str" style="color: rgb(131, 185, 37);">{</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str" style="color: rgb(131, 185, 37);">        </span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">remote</span></span><span
class="str" style="color: rgb(131, 185, 37);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="str" style="color: rgb(131, 185, 37);">=</span></span><span class="str" style="color: rgb(131, 185, 37);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp:/</span><span
class="pun" style="color: rgb(89, 80, 80);">/</span><span class="pln" style="color: rgb(89, 80, 80);">sampleActorSystem@127</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="lit" style="color: rgb(25, 95, 145);">0.0</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="lit" style="color: rgb(25, 95, 145);">1</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="lit" style="color: rgb(25, 95, 145);">2553</span><span
class="str" style="color: rgb(131, 185, 37);">"</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str" style="color: rgb(131, 185, 37);">      </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="str" style="color: rgb(131, 185, 37);">}</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str" style="color: rgb(131, 185, 37);">  </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        configuration above instructs Akka to react when an actor with path<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">/sampleActor</span></code><span
          class="Apple-converted-space">&nbsp;</span>is created, i.e. using<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">system.actorOf(Props(...),</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">"sampleActor")</span></code>.
        This specific actor will not be directly instantiated, but instead the
        remote daemon of the remote system will be asked to create the actor,
        which in this sample corresponds to<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">sampleActorSystem@127.0.0.1:2553</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        you have configured the properties above you would do the following in
        code:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">actor</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SampleActor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"sampleActor"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Pretty slick"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        actor class<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">SampleActor</span></code><span
          class="Apple-converted-space">&nbsp;</span>has to be available to the
        runtimes using it, i.e. the classloader of the actor systems has to have
        a JAR containing the class.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          order to ensure serializability of<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Props</span></code><span
            class="Apple-converted-space">&nbsp;</span>when passing constructor
          arguments to the actor being created, do not make the factory an inner
          class: this will inherently capture a reference to its enclosing
          object, which in most cases is not serializable. It is best to create
          a factory method in the companion object of the actor’s class.</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Serializability
          of all Props can be tested by setting the configuration item<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.actor.serialize-creators=on</span></code>.
          Only Props whose<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">deploy</span></code><span
            class="Apple-converted-space">&nbsp;</span>has<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LocalScope</span></code><span
            class="Apple-converted-space">&nbsp;</span>are exempt from this
          check.</p>
      </div>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          can use asterisks as wildcard matches for the actor paths, so you
          could specify:<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">/*/sampleActor</span></code><span
            class="Apple-converted-space">&nbsp;</span>and that would match all<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">sampleActor</span></code><span
            class="Apple-converted-space">&nbsp;</span>on that level in the
          hierarchy. You can also use wildcard in the last position to match all
          actors at a certain level:<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">/someParent/*</span></code>.
          Non-wildcard matches always have higher priority to match than
          wildcards, so:<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">/foo/bar</span></code><span
            class="Apple-converted-space">&nbsp;</span>is considered<span class="Apple-converted-space">&nbsp;</span><strong
            style="font-weight: bold; color: rgb(255, 255, 255);">more specific</strong><span
            class="Apple-converted-space">&nbsp;</span>than<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">/foo/*</span></code><span
            class="Apple-converted-space">&nbsp;</span>and only the highest
          priority match is used. Please note that it<span class="Apple-converted-space">&nbsp;</span><strong
            style="font-weight: bold; color: rgb(255, 255, 255);">cannot</strong><span
            class="Apple-converted-space">&nbsp;</span>be used to partially
          match section, like this:<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">/foo*/bar</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">/f*o/bar</span></code><span
            class="Apple-converted-space">&nbsp;</span>etc.</p>
      </div>
      <div class="section" id="programmatic-remote-deployment">
        <h3 id="Programmatic_Remote_Deployment" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Programmatic
          Remote Deployment</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          allow dynamically deployed systems, it is also possible to include
          deployment configuration in the<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Props</span></code><span
            class="Apple-converted-space">&nbsp;</span>which are used to create
          an actor: this information is the equivalent of a deployment section
          from the configuration file, and if both are given, the external
          configuration takes precedence.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
          these imports:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Deploy</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Address</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">AddressFromURIString</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">remote</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">RemoteScope</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">and
          a remote address like this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">one</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">AddressFromURIString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://sys@host:1234"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">two</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Address</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"sys"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"host"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1234</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// this gives the same</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">you
          can advise the system to create a child on that remote node like so:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">ref</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SampleActor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">].</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">withDeploy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Deploy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">scope</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RemoteScope</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))))</span></span></li></ol></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="section" id="lifecycle-and-failure-recovery-model" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Lifecycle_and_Failure_Recovery_Model" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Lifecycle
        and Failure Recovery Model</h2>
      <a class="reference internal image-reference" href="http://doc.akka.io/docs/akka/2.4/_images/association_lifecycle1.png"
        style="color: rgb(21, 169, 206); text-decoration: none;"><img alt="../_images/association_lifecycle1.png"
          class="align-center" src="http://doc.akka.io/docs/akka/2.4/_images/association_lifecycle1.png"
          style="max-width: 100%; height: auto; border: 0px; width: 620px;"></a>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Each
        link with a remote system can be in one of the four states as
        illustrated above. Before any communication happens with a remote system
        at a given<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Address</span></code><span
          class="Apple-converted-space">&nbsp;</span>the state of the
        association is<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Idle</span></code>. The
        first time a message is attempted to be sent to the remote system or an
        inbound connection is accepted the state of the link transitions to<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Active</span></code>denoting
        that the two systems has messages to send or receive and no failures
        were encountered so far. When a communication failure happens and the
        connection is lost between the two systems the link becomes<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Gated</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        this state the system will not attempt to connect to the remote host and
        all outbound messages will be dropped. The time while the link is in the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Gated</span></code><span
          class="Apple-converted-space">&nbsp;</span>state is controlled by the
        setting<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.remote.retry-gate-closed-for</span></code>:
        after this time elapses the link state transitions to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Idle</span></code><span
          class="Apple-converted-space">&nbsp;</span>again.<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Gate</span></code><span
          class="Apple-converted-space">&nbsp;</span>is one-sided in the sense
        that whenever a successful<em style="font-style: italic;">inbound</em><span
          class="Apple-converted-space">&nbsp;</span>connection is accepted from
        a remote system during<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Gate</span></code><span
          class="Apple-converted-space">&nbsp;</span>it automatically
        transitions to<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Active</span></code><span
          class="Apple-converted-space">&nbsp;</span>and communication resumes
        immediately.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        the face of communication failures that are unrecoverable because the
        state of the participating systems are inconsistent, the remote system
        becomes<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Quarantined</span></code>.
        Unlike<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Gate</span></code>,
        quarantining is permanent and lasts until one of the systems is
        restarted. After a restart communication can be resumed again and the
        link can become<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Active</span></code>again.</p>
    </div>
    <div class="section" id="watching-remote-actors" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Watching_Remote_Actors" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Watching
        Remote Actors</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Watching
        a remote actor is not different than watching a local actor, as
        described in<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/actors.html#deathwatch-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Lifecycle
            Monitoring aka DeathWatch</span></a>.</p>
      <div class="section" id="failure-detector">
        <h3 id="Failure_Detector" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Failure
          Detector</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Under
          the hood remote death watch uses heartbeat messages and a failure
          detector to generate<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Terminated</span></code><span
            class="Apple-converted-space">&nbsp;</span>message from network
          failures and JVM crashes, in addition to graceful termination of
          watched actor.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          heartbeat arrival times is interpreted by an implementation of<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://www.jaist.ac.jp/%7Edefago/files/pdf/IS_RR_2004_010.pdf"
            style="color: rgb(21, 169, 206); text-decoration: none;">The Phi
            Accrual Failure Detector</a>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          suspicion level of failure is given by a value called<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">phi</em>. The basic idea of the phi
          failure detector is to express the value of<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">phi</em><span class="Apple-converted-space">&nbsp;</span>on
          a scale that is dynamically adjusted to reflect current network
          conditions.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          value of<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">phi</em><span
            class="Apple-converted-space">&nbsp;</span>is calculated as:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">phi</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log10</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">F</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeSinceLastHeartbeat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">where
          F is the cumulative distribution function of a normal distribution
          with mean and standard deviation estimated from historical heartbeat
          inter-arrival times.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/remoting.html#remote-configuration-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Remote
              Configuration</span></a><span class="Apple-converted-space">&nbsp;</span>you
          can adjust the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.remote.watch-failure-detector.threshold</span></code><span
            class="Apple-converted-space">&nbsp;</span>to define when a<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">phi</em><span class="Apple-converted-space">&nbsp;</span>value
          is considered to be a failure.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
          low<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
            class="Apple-converted-space">&nbsp;</span>is prone to generate many
          false positives but ensures a quick detection in the event of a real
          crash. Conversely, a high<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
            class="Apple-converted-space">&nbsp;</span>generates fewer mistakes
          but needs more time to detect actual crashes. The default<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">threshold</span></code><span
            class="Apple-converted-space">&nbsp;</span>is 10 and is appropriate
          for most situations. However in cloud environments, such as Amazon
          EC2, the value could be increased to 12 in order to account for
          network issues that sometimes occur on such platforms.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          following chart illustrates how<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">phi</em><span class="Apple-converted-space">&nbsp;</span>increase
          with increasing time since the previous heartbeat.</p>
        <img alt="../_images/phi11.png" src="http://doc.akka.io/docs/akka/2.4/_images/phi11.png"
          style="max-width: 100%; height: auto; border: 0px;">
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Phi
          is calculated from the mean and standard deviation of historical inter
          arrival times. The previous chart is an example for standard deviation
          of 200 ms. If the heartbeats arrive with less deviation the curve
          becomes steeper, i.e. it is possible to determine failure more
          quickly. The curve looks like this for a standard deviation of 100 ms.</p>
        <img alt="../_images/phi21.png" src="http://doc.akka.io/docs/akka/2.4/_images/phi21.png"
          style="max-width: 100%; height: auto; border: 0px;">
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          be able to survive sudden abnormalities, such as garbage collection
          pauses and transient network failures the failure detector is
          configured with a margin,<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.remote.watch-failure-detector.acceptable-heartbeat-pause</span></code>.
          You may want to adjust the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/remoting.html#remote-configuration-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Remote
              Configuration</span></a><span class="Apple-converted-space">&nbsp;</span>of
          this depending on you environment. This is how the curve looks like
          for<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">acceptable-heartbeat-pause</span></code><span
            class="Apple-converted-space">&nbsp;</span>configured to 3 seconds.</p>
        <img alt="../_images/phi31.png" src="http://doc.akka.io/docs/akka/2.4/_images/phi31.png"
          style="max-width: 100%; height: auto; border: 0px;"></div>
    </div>
    <div class="section" id="serialization" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Serialization" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Serialization</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        using remoting for actors you must ensure that the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">props</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">messages</span></code><span
          class="Apple-converted-space">&nbsp;</span>used for those actors are
        serializable. Failing to do so will cause the system to behave in an
        unintended way.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        more information please see<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/serialization.html#serialization-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Serialization</span></a>.</p>
    </div>
    <div class="section" id="routers-with-remote-destinations" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Routers_with_Remote_Destinations" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Routers
        with Remote Destinations</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is absolutely feasible to combine remoting with<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/routing.html#routing-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Routing</span></a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        pool of remote deployed routees can be configured as:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">deployment </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="str" style="color: rgb(131, 185, 37);">/parent/</span><span
class="pln" style="color: rgb(89, 80, 80);">remotePool </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    router </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> round</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">robin</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">pool</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    nr</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">of</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">instances </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    target</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">nodes </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="str" style="color: rgb(131, 185, 37);">"akka.tcp://app@10.0.0.2:2552"</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="str" style="color: rgb(131, 185, 37);">"akka://app@10.0.0.3:2552"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        configuration setting will clone the actor defined in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Props</span></code><span
          class="Apple-converted-space">&nbsp;</span>of the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">remotePool</span></code><span
          class="Apple-converted-space">&nbsp;</span>10 times and deploy it
        evenly distributed across the two given target nodes.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        group of remote actors can be configured as:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">deployment </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="str" style="color: rgb(131, 185, 37);">/parent/</span><span
class="pln" style="color: rgb(89, 80, 80);">remoteGroup </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    router </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> round</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">robin</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="kwd" style="color: rgb(48, 166, 40);">group</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    routees</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">paths </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://app@10.0.0.1:2552/user/workers/w1"</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://app@10.0.0.2:2552/user/workers/w1"</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="str" style="color: rgb(131, 185, 37);">"akka.tcp://app@10.0.0.3:2552/user/workers/w1"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        configuration setting will send messages to the defined remote actor
        paths. It requires that you create the destination actors on the remote
        nodes with matching paths. That is not done by the router.</p>
    </div>
    <div class="section" id="remoting-sample" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="remote-sample-scala"></span>
      <h2 id="Remoting_Sample" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Remoting
        Sample</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        is a more extensive remote example that comes with<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.lightbend.com/platform/getstarted"
          style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Activator</a>. The tutorial named<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.lightbend.com/activator/template/akka-sample-remote-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka Remote
          Samples with Scala</a><span class="Apple-converted-space">&nbsp;</span>demonstrates
        both remote deployment and look-up of remote actors.</p>
      <div class="section" id="pluggable-transport-support">
        <h3 id="Pluggable_transport_support" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Pluggable
          transport support</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
          can be configured to use various transports to communicate with remote
          systems. The core component of this feature is the<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-meth docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.remote.transport.Transport</span></code><span
            class="Apple-converted-space">&nbsp;</span>SPI. Transport
          implementations must extend this trait. Transports can be loaded by
          setting the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.remote.enabled-transports</span></code><span
            class="Apple-converted-space">&nbsp;</span>configuration key to
          point to one or more configuration sections containing driver
          descriptions.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
          example of setting up the default Netty based SSL driver as default:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabled</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">transports</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">remote</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">netty</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">ssl</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">netty</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ssl</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">security</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">key</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">store</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"mykeystore"</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">trust</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">store</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"mytruststore"</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">store</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">password</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"changeme"</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">key</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">password</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"changeme"</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">trust</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">store</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">password</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"changeme"</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">protocol</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"TLSv1.2"</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">random</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">number</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">generator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"AES128CounterSecureRNG"</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabled</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">algorithms</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">TLS_RSA_WITH_AES_128_CBC_SHA</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
          example of setting up a custom transport implementation:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  remote </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    applied</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">transports </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="str" style="color: rgb(131, 185, 37);">"akka.remote.mytransport"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    mytransport </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># The transport-class configuration entry is required, and</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># it must contain the fully qualified name of the transport</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># implementation</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      transport</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">class</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="str" style="color: rgb(131, 185, 37);">"my.package.MyTransport"</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># It is possible to decorate Transports with additional services.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># Adapters should be registered in the "adapters" sections to</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># be able to apply them to transports</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      applied</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">adapters </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[]</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># Driver specific configuration options has to be in the same</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># section:</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      some</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">config </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> foo</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      another</span><span class="pun"
style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">config </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> bar</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="remote-events">
        <h3 id="Remote_Events" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Remote
          Events</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
          is possible to listen to events that occur in Akka Remote, and to
          subscribe/unsubscribe to these events you simply register as listener
          to the below described types in on the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem.eventStream</span></code>.</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
            subscribe to any remote event, subscribe to<span class="Apple-converted-space">&nbsp;</span><code
              class="xref py py-meth docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">RemotingLifecycleEvent</span></code>.
            To subscribe to events related only to the lifecycle of
            associations, subscribe to<span class="Apple-converted-space">&nbsp;</span><code
              class="xref py py-meth docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.remote.AssociationEvent</span></code>.</p>
        </div>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            use of term "Association" instead of "Connection" reflects that the
            remoting subsystem may use connectionless transports, but an
            association similar to transport layer connections is maintained
            between endpoints by the Akka protocol.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">By
          default an event listener is registered which logs all of the events
          described below. This default was chosen to help setting up a system,
          but it is quite common to switch this logging off once that phase of
          the project is finished.</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
            order to switch off the logging, set<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.remote.log-remote-lifecycle-events&nbsp;=&nbsp;off</span></code><span
              class="Apple-converted-space">&nbsp;</span>in your<code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code>.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          be notified when an association is over ("disconnected") listen to<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">DisassociatedEvent</span></code><span
            class="Apple-converted-space">&nbsp;</span>which holds the direction
          of the association (inbound or outbound) and the addresses of the
          involved parties.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          be notified when an association is successfully established
          ("connected") listen to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">AssociatedEvent</span></code><span
            class="Apple-converted-space">&nbsp;</span>which holds the direction
          of the association (inbound or outbound) and the addresses of the
          involved parties.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          intercept errors directly related to associations, listen to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">AssociationErrorEvent</span></code><span
            class="Apple-converted-space">&nbsp;</span>which holds the direction
          of the association (inbound or outbound), the addresses of the
          involved parties and the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Throwable</span></code><span
            class="Apple-converted-space">&nbsp;</span>cause.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          be notified when the remoting subsystem is ready to accept
          associations, listen to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">RemotingListenEvent</span></code><span
            class="Apple-converted-space">&nbsp;</span>which contains the
          addresses the remoting listens on.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          be notified when the current system is quarantined by the remote
          system, listen to<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ThisActorSystemQuarantinedEvent</span></code>,
          which includes the addresses of local and remote ActorSystems.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          be notified when the remoting subsystem has been shut down, listen to<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">RemotingShutdownEvent</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          intercept generic remoting related errors, listen to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">RemotingErrorEvent</span></code><span
            class="Apple-converted-space">&nbsp;</span>which holds the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Throwable</span></code><span
            class="Apple-converted-space">&nbsp;</span>cause.</p>
      </div>
    </div>
    <div class="section" id="remote-security" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Remote_Security" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Remote
        Security</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        provides a couple of ways to enhance security between remote nodes
        (client/server):</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Untrusted Mode</li>
        <li style="line-height: 18px;">Security Cookie Handshake</li>
      </ul>
      <div class="section" id="untrusted-mode">
        <h3 id="Untrusted_Mode" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Untrusted
          Mode</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
          soon as an actor system can connect to another remotely, it may in
          principle send any possible message to any actor contained within that
          remote system. One example may be sending a<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PoisonPill</span></code><span
            class="Apple-converted-space">&nbsp;</span>to the system guardian,
          shutting that system down. This is not always desired, and it can be
          disabled with the following setting:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">untrusted</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mode</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">on</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          disallows sending of system messages (actor life-cycle commands,
          DeathWatch, etc.) and any message extending<code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PossiblyHarmful</span></code><span
            class="Apple-converted-space">&nbsp;</span>to the system on which
          this flag is set. Should a client send them nonetheless they are
          dropped and logged (at DEBUG level in order to reduce the
          possibilities for a denial of service attack).<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PossiblyHarmful</span></code><span
            class="Apple-converted-space">&nbsp;</span>covers the predefined
          messages like<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PoisonPill</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Kill</span></code>,
          but it can also be added as a marker trait to user-defined messages.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Messages
          sent with actor selection are by default discarded in untrusted mode,
          but permission to receive actor selection messages can be granted to
          specific actors defined in configuration:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">remote</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">trusted</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">selection</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">paths </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="str" style="color: rgb(131, 185, 37);">"/user/receptionist"</span><span class="pun"
style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="str" style="color: rgb(131, 185, 37);">"/user/namingService"</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          actual message must still not be of type<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">PossiblyHarmful</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          summary, the following operations are ignored by a system configured
          in untrusted mode when incoming via the remoting layer:</p>
        <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
          <li style="line-height: 18px;">remote deployment (which also means no
            remote supervision)</li>
          <li style="line-height: 18px;">remote DeathWatch</li>
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">system.stop()</span></code>,<span
              class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">PoisonPill</span></code>,<span
              class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Kill</span></code></li>
          <li style="line-height: 18px;">sending any message which extends from
            the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">PossiblyHarmful</span></code><span
              class="Apple-converted-space">&nbsp;</span>marker interface, which
            includes<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Terminated</span></code></li>
          <li style="line-height: 18px;">messages sent with actor selection,
            unless destination defined in<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">trusted-selection-paths</span></code>.</li>
        </ul>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Enabling
            the untrusted mode does not remove the capability of the client to
            freely choose the target of its message sends, which means that
            messages not prohibited by the above rules can be sent to any actor
            in the remote system. It is good practice for a client-facing system
            to only contain a well-defined set of entry point actors, which then
            forward requests (possibly after performing validation) to another
            actor system containing the actual worker actors. If messaging
            between these two server-side systems is done using local<span class="Apple-converted-space">&nbsp;</span><code
              class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code><span
              class="Apple-converted-space">&nbsp;</span>(they can be exchanged
            safely between actor systems within the same JVM), you can restrict
            the messages on this interface by marking them<span class="Apple-converted-space">&nbsp;</span><code
              class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">PossiblyHarmful</span></code><span
              class="Apple-converted-space">&nbsp;</span>so that a client cannot
            forge them.</p>
        </div>
      </div>
      <div class="section" id="ssl">
        <h3 id="SSL" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">SSL</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">SSL
          can be used as the remote transport by adding<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.remote.netty.ssl</span></code><span
            class="Apple-converted-space">&nbsp;</span>to the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">enabled-transport</span></code>configuration
          section. See a description of the settings in the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/remoting.html#remote-configuration-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Remote
              Configuration</span></a><span class="Apple-converted-space">&nbsp;</span>section.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          SSL support is implemented with Java Secure Socket Extension, please
          consult the official<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html"
            style="color: rgb(21, 169, 206); text-decoration: none;">Java Secure
            Socket Extension documentation</a><span class="Apple-converted-space">&nbsp;</span>and
          related resources for troubleshooting.</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
            using SHA1PRNG on Linux it's recommended specify<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">-Djava.security.egd=file:/dev/./urandom</span></code><span
              class="Apple-converted-space">&nbsp;</span>as argument to the JVM
            to prevent blocking. It is NOT as secure because it reuses the seed.
            Use '/dev/./urandom', not '/dev/urandom' as that doesn't work
            according to<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
              href="http://bugs.sun.com/view_bug.do?bug_id=6202721" style="color: rgb(11, 85, 103); text-decoration: none;">Bug
              ID: 6202721</a>.</p>
        </div>
      </div>
    </div>
    <div class="section" id="remote-configuration" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="remote-configuration-scala"></span>
      <h2 id="Remote_Configuration" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Remote
        Configuration</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are lots of configuration properties that are related to remoting in
        Akka. We refer to the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/general/configuration.html#config-akka-remote"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">reference
            configuration</span></a><span class="Apple-converted-space">&nbsp;</span>for
        more information.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Setting
          properties like the listening IP and port number programmatically is
          best done by using something like the following:</p>
        <div class="last highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ConfigFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parseString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.remote.netty.tcp.hostname=\"1.2.3.4\""</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">withFallback</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ConfigFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">load</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">());</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="akka-behind-nat-or-in-a-docker-container"><span id="remote-configuration-nat"></span>
        <h3 id="Akka_behind_NAT_or_in_a_Docker_container" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Akka
          behind NAT or in a Docker container</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          setups involving Network Address Translation (NAT), Load Balancers or
          Docker containers the hostname and port pair that Akka binds to will
          be different than the "logical" host name and port pair that is used
          to connect to the system from the outside. This requires special
          configuration that sets both the logical and the bind pairs for
          remoting.</p>
        <div class="highlight-ruby">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="p"><span class="pun"
style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="p"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">netty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">tcp</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="p"><span class="pun"
style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">hostname</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">my</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">domain</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">com</span></span><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);"># external (logical) hostname</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">8000</span></span><span
class="pln" style="color: rgb(89, 80, 80);">                   </span><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"># external (logical) port</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">bind</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">hostname</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">local</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);"># internal (bind) hostname</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">bind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2552</span></span><span
class="pln" style="color: rgb(89, 80, 80);">              </span><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"># internal (bind) port</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="p"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="p"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="p"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Serialization</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      has a built-in Extension for serialization, and it is both possible to use
      the built-in serializers and to write your own.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      serialization mechanism is both used by Akka internally to serialize
      messages, and available for ad-hoc serialization of whatever you might
      need it for.</p>
    <div class="section" id="usage" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Usage" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Usage</h2>
      <div class="section" id="configuration">
        <h3 id="Configuration" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Configuration</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          Akka to know which<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Serializer</span></code><span
            class="Apple-converted-space">&nbsp;</span>to use for what, you need
          edit your<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/general/configuration.html#configuration"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a>,
          in the "akka.actor.serializers"-section you bind names to
          implementations of the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.serialization.Serializer</span></code><span
            class="Apple-converted-space">&nbsp;</span>you wish to use, like
          this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">actor</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">serializers</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">java</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"akka.serialization.JavaSerializer"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">proto</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.remote.serialization.ProtobufSerializer"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">myown</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"docs.serialization.MyOwnSerializer"</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">After
          you've bound names to different implementations of<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Serializer</span></code><span
            class="Apple-converted-space">&nbsp;</span>you need to wire which
          classes should be serialized using which<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Serializer</span></code>,
          this is done in the "akka.actor.serialization-bindings"-section:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">actor</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">serializers</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">java</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"akka.serialization.JavaSerializer"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">proto</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.remote.serialization.ProtobufSerializer"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">myown</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"docs.serialization.MyOwnSerializer"</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serialization</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bindings</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"java.lang.String"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">java</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"docs.serialization.Customer"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">java</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"com.google.protobuf.Message"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">proto</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"docs.serialization.MyOwnSerializable"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">myown</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"java.lang.Boolean"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">myown</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          only need to specify the name of an interface or abstract base class
          of the messages. In case of ambiguity, i.e. the message implements
          several of the configured classes, the most specific configured class
          will be used, i.e. the one of which all other candidates are
          superclasses. If this condition cannot be met, because e.g.<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">java.io.Serializable</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">MyOwnSerializable</span></code><span
            class="Apple-converted-space">&nbsp;</span>both apply and neither is
          a subtype of the other, a warning will be issued</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
            your messages are contained inside of a Scala object, then in order
            to reference those messages, you will need use the fully qualified
            Java class name. For a message named<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Message</span></code><span
              class="Apple-converted-space">&nbsp;</span>contained inside the
            object named<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Wrapper</span></code><span
              class="Apple-converted-space">&nbsp;</span>you would need to
            reference it as<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Wrapper$Message</span></code><span
              class="Apple-converted-space">&nbsp;</span>instead of<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Wrapper.Message</span></code>.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
          provides serializers for<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">java.io.Serializable</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://code.google.com/p/protobuf/"
            style="color: rgb(21, 169, 206); text-decoration: none;">protobuf</a><span
            class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">com.google.protobuf.GeneratedMessage</span></code><span
            class="Apple-converted-space">&nbsp;</span>by default (the latter
          only if depending on the akka-remote module), so normally you don't
          need to add configuration for that; since<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">com.google.protobuf.GeneratedMessage</span></code><span
            class="Apple-converted-space">&nbsp;</span>implements<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">java.io.Serializable</span></code>,
          protobuf messages will always be serialized using the protobuf
          protocol unless specifically overridden. In order to disable a default
          serializer, map its marker type to “none”:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serialization</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindings</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"java.io.Serializable"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">none</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="verification">
        <h3 id="Verification" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Verification</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you want to verify that your messages are serializable you can enable
          the following config option:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">actor</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">serialize</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">messages</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">on</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">We
            only recommend using the config option turned on when you're running
            tests. It is completely pointless to have it turned on in other
            scenarios.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you want to verify that your<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Props</span></code><span
            class="Apple-converted-space">&nbsp;</span>are serializable you can
          enable the following config option:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">actor</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">serialize</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">creators</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">on</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">We
            only recommend using the config option turned on when you're running
            tests. It is completely pointless to have it turned on in other
            scenarios.</p>
        </div>
      </div>
      <div class="section" id="programmatic">
        <h3 id="Programmatic" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Programmatic</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you want to programmatically serialize/deserialize using Akka
          Serialization, here's some examples:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">serialization</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">com</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">typesafe</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">config</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ConfigFactory</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"example"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Get the Serialization Extension</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serialization</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SerializationExtension</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Have something to serialize</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">original</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"woohoo"</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Find the Serializer for it</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serialization</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">findSerializerFor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">original</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Turn it into bytes</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">original</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Turn it back into an object</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">back</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">manifest</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Voilá!</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">back</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">should</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">be</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">original</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          more information, have a look at the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ScalaDoc</span></code><span
            class="Apple-converted-space">&nbsp;</span>for<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.serialization._</span></code></p>
      </div>
    </div>
    <div class="section" id="customization" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Customization" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Customization</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">So,
        lets say that you want to create your own<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Serializer</span></code>,
        you saw the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">docs.serialization.MyOwnSerializer</span></code><span
          class="Apple-converted-space">&nbsp;</span>in the config example
        above?</p>
      <div class="section" id="creating-new-serializers">
        <h3 id="Creating_new_Serializers" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Creating
          new Serializers</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">First
          you need to create a class definition of your<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Serializer</span></code><span
            class="Apple-converted-space">&nbsp;</span>like so:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">serialization</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">com</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">typesafe</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">config</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ConfigFactory</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyOwnSerializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Serializer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// This is whether "fromBinary" requires a "clazz" or not</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">includeManifest</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Boolean</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Pick a unique identifier for your Serializer,</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// you've got a couple of billions to choose from,</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// 0 - 16 is reserved by Akka itself</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">identifier</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1234567</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// "toBinary" serializes the given object to an Array of Bytes</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">toBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Put the code that serializes the object here</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ... ...</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// "fromBinary" deserializes the given array,</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// using the type hint (if any, see "includeManifest" above)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">clazz</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Class</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Put your code that deserializes here</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ... ...</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          manifest is a type hint so that the same serializer can be used for
          different classes. The manifest parameter in<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">fromBinary</span></code><span
            class="Apple-converted-space">&nbsp;</span>is the class of the
          object that was serialized. In<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">fromBinary</span></code><span
            class="Apple-converted-space">&nbsp;</span>you can match on the
          class and deserialize the bytes to different objects.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Then
          you only need to fill in the blanks, bind it to a name in your<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/general/configuration.html#configuration"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
            class="Apple-converted-space">&nbsp;</span>and then list which
          classes that should be serialized using it.</p>
      </div>
      <div class="section" id="serializer-with-string-manifest"><span id="string-manifest-serializer-scala"></span>
        <h3 id="Serializer_with_String_Manifest" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Serializer
          with String Manifest</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Serializer</span></code><span
            class="Apple-converted-space">&nbsp;</span>illustrated above
          supports a class based manifest (type hint). For serialization of data
          that need to evolve over time the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">SerializerWithStringManifest</span></code><span
            class="Apple-converted-space">&nbsp;</span>is recommended instead of<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Serializer</span></code><span
            class="Apple-converted-space">&nbsp;</span>because the manifest
          (type hint) is a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">String</span></code><span
            class="Apple-converted-space">&nbsp;</span>instead of a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Class</span></code>.
          That means that the class can be moved/removed and the serializer can
          still deserialize old data by matching on the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">String</span></code>.
          This is especially useful for<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Persistence</span></a>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          manifest string can also encode a version number that can be used in<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">fromBinary</span></code><span
            class="Apple-converted-space">&nbsp;</span>to deserialize in
          different ways to migrate old data to new domain objects.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          the data was originally serialized with<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Serializer</span></code><span
            class="Apple-converted-space">&nbsp;</span>and in a later version of
          the system you change to<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">SerializerWithStringManifest</span></code><span
            class="Apple-converted-space">&nbsp;</span>the manifest string will
          be the full class name if you used<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">includeManifest=true</span></code>,
          otherwise it will be the empty string.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          is how a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">SerializerWithStringManifest</span></code><span
            class="Apple-converted-space">&nbsp;</span>looks like:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyOwnSerializer2</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SerializerWithStringManifest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">CustomerManifest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"customer"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">UserManifest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"user"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">UTF_8</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StandardCharsets</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">UTF_8</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Pick a unique identifier for your Serializer,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// you've got a couple of billions to choose from,</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// 0 - 16 is reserved by Akka itself</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">identifier</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1234567</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// The manifest (type hint) that will be provided in the fromBinary method</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Use `""` if manifest is not needed.</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">manifest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">obj</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">match</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Customer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CustomerManifest</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">User</span></span><span class="pln"
style="color: rgb(89, 80, 80);">     </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UserManifest</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// "toBinary" serializes the given object to an Array of Bytes</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">toBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Put the real code that serializes the object here</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">match</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Customer</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">UTF_8</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">User</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">name</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);">     </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">name</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">getBytes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">UTF_8</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// "fromBinary" deserializes the given array,</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// using the type hint</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromBinary</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Byte</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">manifest</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">AnyRef</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Put the real code that deserializes here</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">manifest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">match</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CustomerManifest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Customer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">UTF_8</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UserManifest</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">User</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">UTF_8</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          must also bind it to a name in your<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/general/configuration.html#configuration"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
            class="Apple-converted-space">&nbsp;</span>and then list which
          classes that should be serialized using it.</p>
      </div>
      <div class="section" id="serializing-actorrefs">
        <h3 id="Serializing_ActorRefs" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Serializing
          ActorRefs</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
          ActorRefs are serializable using JavaSerializer, but in case you are
          writing your own serializer, you might want to know how to serialize
          and deserialize them properly. In the general case, the local address
          to be used depends on the type of remote address which shall be the
          recipient of the serialized information. Use<code class="xref py py-meth docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Serialization.serializedActorPath(actorRef)</span></code><span
            class="Apple-converted-space">&nbsp;</span>like this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">serialization</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">com</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">typesafe</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">config</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ConfigFactory</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Serialize</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// (beneath toBinary)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">identifier</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Serialization</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serializedActorPath</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">theActorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Then just serialize the identifier however you like</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Deserialize</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// (beneath fromBinary)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">deserializedActorRef</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extendedSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">provider</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">resolveActorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">identifier</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Then just use the ActorRef</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          assumes that serialization happens in the context of sending a message
          through the remote transport. There are other uses of serialization,
          though, e.g. storing actor references outside of an actor application
          (database, etc.). In this case, it is important to keep in mind that
          the address part of an actor’s path determines how that actor is
          communicated with. Storing a local actor path might be the right
          choice if the retrieval happens in the same logical context, but it is
          not enough when deserializing it on a different network host: for that
          it would need to include the system’s remote transport address. An
          actor system is not limited to having just one remote transport per
          se, which makes this question a bit more interesting. To find out the
          appropriate address to use when sending to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">remoteAddr</span></code><span
            class="Apple-converted-space">&nbsp;</span>you can use<code class="xref py py-meth docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorRefProvider.getExternalAddressFor(remoteAddr)</span></code><span
            class="Apple-converted-space">&nbsp;</span>like this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ExternalAddress</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ExtensionKey</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ExternalAddressExt</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ExternalAddressExt</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ExtendedActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Extension</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">addressFor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remoteAddr</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Address</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Address</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">provider</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getExternalAddressFor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remoteAddr</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">getOrElse</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">throw</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UnsupportedOperationException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"cannot send to "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remoteAddr</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serializeTo</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">ref</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Address</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">ref</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toSerializationFormatWithAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ExternalAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extendedSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">addressFor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li></ol></pre>
          </div>
        </div>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ActorPath.toSerializationFormatWithAddress</span></code><span
              class="Apple-converted-space">&nbsp;</span>differs from<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">toString</span></code><span
              class="Apple-converted-space">&nbsp;</span>if the address does not
            already have<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">host</span></code><span
              class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">port</span></code><span
              class="Apple-converted-space">&nbsp;</span>components, i.e. it
            only inserts address information for local addresses.</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">toSerializationFormatWithAddress</span></code><span
              class="Apple-converted-space">&nbsp;</span>also adds the unique id
            of the actor, which will change when the actor is stopped and then
            created again with the same name. Sending messages to a reference
            pointing the old actor will not be delivered to the new actor. If
            you don't want this behavior, e.g. in case of long term storage of
            the reference, you can use<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">toStringWithAddress</span></code>,
            which doesn't include the unique id.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          requires that you know at least which type of address will be
          supported by the system which will deserialize the resulting actor
          reference; if you have no concrete address handy you can create a
          dummy one for the right protocol using<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Address(protocol,&nbsp;"",&nbsp;"",&nbsp;0)</span></code><span
            class="Apple-converted-space">&nbsp;</span>(assuming that the actual
          transport used is as lenient as Akka’s RemoteActorRefProvider).</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
          is also a default remote address which is the one used by cluster
          support (and typical systems have just this one); you can get it like
          this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ExternalAddress</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ExtensionKey</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ExternalAddressExt</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ExternalAddressExt</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ExtendedActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Extension</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">addressForAkka</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Address</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">provider</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getDefaultAddress</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serializeAkkaDefault</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">ref</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">ref</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toSerializationFormatWithAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ExternalAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">theActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">addressForAkka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="deep-serialization-of-actors">
        <h3 id="Deep_serialization_of_Actors" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Deep
          serialization of Actors</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          recommended approach to do deep serialization of internal actor state
          is to use Akka<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/persistence.html#persistence-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Persistence</span></a>.</p>
      </div>
    </div>
    <div class="section" id="a-word-about-java-serialization" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="A_Word_About_Java_Serialization" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">A
        Word About Java Serialization</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        using Java serialization without employing the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">JavaSerializer</span></code><span
          class="Apple-converted-space">&nbsp;</span>for the task, you must make
        sure to supply a valid<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ExtendedActorSystem</span></code><span
          class="Apple-converted-space">&nbsp;</span>in the dynamic variable<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">JavaSerializer.currentSystem</span></code>.
        This is used when reading in the representation of an<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code><span
          class="Apple-converted-space">&nbsp;</span>for turning the string
        representation into a real reference.<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DynamicVariable</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a thread-local variable,
        so be sure to have it set while deserializing anything which might
        contain actor references.</p>
    </div>
    <div class="section" id="external-akka-serializers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="External_Akka_Serializers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">External
        Akka Serializers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><a
          class="reference external" href="https://github.com/romix/akka-protostuff-serialization"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka-protostuff
          by Roman Levenstein</a></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><a
          class="reference external" href="https://github.com/romix/akka-quickser-serialization"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka-quickser
          by Roman Levenstein</a></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><a
          class="reference external" href="https://github.com/romix/akka-kryo-serialization"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka-kryo by
          Roman Levenstein</a></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><a
          class="reference external" href="https://github.com/twitter/chill" style="color: rgb(21, 169, 206); text-decoration: none;">Twitter
          Chill Scala extensions for Kryo (based on Akka Version 2.3.x but due
          to backwards compatibility of the Serializer Interface this extension
          also works with 2.4.x)</a></p>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">I/O</h1>
    <div class="section" id="introduction" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Introduction" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Introduction</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.io</span></code><span
          class="Apple-converted-space">&nbsp;</span>package has been developed
        in collaboration between the Akka and<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://spray.io/" style="color: rgb(21, 169, 206); text-decoration: none;">spray.io</a><span
          class="Apple-converted-space">&nbsp;</span>teams. Its design combines
        experiences from the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">spray-io</span></code><span
          class="Apple-converted-space">&nbsp;</span>module with improvements
        that were jointly developed for more general consumption as an
        actor-based service.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        guiding design goal for this I/O implementation was to reach extreme
        scalability, make no compromises in providing an API correctly matching
        the underlying transport mechanism and to be fully event-driven,
        non-blocking and asynchronous. The API is meant to be a solid foundation
        for the implementation of network protocols and building higher
        abstractions; it is not meant to be a full-service high-level NIO
        wrapper for end users.</p>
    </div>
    <div class="section" id="terminology-concepts" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Terminology__Concepts" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Terminology,
        Concepts</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        I/O API is completely actor based, meaning that all operations are
        implemented with message passing instead of direct method calls. Every
        I/O driver (TCP, UDP) has a special actor, called a<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">manager</em><span class="Apple-converted-space">&nbsp;</span>that
        serves as an entry point for the API. I/O is broken into several
        drivers. The manager for a particular driver is accessible through the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">IO</span></code><span class="Apple-converted-space">&nbsp;</span>entry
        point. For example the following code looks up the TCP manager and
        returns its<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// implicitly used by IO(Tcp)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">manager</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        manager receives I/O command messages and instantiates worker actors in
        response. The worker actors present themselves to the API user in the
        reply to the command that was sent. For example after a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connect</span></code><span
          class="Apple-converted-space">&nbsp;</span>command sent to the TCP
        manager the manager creates an actor representing the TCP connection.
        All operations related to the given TCP connections can be invoked by
        sending messages to the connection actor which announces itself by
        sending a<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connected</span></code><span
          class="Apple-converted-space">&nbsp;</span>message.</p>
      <div class="section" id="deathwatch-and-resource-management">
        <h3 id="DeathWatch_and_Resource_Management" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">DeathWatch
          and Resource Management</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">I/O
          worker actors receive commands and also send out events. They usually
          need a user-side counterpart actor listening for these events (such
          events could be inbound connections, incoming bytes or
          acknowledgements for writes). These worker actors<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">watch</em><span class="Apple-converted-space">&nbsp;</span>their
          listener counterparts. If the listener stops then the worker will
          automatically release any resources that it holds. This design makes
          the API more robust against resource leaks.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Thanks
          to the completely actor based approach of the I/O API the opposite
          direction works as well: a user actor responsible for handling a
          connection can watch the connection actor to be notified if it
          unexpectedly terminates.</p>
      </div>
      <div class="section" id="write-models-ack-nack">
        <h3 id="Write_models__Ack__Nack_" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Write
          models (Ack, Nack)</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">I/O
          devices have a maximum throughput which limits the frequency and size
          of writes. When an application tries to push more data than a device
          can handle, the driver has to buffer bytes until the device is able to
          write them. With buffering it is possible to handle short bursts of
          intensive writes --- but no buffer is infinite. "Flow control" is
          needed to avoid overwhelming device buffers.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
          supports two types of flow control:</p>
        <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
          <li style="line-height: 18px;"><em style="font-style: italic;">Ack-based</em>,
            where the driver notifies the writer when writes have succeeded.</li>
          <li style="line-height: 18px;"><em style="font-style: italic;">Nack-based</em>,
            where the driver notifies the writer when writes have failed.</li>
        </ul>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Each
          of these models is available in both the TCP and the UDP
          implementations of Akka I/O.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Individual
          writes can be acknowledged by providing an ack object in the write
          message (<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Write</span></code><span
            class="Apple-converted-space">&nbsp;</span>in the case of TCP and<code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Send</span></code><span
            class="Apple-converted-space">&nbsp;</span>for UDP). When the write
          is complete the worker will send the ack object to the writing actor.
          This can be used to implement<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">ack-based</em><span class="Apple-converted-space">&nbsp;</span>flow
          control; sending new data only when old data has been acknowledged.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          a write (or any other command) fails, the driver notifies the actor
          that sent the command with a special message (<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CommandFailed</span></code><span
            class="Apple-converted-space">&nbsp;</span>in the case of UDP and
          TCP). This message will also notify the writer of a failed write,
          serving as a nack for that write. Please note, that in a nack-based
          flow-control setting the writer has to be prepared for the fact that
          the failed write might not be the most recent write it sent. For
          example, the failure notification for a write<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">W1</span></code><span
            class="Apple-converted-space">&nbsp;</span>might arrive after
          additional write commands<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">W2</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">W3</span></code><span
            class="Apple-converted-space">&nbsp;</span>have been sent. If the
          writer wants to resend any nacked messages it may need to keep a
          buffer of pending messages.</p>
        <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
            acknowledged write does not mean acknowledged delivery or storage;
            receiving an ack for a write simply signals that the I/O driver has
            successfully processed the write. The Ack/Nack protocol described
            here is a means of flow control not error handling. In other words,
            data may still be lost, even if every write is acknowledged.</p>
        </div>
      </div>
      <div class="section" id="bytestring"><span id="bytestring-scala"></span>
        <h3 id="ByteString" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">ByteString</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          maintain isolation, actors should communicate with immutable objects
          only.<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>is an immutable container
          for bytes. It is used by Akka's I/O system as an efficient, immutable
          alternative the traditional byte containers used for I/O on the JVM,
          such as<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Array[Byte]</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteBuffer</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>is a<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://en.wikipedia.org/wiki/Rope_%28computer_science%29"
            style="color: rgb(21, 169, 206); text-decoration: none;">rope-like</a><span
            class="Apple-converted-space">&nbsp;</span>data structure that is
          immutable and provides fast concatenation and slicing operations
          (perfect for I/O). When two<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code>s
          are concatenated together they are both stored within the resulting<code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>instead of copying both
          to a new<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Array</span></code>.
          Operations such as<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">drop</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">take</span></code><span
            class="Apple-converted-space">&nbsp;</span>return<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code>s
          that still reference the original<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Array</span></code>,
          but just change the offset and length that is visible. Great care has
          also been taken to make sure that the internal<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Array</span></code><span
            class="Apple-converted-space">&nbsp;</span>cannot be modified.
          Whenever a potentially unsafe<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Array</span></code><span
            class="Apple-converted-space">&nbsp;</span>is used to create a new<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>a defensive copy is
          created. If you require a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>that only blocks as much
          memory as necessary for it's content, use the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">compact</span></code><span
            class="Apple-converted-space">&nbsp;</span>method to get a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CompactByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>instance. If the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code>represented
          only a slice of the original array, this will result in copying all
          bytes in that slice.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>inherits all methods from<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">IndexedSeq</span></code>,
          and it also has some new ones. For more information, look up the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.util.ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>class and it's companion
          object in the ScalaDoc.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>also comes with its own
          optimized builder and iterator classes<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteStringBuilder</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteIterator</span></code><span
            class="Apple-converted-space">&nbsp;</span>which provide extra
          features in addition to those of normal builders and iterators.</p>
        <div class="section" id="compatibility-with-java-io">
          <h4 id="Compatibility_with_java_io" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">Compatibility
            with java.io</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ByteStringBuilder</span></code><span
              class="Apple-converted-space">&nbsp;</span>can be wrapped in a<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">java.io.OutputStream</span></code><span
              class="Apple-converted-space">&nbsp;</span>via the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">asOutputStream</span></code><span
              class="Apple-converted-space">&nbsp;</span>method. Likewise,<code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ByteIterator</span></code><span
              class="Apple-converted-space">&nbsp;</span>can be wrapped in a<span
              class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">java.io.InputStream</span></code><span
              class="Apple-converted-space">&nbsp;</span>via<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">asInputStream</span></code>.
            Using these,<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">akka.io</span></code>applications
            can integrate legacy code based on<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">java.io</span></code><span
              class="Apple-converted-space">&nbsp;</span>streams.</p>
        </div>
      </div>
    </div>
    <div class="section" id="architecture-in-depth" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Architecture_in-depth" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Architecture
        in-depth</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        further details on the design and internal architecture see<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/dev/io-layer.html#io-layer"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">I/O
            Layer Design</span></a>.</p>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Using
      TCP</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      code snippets through-out this section assume the following imports:</p>
    <div class="highlight-scala" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <div class="highlight" style="background: rgb(240, 240, 240);">
        <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">net</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span></li></ol></pre>
      </div>
    </div>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">All
      of the Akka I/O APIs are accessed through manager objects. When using an
      I/O API, the first step is to acquire a reference to the appropriate
      manager. The code below shows how to acquire a reference to the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Tcp</span></code><span class="Apple-converted-space">&nbsp;</span>manager.</p>
    <div class="highlight-scala" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <div class="highlight" style="background: rgb(240, 240, 240);">
        <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// implicitly used by IO(Tcp)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">manager</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
      </div>
    </div>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      manager is an actor that handles the underlying low level I/O resources
      (selectors, channels) and instantiates workers for specific tasks, such as
      listening to incoming connections.</p>
    <div class="section" id="connecting" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Connecting" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Connecting</h2>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Client</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">replies</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Client</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">replies</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Client</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">listener</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Connect</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CommandFailed</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Connect</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">listener</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"connect failed"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">stop</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Connected</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">local</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">listener</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Register</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">become</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CommandFailed</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">w</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// O/S buffer was full</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">listener</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"write failed"</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">listener</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"close"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Close</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ConnectionClosed</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">listener</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"connection closed"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        first step of connecting to a remote address is sending a<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connect</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to the TCP manager;
        in addition to the simplest form shown above there is also the
        possibility to specify a local<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">InetSocketAddress</span></code><span
          class="Apple-converted-space">&nbsp;</span>to bind to and a list of
        socket options to apply.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          SO_NODELAY (TCP_NODELAY on Windows) socket option defaults to true in
          Akka, independently of the OS default settings. This setting disables
          Nagle's algorithm, considerably improving latency for most
          applications. This setting could be overridden by passing<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">SO.TcpNoDelay(false)</span></code><span
            class="Apple-converted-space">&nbsp;</span>in the list of socket
          options of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Connect</span></code>message.</p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        TCP manager will then reply either with a<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CommandFailed</span></code><span
          class="Apple-converted-space">&nbsp;</span>or it will spawn an
        internal actor representing the new connection. This new actor will then
        send a<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connected</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to the original
        sender of the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connect</span></code><span
          class="Apple-converted-space">&nbsp;</span>message.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        order to activate the new connection a<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Register</span></code><span
          class="Apple-converted-space">&nbsp;</span>message must be sent to the
        connection actor, informing that one about who shall receive data from
        the socket. Before this step is done the connection cannot be used, and
        there is an internal timeout after which the connection actor will shut
        itself down if no<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Register</span></code><span
          class="Apple-converted-space">&nbsp;</span>message is received.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        connection actor watches the registered handler and closes the
        connection when that one terminates, thereby cleaning up all internal
        resources associated with that connection.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        actor in the example above uses<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-meth docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">become</span></code><span
          class="Apple-converted-space">&nbsp;</span>to switch from unconnected
        to connected operation, demonstrating the commands and events which are
        observed in that state. For a discussion on<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CommandFailed</span></code><span
          class="Apple-converted-space">&nbsp;</span>see<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/io-tcp.html#throttling-reads-and-writes"
          style="color: rgb(21, 169, 206); text-decoration: none;">Throttling
          Reads and Writes</a><span class="Apple-converted-space">&nbsp;</span>below.<span
          class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ConnectionClosed</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a trait, which marks the
        different connection close events. The last line handles all connection
        close events in the same way. It is possible to listen for more
        fine-grained connection close events, see<a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/io-tcp.html#closing-connections"
          style="color: rgb(21, 169, 206); text-decoration: none;">Closing
          Connections</a><span class="Apple-converted-space">&nbsp;</span>below.</p>
    </div>
    <div class="section" id="accepting-connections" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Accepting_connections" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Accepting
        connections</h2>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Server</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Bind</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">0</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Bound</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">localAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// do some logging or setup ...</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CommandFailed</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Bind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">stop</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">c</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Connected</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">local</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handler</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SimplisticHandler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Register</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        create a TCP server and listen for inbound connections, a<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Bind</span></code><span
          class="Apple-converted-space">&nbsp;</span>command has to be sent to
        the TCP manager. This will instruct the TCP manager to listen for TCP
        connections on a particular<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">InetSocketAddress</span></code>;
        the port may be specified as<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">0</span></code><span class="Apple-converted-space">&nbsp;</span>in
        order to bind to a random port.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        actor sending the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Bind</span></code><span
          class="Apple-converted-space">&nbsp;</span>message will receive a<span
          class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Bound</span></code><span
          class="Apple-converted-space">&nbsp;</span>message signaling that the
        server is ready to accept incoming connections; this message also
        contains the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">InetSocketAddress</span></code><span
          class="Apple-converted-space">&nbsp;</span>to which the socket was
        actually bound (i.e. resolved IP address and correct port number).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">From
        this point forward the process of handling connections is the same as
        for outgoing connections. The example demonstrates that handling the
        reads from a certain connection can be delegated to another actor by
        naming it as the handler when sending the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Register</span></code><span
          class="Apple-converted-space">&nbsp;</span>message. Writes can be sent
        from any actor in the system to the connection actor (i.e. the actor
        which sent the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connected</span></code><span
          class="Apple-converted-space">&nbsp;</span>message). The simplistic
        handler is defined as:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SimplisticHandler</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PeerClosed</span></span><span class="pln"
style="color: rgb(89, 80, 80);">     </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">stop</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        a more complete sample which also takes into account the possibility of
        failures when sending please see<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/io-tcp.html#throttling-reads-and-writes"
          style="color: rgb(21, 169, 206); text-decoration: none;">Throttling
          Reads and Writes</a><span class="Apple-converted-space">&nbsp;</span>below.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        only difference to outgoing connections is that the internal actor
        managing the listen port—the sender of the<code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Bound</span></code><span
          class="Apple-converted-space">&nbsp;</span>message—watches the actor
        which was named as the recipient for<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connected</span></code><span
          class="Apple-converted-space">&nbsp;</span>messages in the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Bind</span></code>message.
        When that actor terminates the listen port will be closed and all
        resources associated with it will be released; existing connections will
        not be terminated at this point.</p>
    </div>
    <div class="section" id="closing-connections" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Closing_connections" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Closing
        connections</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        connection can be closed by sending one of the commands<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Close</span></code>,<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ConfirmedClose</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Abort</span></code><span
          class="Apple-converted-space">&nbsp;</span>to the connection actor.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Close</span></code><span
          class="Apple-converted-space">&nbsp;</span>will close the connection
        by sending a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">FIN</span></code><span
          class="Apple-converted-space">&nbsp;</span>message, but without
        waiting for confirmation from the remote endpoint. Pending writes will
        be flushed. If the close is successful, the listener will be notified
        with<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Closed</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ConfirmedClose</span></code><span
          class="Apple-converted-space">&nbsp;</span>will close the sending
        direction of the connection by sending a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">FIN</span></code><span
          class="Apple-converted-space">&nbsp;</span>message, but data will
        continue to be received until the remote endpoint closes the connection,
        too. Pending writes will be flushed. If the close is successful, the
        listener will be notified with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ConfirmedClosed</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Abort</span></code><span
          class="Apple-converted-space">&nbsp;</span>will immediately terminate
        the connection by sending a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">RST</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to the remote
        endpoint. Pending writes will be not flushed. If the close is
        successful, the listener will be notified with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Aborted</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">PeerClosed</span></code><span
          class="Apple-converted-space">&nbsp;</span>will be sent to the
        listener if the connection has been closed by the remote endpoint. Per
        default, the connection will then automatically be closed from this
        endpoint as well. To support half-closed connections set the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">keepOpenOnPeerClosed</span></code><span
          class="Apple-converted-space">&nbsp;</span>member of the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Register</span></code><span
          class="Apple-converted-space">&nbsp;</span>message to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">true</span></code><span
          class="Apple-converted-space">&nbsp;</span>in which case the
        connection stays open until it receives one of the above close commands.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ErrorClosed</span></code><span
          class="Apple-converted-space">&nbsp;</span>will be sent to the
        listener whenever an error happened that forced the connection to be
        closed.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
        close notifications are sub-types of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ConnectionClosed</span></code><span
          class="Apple-converted-space">&nbsp;</span>so listeners who do not
        need fine-grained close events may handle all close events in the same
        way.</p>
    </div>
    <div class="section" id="writing-to-a-connection" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Writing_to_a_connection" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Writing
        to a connection</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        a connection has been established data can be sent to it from any actor
        in the form of a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Tcp.WriteCommand</span></code>.<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Tcp.WriteCommand</span></code><span
          class="Apple-converted-space">&nbsp;</span>is an abstract class with
        three concrete implementations:</p>
      <dl class="docutils" style="margin-bottom: 18px;">
        <dt style="line-height: 18px; font-weight: bold;">Tcp.Write</dt>
        <dd style="line-height: 18px; margin-left: 9px;">The simplest<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WriteCommand</span></code><span
            class="Apple-converted-space">&nbsp;</span>implementation which
          wraps a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>instance and an "ack"
          event. A<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code>(as
          explained in<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/io.html#bytestring-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">this
              section</span></a>) models one or more chunks of immutable
          in-memory data with a maximum (total) size of 2 GB (2^31 bytes).</dd>
        <dt style="line-height: 18px; font-weight: bold;">Tcp.WriteFile</dt>
        <dd style="line-height: 18px; margin-left: 9px;">If you want to send
          "raw" data from a file you can do so efficiently with the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Tcp.WriteFile</span></code><span
            class="Apple-converted-space">&nbsp;</span>command. This allows you
          do designate a (contiguous) chunk of on-disk bytes for sending across
          the connection without the need to first load them into the JVM
          memory. As such<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Tcp.WriteFile</span></code><span
            class="Apple-converted-space">&nbsp;</span>can "hold" more than 2GB
          of data and an "ack" event if required.</dd>
        <dt style="line-height: 18px; font-weight: bold;">Tcp.CompoundWrite</dt>
        <dd style="line-height: 18px; margin-left: 9px;">
          <p class="first" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sometimes
            you might want to group (or interleave) several<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Tcp.Write</span></code><span
              class="Apple-converted-space">&nbsp;</span>and/or<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Tcp.WriteFile</span></code><span
              class="Apple-converted-space">&nbsp;</span>commands into one
            atomic write command which gets written to the connection in one go.
            The<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
              style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">Tcp.CompoundWrite</span></code><span
              class="Apple-converted-space">&nbsp;</span>allows you to do just
            that and offers three benefits:</p>
          <ol class="last arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
            <li style="line-height: 18px;">As explained in the following section
              the TCP connection actor can only handle one single write command
              at a time. By combining several writes into one<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">CompoundWrite</span></code><span
                class="Apple-converted-space">&nbsp;</span>you can have them be
              sent across the connection with minimum overhead and without the
              need to spoon feed them to the connection actor via an<span class="Apple-converted-space">&nbsp;</span><em
                style="font-style: italic;">ACK-based</em><span class="Apple-converted-space">&nbsp;</span>message
              protocol.</li>
            <li style="line-height: 18px;">Because a<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">WriteCommand</span></code><span
                class="Apple-converted-space">&nbsp;</span>is atomic you can be
              sure that no other actor can "inject" other writes into your
              series of writes if you combine them into one single<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">CompoundWrite</span></code>.
              In scenarios where several actors write to the same connection
              this can be an important feature which can be somewhat hard to
              achieve otherwise.</li>
            <li style="line-height: 18px;">The "sub writes" of a<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">CompoundWrite</span></code><span
                class="Apple-converted-space">&nbsp;</span>are regular<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Write</span></code><span
                class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">WriteFile</span></code><span
                class="Apple-converted-space">&nbsp;</span>commands that
              themselves can request "ack" events. These ACKs are sent out as
              soon as the respective "sub write" has been completed. This allows
              you to attach more than one ACK to a<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Write</span></code><span
                class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">WriteFile</span></code><span
                class="Apple-converted-space">&nbsp;</span>(by combining it with
              an empty write that itself requests an ACK) or to have the
              connection actor acknowledge the progress of transmitting the<span
                class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">CompoundWrite</span></code><span
                class="Apple-converted-space">&nbsp;</span>by sending out
              intermediate ACKs at arbitrary points.</li>
          </ol>
        </dd>
      </dl>
    </div>
    <div class="section" id="throttling-reads-and-writes" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Throttling_Reads_and_Writes" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Throttling
        Reads and Writes</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        basic model of the TCP connection actor is that it has no internal
        buffering (i.e. it can only process one write at a time, meaning it can
        buffer one write until it has been passed on to the O/S kernel in full).
        Congestion needs to be handled at the user level, for both writes and
        reads.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        back-pressuring writes there are three modes of operation</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><em style="font-style: italic;">ACK-based:</em><span
            class="Apple-converted-space">&nbsp;</span>every<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Write</span></code><span
            class="Apple-converted-space">&nbsp;</span>command carries an
          arbitrary object, and if this object is not<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Tcp.NoAck</span></code><span
            class="Apple-converted-space">&nbsp;</span>then it will be returned
          to the sender of the<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Write</span></code><span
            class="Apple-converted-space">&nbsp;</span>upon successfully writing
          all contained data to the socket. If no other write is initiated
          before having received this acknowledgement then no failures can
          happen due to buffer overrun.</li>
        <li style="line-height: 18px;"><em style="font-style: italic;">NACK-based:</em><span
            class="Apple-converted-space">&nbsp;</span>every write which arrives
          while a previous write is not yet completed will be replied to with a<code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CommandFailed</span></code><span
            class="Apple-converted-space">&nbsp;</span>message containing the
          failed write. Just relying on this mechanism requires the implemented
          protocol to tolerate skipping writes (e.g. if each write is a valid
          message on its own and it is not required that all are delivered).
          This mode is enabled by setting the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">useResumeWriting</span></code><span
            class="Apple-converted-space">&nbsp;</span>flag to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">false</span></code><span
            class="Apple-converted-space">&nbsp;</span>within the<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Register</span></code><span
            class="Apple-converted-space">&nbsp;</span>message during connection
          activation.</li>
        <li style="line-height: 18px;"><em style="font-style: italic;">NACK-based
            with write suspending:</em><span class="Apple-converted-space">&nbsp;</span>this
          mode is very similar to the NACK-based one, but once a single write
          has failed no further writes will succeed until a<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ResumeWriting</span></code><span
            class="Apple-converted-space">&nbsp;</span>message is received. This
          message will be answered with a<code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WritingResumed</span></code><span
            class="Apple-converted-space">&nbsp;</span>message once the last
          accepted write has completed. If the actor driving the connection
          implements buffering and resends the NACK’ed messages after having
          awaited the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">WritingResumed</span></code><span
            class="Apple-converted-space">&nbsp;</span>signal then every message
          is delivered exactly once to the network socket.</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">These
        write back-pressure models (with the exception of the second which is
        rather specialised) are demonstrated in complete examples below. The
        full and contiguous source is available<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-docs/rst/scala/code/docs/io/EchoServer.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">on GitHub</a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        back-pressuring reads there are two modes of operation</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><em style="font-style: italic;">Push-reading:</em><span
            class="Apple-converted-space">&nbsp;</span>in this mode the
          connection actor sends the registered reader actor incoming data as
          soon as available as<code class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Received</span></code><span
            class="Apple-converted-space">&nbsp;</span>events. Whenever the
          reader actor wants to signal back-pressure to the remote TCP endpoint
          it can send a<code class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">SuspendReading</span></code><span
            class="Apple-converted-space">&nbsp;</span>message to the connection
          actor to indicate that it wants to suspend the reception of new data.
          No<code class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Received</span></code><span
            class="Apple-converted-space">&nbsp;</span>events will arrive until
          a corresponding<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ResumeReading</span></code><span
            class="Apple-converted-space">&nbsp;</span>is sent indicating that
          the receiver actor is ready again.</li>
        <li style="line-height: 18px;"><em style="font-style: italic;">Pull-reading:</em><span
            class="Apple-converted-space">&nbsp;</span>after sending a<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Received</span></code><span
            class="Apple-converted-space">&nbsp;</span>event the connection
          actor automatically suspends accepting data from the socket until the
          reader actor signals with a<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ResumeReading</span></code><span
            class="Apple-converted-space">&nbsp;</span>message that it is ready
          to process more input data. Hence new data is "pulled" from the
          connection by sending<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ResumeReading</span></code><span
            class="Apple-converted-space">&nbsp;</span>messages.</li>
      </ul>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
          should be obvious that all these flow control schemes only work
          between one writer/reader and one connection actor; as soon as
          multiple actors send write commands to a single connection no
          consistent result can be achieved.</p>
      </div>
    </div>
    <div class="section" id="ack-based-write-back-pressure" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="ACK-Based_Write_Back-Pressure" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">ACK-Based
        Write Back-Pressure</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        proper function of the following example it is important to configure
        the connection to remain half-open when the remote side closed its
        writing end: this allows the example<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">EchoHandler</span></code><span
          class="Apple-converted-space">&nbsp;</span>to write all outstanding
        data back to the client before fully closing the connection. This is
        enabled using a flag upon connection activation (observe the<code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Register</span></code><span
          class="Apple-converted-space">&nbsp;</span>message):</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Connected</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">local</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"received connection from {}"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handler</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handlerClass</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sender</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(),</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Register</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">keepOpenOnPeerClosed</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
        this preparation let us dive into the handler itself:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// storage omitted ...</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SimpleEchoHandler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// sign death pact: this actor terminates when connection breaks</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">watch</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Event</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">become</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">({</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">acknowledge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PeerClosed</span></span><span class="pln"
style="color: rgb(89, 80, 80);">     </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">closing</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">},</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">discardOld</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PeerClosed</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">stop</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// storage omitted ...</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        principle is simple: when having written a chunk always wait for the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Ack</span></code><span
          class="Apple-converted-space">&nbsp;</span>to come back before sending
        the next chunk. While waiting we switch behavior such that new incoming
        data are buffered. The helper functions used are a bit lengthy but not
        complicated:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">private</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">:+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">maxStored</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">warning</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"drop connection to [</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$remote</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">] (buffer overrun)"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">stop</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">highWatermark</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">debug</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"suspending reading"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SuspendReading</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">suspended</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">private</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">acknowledge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">require</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nonEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"storage was empty"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">transferred</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">storage</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">storage</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">drop</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">suspended</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&amp;&amp;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&lt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">lowWatermark</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">debug</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"resuming reading"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ResumeReading</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">suspended</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">isEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">closing</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unbecome</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">connection</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        most interesting part is probably the last: an<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Ack</span></code><span
          class="Apple-converted-space">&nbsp;</span>removes the oldest data
        chunk from the buffer, and if that was the last chunk then we either
        close the connection (if the peer closed its half already) or return to
        the idle behavior; otherwise we just send the next buffered chunk and
        stay waiting for the next<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Ack</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Back-pressure
        can be propagated also across the reading side back to the writer on the
        other end of the connection by sending the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">SuspendReading</span></code><span
          class="Apple-converted-space">&nbsp;</span>command to the connection
        actor. This will lead to no data being read from the socket anymore
        (although this does happen after a delay because it takes some time
        until the connection actor processes this command, hence appropriate
        head-room in the buffer should be present), which in turn will lead to
        the O/S kernel buffer filling up on our end, then the TCP window
        mechanism will stop the remote side from writing, filling up its write
        buffer, until finally the writer on the other side cannot push any data
        into the socket anymore. This is how end-to-end back-pressure is
        realized across a TCP connection.</p>
    </div>
    <div class="section" id="nack-based-write-back-pressure-with-suspending" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="NACK-Based_Write_Back-Pressure_with_Suspending" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">NACK-Based
        Write Back-Pressure with Suspending</h2>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">EchoHandler</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">offset</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Event</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">EchoHandler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">connection</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">EchoHandler</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Tcp</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">EchoHandler</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// sign death pact: this actor terminates when connection breaks</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">watch</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// start out in optimistic write-through mode</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">writing</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">writing</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">currentOffset</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">acknowledge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CommandFailed</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)))</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ResumeWriting</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">become</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffering</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PeerClosed</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">isEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">become</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">closing</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// buffering ...</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// closing ...</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">postStop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"transferred </span></span><span class="si"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$transferred</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);"> bytes from/to [</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$remote</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">]"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// storage omitted ...</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// storage omitted ...</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        principle here is to keep writing until a<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CommandFailed</span></code><span
          class="Apple-converted-space">&nbsp;</span>is received, using
        acknowledgements only to prune the resend buffer. When a such a failure
        was received, transition into a different state for handling and handle
        resending of all queued data:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">buffering</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">nack</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">var</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">toAck</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">10</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">var</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">peerClosed</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);">         </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WritingResumed</span></span><span class="pln"
style="color: rgb(89, 80, 80);">         </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">writeFirst</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PeerClosed</span></span><span class="pln"
style="color: rgb(89, 80, 80);">             </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">peerClosed</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">ack</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&lt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">nack</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">acknowledge</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">acknowledge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nonEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toAck</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">0</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// stay in ACK-based mode for a while</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeFirst</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toAck</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// then return to NACK-based again</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writeAll</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">become</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">peerClosed</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">closing</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">writing</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">peerClosed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">become</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">writing</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        should be noted that all writes which are currently buffered have also
        been sent to the connection actor upon entering this state, which means
        that the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ResumeWriting</span></code><span
          class="Apple-converted-space">&nbsp;</span>message is enqueued after
        those writes, leading to the reception of all outstanding<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CommandFailed</span></code><span
          class="Apple-converted-space">&nbsp;</span>messages (which are ignored
        in this state) before receiving the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WritingResumed</span></code>signal.
        That latter message is sent by the connection actor only once the
        internally queued write has been fully completed, meaning that a
        subsequent write will not fail. This is exploited by the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">EchoHandler</span></code><span
          class="Apple-converted-space">&nbsp;</span>to switch to an ACK-based
        approach for the first ten writes after a failure before resuming the
        optimistic write-through behavior.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">closing</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CommandFailed</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ResumeWriting</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">become</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">({</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WritingResumed</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">writeAll</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">unbecome</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">acknowledge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">},</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">discardOld</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">acknowledge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">isEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">context</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">self</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Closing
        the connection while still sending all data is a bit more involved than
        in the ACK-based approach: the idea is to always send all outstanding
        messages and acknowledge all successful writes, and if a failure happens
        then switch behavior to await the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WritingResumed</span></code><span
          class="Apple-converted-space">&nbsp;</span>event and start over.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        helper functions are very similar to the ACK-based case:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">private</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">buffer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">:+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">maxStored</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">warning</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"drop connection to [</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$remote</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">] (buffer overrun)"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">stop</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">highWatermark</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">debug</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"suspending reading at </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$currentOffset</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SuspendReading</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">suspended</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">private</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">acknowledge</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">require</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ack</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">==</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storageOffset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"received ack </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$ack</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);"> at </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$storageOffset</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">require</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nonEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"storage was empty at ack </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$ack</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">0</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">transferred</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">storageOffset</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">storage</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">drop</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">suspended</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&amp;&amp;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">stored</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">&lt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">lowWatermark</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">log</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">debug</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"resuming reading"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ResumeReading</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">suspended</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="read-back-pressure-with-pull-mode" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Read_Back-Pressure_with_Pull_Mode" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Read
        Back-Pressure with Pull Mode</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        using push based reading, data coming from the socket is sent to the
        actor as soon as it is available. In the case of the previous Echo
        server example this meant that we needed to maintain a buffer of
        incoming data to keep it around since the rate of writing might be
        slower than the rate of the arrival of new data.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
        the Pull mode this buffer can be completely eliminated as the following
        snippet demonstrates:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preStart</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ResumeReading</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receive</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Write</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ResumeReading</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        idea here is that reading is not resumed until the previous write has
        been completely acknowledged by the connection actor. Every pull mode
        connection actor starts from suspended state. To start the flow of data
        we send a<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ResumeReading</span></code><span
          class="Apple-converted-space">&nbsp;</span>in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">preStart</span></code><span
          class="Apple-converted-space">&nbsp;</span>method to tell the
        connection actor that we are ready to receive the first chunk of data.
        Since we only resume reading when the previous data chunk has been
        completely written there is no need for maintaining a buffer.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        enable pull reading on an outbound connection the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">pullMode</span></code><span
          class="Apple-converted-space">&nbsp;</span>parameter of the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connect</span></code><span
          class="Apple-converted-space">&nbsp;</span>should be set to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">true</span></code>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Connect</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">listenAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">pullMode</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kc" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <div class="section" id="pull-mode-reading-for-inbound-connections">
        <h3 id="Pull_Mode_Reading_for_Inbound_Connections" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Pull
          Mode Reading for Inbound Connections</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          previous section demonstrated how to enable pull reading mode for
          outbound connections but it is possible to create a listener actor
          with this mode of reading by setting the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">pullMode</span></code><span
            class="Apple-converted-space">&nbsp;</span>parameter of the<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Bind</span></code><span
            class="Apple-converted-space">&nbsp;</span>command to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">true</span></code>:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Tcp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Bind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">0</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">),</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pullMode</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">One
          of the effects of this setting is that all connections accepted by
          this listener actor will use pull mode reading.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Another
          effect of this setting is that in addition of setting all inbound
          connections to pull mode, accepting connections becomes pull based,
          too. This means that after handling one (or more)<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Connected</span></code><span
            class="Apple-converted-space">&nbsp;</span>events the listener actor
          has to be resumed by sending it a<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ResumeAccepting</span></code><span
            class="Apple-converted-space">&nbsp;</span>message.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Listener
          actors with pull mode start suspended so to start accepting
          connections a<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ResumeAccepting</span></code><span
            class="Apple-converted-space">&nbsp;</span>command has to be sent to
          the listener actor after binding was successful:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Bound</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">localAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// Accept connections one by one</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ResumeAccepting</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">batchSize</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">become</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">listening</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">After
          handling an incoming connection we need to resume accepting again:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">listening</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">listener</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Connected</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">local</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handler</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">PullEcho</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sender</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Register</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">keepOpenOnPeerClosed</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">listener</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ResumeAccepting</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">batchSize</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ResumeAccepting</span></code><span
            class="Apple-converted-space">&nbsp;</span>accepts a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">batchSize</span></code><span
            class="Apple-converted-space">&nbsp;</span>parameter that specifies
          how many new connections are accepted before a next<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ResumeAccepting</span></code><span
            class="Apple-converted-space">&nbsp;</span>message is needed to
          resume handling of new connections.</p>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Using
      UDP</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">UDP
      is a connectionless datagram protocol which offers two different ways of
      communication on the JDK level:</p>
    <blockquote style="padding: 0px 0px 0px 15px; margin: 0px 0px 18px; border-left-width: 5px; border-left-style: solid; border-left-color: rgb(238, 238, 238); color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <div>
        <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
          <li style="line-height: 18px;">sockets which are free to send
            datagrams to any destination and receive datagrams from any origin</li>
          <li style="line-height: 18px;">sockets which are restricted to
            communication with one specific remote socket address</li>
        </ul>
      </div>
    </blockquote>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">In
      the low-level API the distinction is made—confusingly—by whether or not<span
        class="Apple-converted-space">&nbsp;</span><code class="xref py py-meth docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">connect</span></code><span
        class="Apple-converted-space">&nbsp;</span>has been called on the socket
      (even when connect has been called the protocol is still connectionless).
      These two forms of UDP usage are offered using distinct IO extensions
      described below.</p>
    <div class="section" id="unconnected-udp" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Unconnected_UDP" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Unconnected
        UDP</h2>
      <div class="section" id="simple-send">
        <h3 id="Simple_Send" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Simple
          Send</h3>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SimpleSender</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SimpleSender</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SimpleSenderReady</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">become</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ready</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ready</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">send</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">send</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Send</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          simplest form of UDP usage is to just send datagrams without the need
          of getting a reply. To this end a “simple sender” facility is provided
          as demonstrated above. The UDP extension is queried using the<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">SimpleSender</span></code><span
            class="Apple-converted-space">&nbsp;</span>message, which is
          answered by a<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">SimpleSenderReady</span></code><span
            class="Apple-converted-space">&nbsp;</span>notification. The sender
          of this message is the newly created sender actor which from this
          point onward can be used to send datagrams to arbitrary destinations;
          in this example it will just send any UTF-8 encoded<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">String</span></code><span
            class="Apple-converted-space">&nbsp;</span>it receives to a
          predefined remote address.</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            simple sender will not shut itself down because it cannot know when
            you are done with it. You will need to send it a<span class="Apple-converted-space">&nbsp;</span><code
              class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">PoisonPill</span></code><span
              class="Apple-converted-space">&nbsp;</span>when you want to close
            the ephemeral port the sender is bound to.</p>
        </div>
      </div>
      <div class="section" id="bind-and-send">
        <h3 id="Bind__and_Send_" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Bind
          (and Send)</h3>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Listener</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nextActor</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Bind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">0</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Bound</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">local</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">become</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ready</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ready</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">socket</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">processed</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// parse data etc., e.g. using PipelineStage</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">socket</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Send</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// example server echoes back</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">nextActor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">processed</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Unbind</span></span><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">socket</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unbind</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Unbound</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you want to implement a UDP server which listens on a socket for
          incoming datagrams then you need to use the<code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Bind</span></code><span
            class="Apple-converted-space">&nbsp;</span>command as shown above.
          The local address specified may have a zero port in which case the
          operating system will automatically choose a free port and assign it
          to the new socket. Which port was actually bound can be found out by
          inspecting the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Bound</span></code><span
            class="Apple-converted-space">&nbsp;</span>message.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          sender of the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Bound</span></code><span
            class="Apple-converted-space">&nbsp;</span>message is the actor
          which manages the new socket. Sending datagrams is achieved by using
          the<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Send</span></code><span
            class="Apple-converted-space">&nbsp;</span>message type and the
          socket can be closed by sending a<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Unbind</span></code><span
            class="Apple-converted-space">&nbsp;</span>command, in which case
          the socket actor will reply with a<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Unbound</span></code><span
            class="Apple-converted-space">&nbsp;</span>notification.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Received
          datagrams are sent to the actor designated in the<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Bind</span></code><span
            class="Apple-converted-space">&nbsp;</span>message, whereas the<span
            class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Bound</span></code><span
            class="Apple-converted-space">&nbsp;</span>message will be sent to
          the sender of the<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Bind</span></code>.</p>
      </div>
    </div>
    <div class="section" id="connected-udp" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Connected_UDP" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Connected
        UDP</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        service provided by the connection based UDP API is similar to the
        bind-and-send service we saw earlier, but the main difference is that a
        connection is only able to send to the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">remoteAddress</span></code><span
          class="Apple-converted-space">&nbsp;</span>it was connected to, and
        will receive datagrams only from that address.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Connected</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remote</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">UdpConnected</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">UdpConnected</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Connect</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">remote</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UdpConnected</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Connected</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">become</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ready</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ready</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Receive</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UdpConnected</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Received</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// process data, send it on, etc.</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">UdpConnected</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Send</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UdpConnected</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Disconnect</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">UdpConnected</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Disconnect</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">UdpConnected</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Disconnected</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Consequently
        the example shown here looks quite similar to the previous one, the
        biggest difference is the absence of remote address information in<span
          class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Send</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Received</span></code><span
          class="Apple-converted-space">&nbsp;</span>messages.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
          is a small performance benefit in using connection based UDP API over
          the connectionless one. If there is a SecurityManager enabled on the
          system, every connectionless message send has to go through a security
          check, while in the case of connection-based UDP the security check is
          cached after connect, thus writes do not suffer an additional
          performance penalty.</p>
      </div>
    </div>
    <div class="section" id="udp-multicast" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="UDP_Multicast" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">UDP
        Multicast</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        you want to use UDP multicast you will need to use Java 7. Akka provides
        a way to control various options of<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">DatagramChannel</span></code><span
          class="Apple-converted-space">&nbsp;</span>through the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.io.Inet.SocketOption</span></code><span
          class="Apple-converted-space">&nbsp;</span>interface. The example
        below shows how to setup a receiver of multicast messages using IPv6
        protocol.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        select a Protocol Family you must extend<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.io.Inet.DatagramChannelCreator</span></code><span
          class="Apple-converted-space">&nbsp;</span>class which extends<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.io.Inet.SocketOption</span></code>.
        Provide custom logic for opening a datagram channel by overriding<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-meth docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">create</span></code><span
          class="Apple-converted-space">&nbsp;</span>method.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Inet6ProtocolFamily</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DatagramChannelCreator</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">create</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DatagramChannel</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">open</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StandardProtocolFamily</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">INET6</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Another
        socket option will be needed to join a multicast group.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MulticastGroup</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">interface</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SocketOptionV2</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">afterBind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">DatagramSocket</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">group</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">InetAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getByName</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">address</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">networkInterface</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">NetworkInterface</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getByName</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">interface</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getChannel</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">join</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">group</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">networkInterface</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Socket
        options must be provided to<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">UdpMessage.Bind</span></code><span
          class="Apple-converted-space">&nbsp;</span>message.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">system</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">opts</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">List</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Inet6ProtocolFamily</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MulticastGroup</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">group</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">iface</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Udp</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Bind</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">InetSocketAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">opts</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Camel</h1>
    <div class="section" id="introduction" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Introduction" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Introduction</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        akka-camel module allows Untyped Actors to receive and send messages
        over a great variety of protocols and APIs. In addition to the native
        Scala and Java actor API, actors can now exchange messages with other
        systems over large number of protocols and APIs such as HTTP, SOAP, TCP,
        FTP, SMTP or JMS, to mention a few. At the moment, approximately 80
        protocols and APIs are supported.</p>
      <div class="section" id="apache-camel">
        <h3 id="Apache_Camel" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Apache
          Camel</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          akka-camel module is based on<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://camel.apache.org/" style="color: rgb(21, 169, 206); text-decoration: none;">Apache
            Camel</a>, a powerful and light-weight integration framework for the
          JVM. For an introduction to Apache Camel you may want to read this<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://architects.dzone.com/articles/apache-camel-integration"
            style="color: rgb(21, 169, 206); text-decoration: none;">Apache
            Camel article</a>. Camel comes with a large number of<a class="reference external"
            href="http://camel.apache.org/components.html" style="color: rgb(21, 169, 206); text-decoration: none;">components</a><span
            class="Apple-converted-space">&nbsp;</span>that provide bindings to
          different protocols and APIs. The<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://code.google.com/p/camel-extra/"
            style="color: rgb(21, 169, 206); text-decoration: none;">camel-extra</a><span
            class="Apple-converted-space">&nbsp;</span>project provides further
          components.</p>
      </div>
      <div class="section" id="consumer">
        <h3 id="Consumer" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Consumer</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Usage
          of Camel's integration components in Akka is essentially a one-liner.
          Here's an example.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyEndpoint</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"mina2:tcp://localhost:6200?textline=true"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/* ... */</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);">                 </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/* ... */</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// start and expose actor via tcp</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">mina</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MyEndpoint</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          above example exposes an actor over a TCP endpoint via Apache Camel's<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://camel.apache.org/mina2.html" style="color: rgb(21, 169, 206); text-decoration: none;">Mina
            component</a>. The actor implements the endpointUri method to define
          an endpoint from which it can receive messages. After starting the
          actor, TCP clients can immediately send messages to and receive
          responses from that actor. If the message exchange should go over HTTP
          (via Camel's<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://camel.apache.org/jetty.html" style="color: rgb(21, 169, 206); text-decoration: none;">Jetty
            component</a>), only the actor's endpointUri method must be changed.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyEndpoint</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"jetty:http://localhost:8877/example"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/* ... */</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);">                 </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/* ... */</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="producer">
        <h3 id="Producer" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Producer</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Actors
          can also trigger message exchanges with external systems i.e. produce
          to Camel endpoints.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Oneway</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Orders</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Oneway</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"jms:queue:Orders"</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sys</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">orders</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sys</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Orders</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">orders</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&lt;</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">order</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">amount</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"100"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">currency</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"PLN"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">itemId</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"12345"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">/&gt;</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          the above example, any message sent to this actor will be sent to the
          JMS queue<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">orders</span></code>.
          Producer actors may choose from the same set of Camel components as
          Consumer actors do.</p>
      </div>
      <div class="section" id="camelmessage">
        <h3 id="CamelMessage" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">CamelMessage</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          number of Camel components is constantly increasing. The akka-camel
          module can support these in a plug-and-play manner. Just add them to
          your application's classpath, define a component-specific endpoint URI
          and use it to exchange messages over the component-specific protocols
          or APIs. This is possible because Camel components bind
          protocol-specific message formats to a Camel-specific<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/Message.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">normalized
            message format</a>. The normalized message format hides
          protocol-specific details from Akka and makes it therefore very easy
          to support a large number of protocols through a uniform Camel
          component interface. The akka-camel module further converts mutable
          Camel messages into immutable representations which are used by
          Consumer and Producer actors for pattern matching, transformation,
          serialization or storage. In the above example of the Orders Producer,
          the XML message is put in the body of a newly created Camel Message
          with an empty set of headers. You can also create a CamelMessage
          yourself with the appropriate body and headers as you see fit.</p>
      </div>
      <div class="section" id="camelextension">
        <h3 id="CamelExtension" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">CamelExtension</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          akka-camel module is implemented as an Akka Extension, the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>object. Extensions will
          only be loaded once per<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code>,
          which will be managed by Akka. The<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>object provides access to
          the<a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Camel.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">Camel</a><span
            class="Apple-converted-space">&nbsp;</span>trait. The<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Camel.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">Camel</a><span
            class="Apple-converted-space">&nbsp;</span>trait in turn provides
          access to two important Apache Camel objects, the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/CamelContext.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">CamelContext</a><span
            class="Apple-converted-space">&nbsp;</span>and the<a class="reference external"
            href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/ProducerTemplate.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">ProducerTemplate</a>.
          Below you can see how you can get access to these Apache Camel
          objects.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">camel</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelExtension</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">camelContext</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">camel</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">context</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">producerTemplate</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">camel</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">template</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">One<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>is only loaded once for
          every one<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code>,
          which makes it safe to call the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>at any point in your code
          to get to the Apache Camel objects associated with it. There is one<a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/CamelContext.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">CamelContext</a><span
            class="Apple-converted-space">&nbsp;</span>and one<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/ProducerTemplate.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">ProducerTemplate</a><span
            class="Apple-converted-space">&nbsp;</span>for every one<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
            class="Apple-converted-space">&nbsp;</span>that uses a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code>.
          By Default, a new<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/CamelContext.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">CamelContext</a><span
            class="Apple-converted-space">&nbsp;</span>is created when the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>starts. If you want to
          inject your own context instead, you can extend the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/ContextProvider.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">ContextProvider</a><span
            class="Apple-converted-space">&nbsp;</span>trait and add the FQCN of
          your implementation in the config, as the value of the
          "akka.camel.context-provider". This interface define a single method<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">getContext</span></code><span
            class="Apple-converted-space">&nbsp;</span>used to load the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/CamelContext.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">CamelContext</a>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Below
          an example on how to add the ActiveMQ component to the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/CamelContext.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">CamelContext</a>,
          which is required when you would like to use the ActiveMQ component.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// import org.apache.activemq.camel.component.ActiveMQComponent</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">camel</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelExtension</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">camelContext</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">camel</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">context</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// camelContext.addComponent("activemq", ActiveMQComponent.activeMQComponent(</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">//   "vm://localhost?broker.persistent=false"))</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/CamelContext.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">CamelContext</a><span
            class="Apple-converted-space">&nbsp;</span>joins the lifecycle of
          the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>it is associated with;
          the<a class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/CamelContext.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">CamelContext</a><span
            class="Apple-converted-space">&nbsp;</span>is started when the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>is created, and it is
          shut down when the associated<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
            class="Apple-converted-space">&nbsp;</span>is shut down. The same is
          true for the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/ProducerTemplate.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">ProducerTemplate</a>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>is used by both<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">Producer</cite><span class="Apple-converted-space">&nbsp;</span>and<span
            class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">Consumer</cite><span
            class="Apple-converted-space">&nbsp;</span>actors to interact with
          Apache Camel internally. You can access the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CamelExtension</span></code><span
            class="Apple-converted-space">&nbsp;</span>inside a<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">Producer</cite><span class="Apple-converted-space">&nbsp;</span>or
          a<span class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">Consumer</cite><span
            class="Apple-converted-space">&nbsp;</span>using the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">camel</span></code><span
            class="Apple-converted-space">&nbsp;</span>definition, or get
          straight at the<cite style="font-style: normal;">CamelContext</cite><span
            class="Apple-converted-space">&nbsp;</span>using the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">camelContext</span></code><span
            class="Apple-converted-space">&nbsp;</span>definition. Actors are
          created and started asynchronously. When a<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">Consumer</cite>actor is created, the<span
            class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">Consumer</cite><span
            class="Apple-converted-space">&nbsp;</span>is published at its Camel
          endpoint (more precisely, the route is added to the<a class="reference external"
            href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/CamelContext.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">CamelContext</a><span
            class="Apple-converted-space">&nbsp;</span>from the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/Endpoint.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">Endpoint</a><span
            class="Apple-converted-space">&nbsp;</span>to the actor). When a<span
            class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">Producer</cite><span
            class="Apple-converted-space">&nbsp;</span>actor is created, a<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">SendProcessor</a><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/Endpoint.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">Endpoint</a><span
            class="Apple-converted-space">&nbsp;</span>are created so that the
          Producer can send messages to it. Publication is done asynchronously;
          setting up an endpoint may still be in progress after you have
          requested the actor to be created. Some Camel components can take a
          while to startup, and in some cases you might want to know when the
          endpoints are activated and ready to be used. The<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Camel.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">Camel</a>trait
          allows you to find out when the endpoint is activated or deactivated.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">duration</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyEndpoint</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"mina2:tcp://localhost:6200?textline=true"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/* ... */</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);">                 </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/* ... */</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">camel</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelExtension</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">actorRef</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MyEndpoint</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// get a future reference to the activation of the endpoint of the Consumer Actor</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">activationFuture</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">camel</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">activationFutureFor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">10</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">seconds</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">executor</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          above code shows that you can get a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Future</span></code><span
            class="Apple-converted-space">&nbsp;</span>to the activation of the
          route from the endpoint to the actor, or you can wait in a blocking
          fashion on the activation of the route. An<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActivationTimeoutException</span></code><span
            class="Apple-converted-space">&nbsp;</span>is thrown if the endpoint
          could not be activated within the specified timeout. Deactivation
          works in a similar fashion:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">stop</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// get a future reference to the deactivation of the endpoint of the Consumer Actor</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">deactivationFuture</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">camel</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">deactivationFutureFor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">10</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">seconds</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">executor</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Deactivation
          of a Consumer or a Producer actor happens when the actor is
          terminated. For a Consumer, the route to the actor is stopped. For a
          Producer, the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">SendProcessor</a><span
            class="Apple-converted-space">&nbsp;</span>is stopped. A<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">DeActivationTimeoutException</span></code><span
            class="Apple-converted-space">&nbsp;</span>is thrown if the
          associated camel objects could not be deactivated within the specified
          timeout.</p>
      </div>
    </div>
    <div class="section" id="consumer-actors" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Consumer_Actors" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Consumer
        Actors</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        objects to receive messages, they must mixin the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Consumer.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Consumer</a><span
          class="Apple-converted-space">&nbsp;</span>trait. For example, the
        following actor class (Consumer1) implements the endpointUri method,
        which is declared in the Consumer trait, in order to receive messages
        from the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">file:data/input/actor</span></code><span
          class="Apple-converted-space">&nbsp;</span>Camel endpoint.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer1</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"file:data/input/actor"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"received %s"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">format</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bodyAs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Whenever
        a file is put into the data/input/actor directory, its content is picked
        up by the Camel<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://camel.apache.org/file2.html" style="color: rgb(21, 169, 206); text-decoration: none;">file
          component</a><span class="Apple-converted-space">&nbsp;</span>and sent
        as message to the actor. Messages consumed by actors from Camel
        endpoints are of type<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/CamelMessage.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">CamelMessage</a>.
        These are immutable representations of Camel messages.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here's
        another example that sets the endpointUri to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">jetty:http://localhost:8877/camel/default</span></code>.
        It causes Camel's<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://camel.apache.org/jetty.html" style="color: rgb(21, 169, 206); text-decoration: none;">Jetty
          component</a><span class="Apple-converted-space">&nbsp;</span>to start
        an embedded<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.eclipse.org/jetty/" style="color: rgb(21, 169, 206); text-decoration: none;">Jetty</a><span
          class="Apple-converted-space">&nbsp;</span>server, accepting HTTP
        connections from localhost on port 8877.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer2</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"jetty:http://localhost:8877/camel/default"</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Hello %s"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">format</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bodyAs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">After
        starting the actor, clients can send messages to that actor by POSTing
        to<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">http://localhost:8877/camel/default</span></code>.
        The actor sends a response by using the sender<span class="Apple-converted-space">&nbsp;</span><cite
          style="font-style: normal;">!</cite><span class="Apple-converted-space">&nbsp;</span>method.
        For returning a message body and headers to the HTTP client the response
        type should be<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/CamelMessage.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">CamelMessage</a>.
        For any other response type, a new CamelMessage object is created by
        akka-camel with the actor response as message body.</p>
      <div class="section" id="delivery-acknowledgements"><span id="camel-acknowledgements"></span>
        <h3 id="Delivery_acknowledgements" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Delivery
          acknowledgements</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
          in-out message exchanges, clients usually know that a message exchange
          is done when they receive a reply from a consumer actor. The reply
          message can be a CamelMessage (or any object which is then internally
          converted to a CamelMessage) on success, and a Failure message on
          failure.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
          in-only message exchanges, by default, an exchange is done when a
          message is added to the consumer actor's mailbox. Any failure or
          exception that occurs during processing of that message by the
          consumer actor cannot be reported back to the endpoint in this case.
          To allow consumer actors to positively or negatively acknowledge the
          receipt of a message from an in-only message exchange, they need to
          override the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">autoAck</span></code><span
            class="Apple-converted-space">&nbsp;</span>method to return false.
          In this case, consumer actors must reply either with a special
          akka.camel.Ack message (positive acknowledgement) or a
          akka.actor.Status.Failure (negative acknowledgement).</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Ack</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Status</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Failure</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer3</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">autoAck</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"jms:queue:test"</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Ack</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// on success</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ..</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">someException</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Exception</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"e1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// on failure</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Failure</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">someException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="consumer-timeout"><span id="camel-timeout"></span>
        <h3 id="Consumer_timeout" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Consumer
          timeout</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Camel
          Exchanges (and their corresponding endpoints) that support two-way
          communications need to wait for a response from an actor before
          returning it to the initiating client. For some endpoint types,
          timeout values can be defined in an endpoint-specific way which is
          described in the documentation of the individual<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://camel.apache.org/components.html"
            style="color: rgb(21, 169, 206); text-decoration: none;">Camel
            components</a>. Another option is to configure timeouts on the level
          of consumer actors.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Two-way
          communications between a Camel endpoint and an actor are initiated by
          sending the request message to the actor with the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-actor/src/main/scala/akka/pattern/AskSupport.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">ask</a><span
            class="Apple-converted-space">&nbsp;</span>pattern and the actor
          replies to the endpoint when the response is ready. The ask request to
          the actor can timeout, which will result in the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/Exchange.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">Exchange</a><span
            class="Apple-converted-space">&nbsp;</span>failing with a
          TimeoutException set on the failure of the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/Exchange.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">Exchange</a>.
          The timeout on the consumer actor can be overridden with the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">replyTimeout</span></code>,
          as shown below.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">duration</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer4</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"jetty:http://localhost:8877/camel/default"</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">replyTimeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">500</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">millis</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Hello %s"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">format</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bodyAs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="section" id="producer-actors" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Producer_Actors" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Producer
        Actors</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        sending messages to Camel endpoints, actors need to mixin the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Producer.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Producer</a><span
          class="Apple-converted-space">&nbsp;</span>trait and implement the
        endpointUri method.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Timeout</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer1</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"http://localhost:8080/news"</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Producer1
        inherits a default implementation of the receive method from the
        Producer trait. To customize a producer actor's default behavior you
        must override the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Producer.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Producer</a>.transformResponse
        and<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Producer.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Producer</a>.transformOutgoingMessage
        methods. This is explained later in more detail. Producer Actors cannot
        override the default<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Producer.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Producer</a>.receive
        method.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Any
        message sent to a<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Producer.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Producer</a><span
          class="Apple-converted-space">&nbsp;</span>actor will be sent to the
        associated Camel endpoint, in the above example to<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">http://localhost:8080/news</span></code>.
        The<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Producer.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Producer</a><span
          class="Apple-converted-space">&nbsp;</span>always sends messages
        asynchronously. Response messages (if supported by the configured
        endpoint) will, by default, be returned to the original sender. The
        following example uses the ask pattern to send a message to a Producer
        actor and waits for a response.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">pattern</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ask</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">duration</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Timeout</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">10</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">seconds</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">producer</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Producer1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">future</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">producer</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ask</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"some request"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mapTo</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        future contains the response CamelMessage, or an<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">AkkaCamelException</span></code><span
          class="Apple-converted-space">&nbsp;</span>when an error occurred,
        which contains the headers of the response.</p>
      <div class="section" id="custom-processing"><span id="camel-custom-processing-scala"></span>
        <h3 id="Custom_Processing" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Custom
          Processing</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Instead
          of replying to the initial sender, producer actors can implement
          custom response processing by overriding the routeResponse method. In
          the following example, the response message is forwarded to a target
          actor instead of being replied to the original sender.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ResponseReceiver</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// do something with the forwarded response</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Forwarder</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">target</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">routeResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Any</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">target</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">forward</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">msg</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receiver</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ResponseReceiver</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">forwardResponse</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Forwarder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">this</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"http://localhost:8080/news/akka"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">receiver</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// the Forwarder sends out a request to the web page and forwards the response to</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// the ResponseReceiver</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">forwardResponse</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some request"</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Before
          producing messages to endpoints, producer actors can pre-process them
          by overriding the<a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Producer.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">Producer</a>.transformOutgoingMessage
          method.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Transformer</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">upperCase</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mapBody</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">body</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">body</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toUpperCase</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">transformOutgoingMessage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Any</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">msg</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">match</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">upperCase</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="producer-configuration-options">
        <h3 id="Producer_configuration_options" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Producer
          configuration options</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          interaction of producer actors with Camel endpoints can be configured
          to be one-way or two-way (by initiating in-only or in-out message
          exchanges, respectively). By default, the producer initiates an in-out
          message exchange with the endpoint. For initiating an in-only
          exchange, producer actors have to override the oneway method to return
          true.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">OnewaySender</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">oneway</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Boolean</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">producer</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">OnewaySender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">this</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"activemq:FOO.BAR"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">producer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Some message"</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="message-correlation">
        <h3 id="Message_correlation" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Message
          correlation</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          correlate request with response messages, applications can set the<span
            class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">Message.MessageExchangeId</cite><span
            class="Apple-converted-space">&nbsp;</span>message header.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer2</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Producer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"activemq:FOO.BAR"</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">producer</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Producer2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">producer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"bar"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Map</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">MessageExchangeId</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"123"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="id7">
        <h3 id="ProducerTemplate" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">ProducerTemplate</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/Producer.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">Producer</a><span
            class="Apple-converted-space">&nbsp;</span>trait is a very
          convenient way for actors to produce messages to Camel endpoints.
          Actors may also use a Camel<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/ProducerTemplate.java"
            style="color: rgb(21, 169, 206); text-decoration: none;">ProducerTemplate</a><span
            class="Apple-converted-space">&nbsp;</span>for producing messages to
          endpoints.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyActor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">template</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelExtension</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">template</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">template</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sendBody</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"direct:news"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">msg</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          initiating a two-way message exchange, one of the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ProducerTemplate.request*</span></code><span
            class="Apple-converted-space">&nbsp;</span>methods must be used.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyActor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">template</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelExtension</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">template</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">template</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">requestBody</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"direct:news"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">msg</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="section" id="asynchronous-routing" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="camel-asynchronous-routing"></span>
      <h2 id="Asynchronous_routing" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Asynchronous
        routing</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In-out
        message exchanges between endpoints and actors are designed to be
        asynchronous. This is the case for both, consumer and producer actors.</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">A consumer endpoint sends request
          messages to its consumer actor using the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">!</span></code><span
            class="Apple-converted-space">&nbsp;</span>(tell) operator and the
          actor returns responses with<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">sender</span><span class="Apple-converted-space">&nbsp;</span><span
              class="pre" style="color: rgb(11, 85, 103);">!</span></code><span
            class="Apple-converted-space">&nbsp;</span>once they are ready.</li>
        <li style="line-height: 18px;">A producer actor sends request messages
          to its endpoint using Camel's asynchronous routing engine.
          Asynchronous responses are wrapped and added to the producer actor's
          mailbox for later processing. By default, response messages are
          returned to the initial sender but this can be overridden by Producer
          implementations (see also description of the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">routeResponse</span></code><span
            class="Apple-converted-space">&nbsp;</span>method in<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#camel-custom-processing-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Custom
              Processing</span></a>).</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">However,
        asynchronous two-way message exchanges, without allocating a thread for
        the full duration of exchange, cannot be generically supported by
        Camel's asynchronous routing engine alone. This must be supported by the
        individual<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://camel.apache.org/components.html" style="color: rgb(21, 169, 206); text-decoration: none;">Camel
          components</a><span class="Apple-converted-space">&nbsp;</span>(from
        which endpoints are created) as well. They must be able to suspend any
        work started for request processing (thereby freeing threads to do other
        work) and resume processing when the response is ready. This is
        currently the case for a<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://camel.apache.org/asynchronous-routing-engine.html"
          style="color: rgb(21, 169, 206); text-decoration: none;">subset of
          components</a><span class="Apple-converted-space">&nbsp;</span>such as
        the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://camel.apache.org/jetty.html" style="color: rgb(21, 169, 206); text-decoration: none;">Jetty
          component</a>. All other Camel components can still be used, of
        course, but they will cause allocation of a thread for the duration of
        an in-out message exchange. There's also<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#camel-examples"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Examples</span></a><span
          class="Apple-converted-space">&nbsp;</span>that implements both, an
        asynchronous consumer and an asynchronous producer, with the jetty
        component.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        the used Camel component is blocking it might be necessary to use a
        separate<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/dispatchers.html#dispatchers-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">dispatcher</span></a><span
          class="Apple-converted-space">&nbsp;</span>for the producer. The Camel
        processor is invoked by a child actor of the producer and the dispatcher
        can be defined in the deployment section of the configuration. For
        example, if your producer actor has path<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">/user/integration/output</span></code><span
          class="Apple-converted-space">&nbsp;</span>the dispatcher of the child
        actor can be defined with:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">deployment</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="str" style="color: rgb(131, 185, 37);">/</span></span><span class="n"><span
class="str" style="color: rgb(131, 185, 37);">integration</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">/</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">output</span></span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/* {</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">    dispatcher = my-dispatcher</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">  }</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="custom-camel-routes" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Custom_Camel_routes" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Custom
        Camel routes</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        all the examples so far, routes to consumer actors have been
        automatically constructed by akka-camel, when the actor was started.
        Although the default route construction templates, used by akka-camel
        internally, are sufficient for most use cases, some applications may
        require more specialized routes to actors. The akka-camel module
        provides two mechanisms for customizing routes to actors, which will be
        explained in this section. These are:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Usage of<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#id12"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Akka
              Camel components</span></a><span class="Apple-converted-space">&nbsp;</span>to
          access actors. Any Camel route can use these components to access Akka
          actors.</li>
        <li style="line-height: 18px;"><a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#camel-intercepting-route-construction"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Intercepting
              route construction</span></a><span class="Apple-converted-space">&nbsp;</span>to
          actors. This option gives you the ability to change routes that have
          already been added to Camel. Consumer actors have a hook into the
          route definition process which can be used to change the route.</li>
      </ul>
      <div class="section" id="akka-camel-components"><span id="id12"></span>
        <h3 id="Akka_Camel_components" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Akka
          Camel components</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
          actors can be accessed from Camel routes using the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/internal/component/ActorComponent.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">actor</a><span
            class="Apple-converted-space">&nbsp;</span>Camel component. This
          component can be used to access any Akka actor (not only consumer
          actors) from Camel routes, as described in the following sections.</p>
      </div>
      <div class="section" id="access-to-actors"><span id="id13"></span>
        <h3 id="Access_to_actors" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Access
          to actors</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
          access actors from custom Camel routes, the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-camel/src/main/scala/akka/camel/internal/component/ActorComponent.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">actor</a><span
            class="Apple-converted-space">&nbsp;</span>Camel component should be
          used. It fully supports Camel's<a class="reference external" href="http://camel.apache.org/asynchronous-routing-engine.html"
            style="color: rgb(21, 169, 206); text-decoration: none;">asynchronous
            routing engine</a>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          component accepts the following endpoint URI format:</p>
        <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
          <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">[&lt;actor-path&gt;]?&lt;options&gt;</span></code></li>
        </ul>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">where<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">&lt;actor-path&gt;</span></code><span
            class="Apple-converted-space">&nbsp;</span>is the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorPath</span></code><span
            class="Apple-converted-space">&nbsp;</span>to the actor. The<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">&lt;options&gt;</span></code><span
            class="Apple-converted-space">&nbsp;</span>are name-value pairs
          separated by<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">&amp;</span></code><span
            class="Apple-converted-space">&nbsp;</span>(i.e.<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">name1=value1&amp;name2=value2&amp;...</span></code>).</p>
        <div class="section" id="uri-options">
          <h4 id="URI_options" style="margin: 0px; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; line-height: 18px; font-size: 16px; padding-top: 6px;">URI
            options</h4>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
            following URI options are supported:</p>
          <table class="docutils" style="max-width: 100%; border-collapse: collapse; border-spacing: 0px;"
            border="1">
            <colgroup><col width="18%"><col width="13%"><col width="12%"><col width="57%"></colgroup>
            <thead valign="bottom">
              <tr class="row-odd">
                <th class="head">Name</th>
                <th class="head">Type</th>
                <th class="head">Default</th>
                <th class="head">Description</th>
              </tr>
            </thead>
            <tbody valign="top">
              <tr class="row-even">
                <td>replyTimeout</td>
                <td>Duration</td>
                <td>false</td>
                <td>
                  <p class="first" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
                    reply timeout, specified in the same way that you use the
                    duration in akka, for instance<span class="Apple-converted-space">&nbsp;</span><code
                      class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                        class="pre" style="color: rgb(11, 85, 103);">10</span><span
                        class="Apple-converted-space">&nbsp;</span><span class="pre"
                        style="color: rgb(11, 85, 103);">seconds</span></code><span
                      class="Apple-converted-space">&nbsp;</span>except that in
                    the url it is handy to use a + between the amount and the
                    unit, like for example<span class="Apple-converted-space">&nbsp;</span><code
                      class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                        class="pre" style="color: rgb(11, 85, 103);">200+millis</span></code></p>
                  <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See
                    also<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
                      href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#camel-timeout"
                      style="color: rgb(21, 169, 206); text-decoration: none;"><span
                        class="std std-ref">Consumer timeout</span></a>.</p>
                </td>
              </tr>
              <tr class="row-odd">
                <td>autoAck</td>
                <td>Boolean</td>
                <td>true</td>
                <td>
                  <p class="first" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
                    set to true, in-only message exchanges are auto-acknowledged
                    when the message is added to the actor's mailbox. If set to
                    false, actors must acknowledge the receipt of the message.</p>
                  <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See
                    also<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
                      href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#camel-acknowledgements"
                      style="color: rgb(21, 169, 206); text-decoration: none;"><span
                        class="std std-ref">Delivery acknowledgements</span></a>.</p>
                </td>
              </tr>
            </tbody>
          </table>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here's
            an actor endpoint URI example containing an actor path:</p>
          <div class="highlight-scala">
            <div class="highlight" style="background: rgb(240, 240, 240);">
              <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="com" style="color: rgb(147, 161, 161);">//</span></span><span class="n"><span
class="com" style="color: rgb(147, 161, 161);">some</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">-</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">/</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">user</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">/</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">myconsumer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">?</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">autoAck</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">=</span></span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">false</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">&amp;</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">replyTimeout</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="com" style="color: rgb(147, 161, 161);">=</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="com" style="color: rgb(147, 161, 161);">100</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="com" style="color: rgb(147, 161, 161);">+</span></span><span
class="n"><span class="com" style="color: rgb(147, 161, 161);">millis</span></span></li></ol></pre>
            </div>
          </div>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
            the following example, a custom route to an actor is created, using
            the actor's path. the Akka camel package contains an implicit<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">toActorRouteDefinition</span></code><span
              class="Apple-converted-space">&nbsp;</span>that allows for a route
            to reference an<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">ActorRef</span></code><span
              class="Apple-converted-space">&nbsp;</span>directly as shown in
            the below example, The route starts from a<span class="Apple-converted-space">&nbsp;</span><a
              class="reference external" href="http://www.eclipse.org/jetty/" style="color: rgb(21, 169, 206); text-decoration: none;">Jetty</a><span
              class="Apple-converted-space">&nbsp;</span>endpoint and ends at
            the target actor.</p>
          <div class="highlight-scala">
            <div class="highlight" style="background: rgb(240, 240, 240);">
              <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelExtension</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">org</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">apache</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">builder</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">RouteBuilder</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Responder</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sender</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mapBody</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">body</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"received %s"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">format</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">body</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">})</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CustomRouteBuilder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responder</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">RouteBuilder</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">configure</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">from</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"jetty:http://localhost:8877/camel/custom"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">to</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">responder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"some-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">camel</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelExtension</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responder</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Responder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">name</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"TestResponder"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">camel</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">context</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">addRoutes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CustomRouteBuilder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responder</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li></ol></pre>
            </div>
          </div>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
            a message is received on the jetty endpoint, it is routed to the
            Responder actor, which in return replies back to the client of the
            HTTP request.</p>
        </div>
      </div>
      <div class="section" id="intercepting-route-construction"><span id="camel-intercepting-route-construction"></span>
        <h3 id="Intercepting_route_construction" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Intercepting
          route construction</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          previous section,<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#id12" style="color: rgb(21, 169, 206); text-decoration: none;"><span
              class="std std-ref">Akka Camel components</span></a>, explained
          how to setup a route to an actor manually. It was the application's
          responsibility to define the route and add it to the current
          CamelContext. This section explains a more convenient way to define
          custom routes: akka-camel is still setting up the routes to consumer
          actors (and adds these routes to the current CamelContext) but
          applications can define extensions to these routes. Extensions can be
          defined with Camel's<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://camel.apache.org/dsl.html" style="color: rgb(21, 169, 206); text-decoration: none;">Java
            DSL</a><span class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://camel.apache.org/scala-dsl.html"
            style="color: rgb(21, 169, 206); text-decoration: none;">Scala DSL</a>.
          For example, an extension could be a custom error handler that
          redelivers messages from an endpoint to an actor's bounded mailbox
          when the mailbox was full.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          following examples demonstrate how to extend a route to a consumer
          actor for handling exceptions thrown by that actor.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">org</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">apache</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">builder</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Builder</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">org</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">apache</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">camel</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">RouteDefinition</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ErrorThrowingConsumer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">endpointUri</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Consumer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">CamelMessage</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">throw</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Exception</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"error: %s"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">format</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">msg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">body</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">onRouteDefinition</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">rd</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">rd</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">onException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">classOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Exception</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]).</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">handled</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">transform</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Builder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">exceptionMessage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">end</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preRestart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">reason</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Throwable</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">message</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Any</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sender</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Failure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">reason</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          above ErrorThrowingConsumer sends the Failure back to the sender in
          preRestart because the Exception that is thrown in the actor would
          otherwise just crash the actor, by default the actor would be
          restarted, and the response would never reach the client of the
          Consumer.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          akka-camel module creates a RouteDefinition instance by calling
          from(endpointUri) on a Camel RouteBuilder (where endpointUri is the
          endpoint URI of the consumer actor) and passes that instance as
          argument to the route definition handler *). The route definition
          handler then extends the route and returns a ProcessorDefinition (in
          the above example, the ProcessorDefinition returned by the end method.
          See the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="https://svn.apache.org/repos/asf/camel/tags/camel-2.8.0/camel-core/src/main/java/org/apache/camel/model/"
            style="color: rgb(21, 169, 206); text-decoration: none;">org.apache.camel.model</a><span
            class="Apple-converted-space">&nbsp;</span>package for details).
          After executing the route definition handler, akka-camel finally calls
          a to(targetActorUri) on the returned ProcessorDefinition to complete
          the route to the consumer actor (where targetActorUri is the actor
          component URI as described in<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#access-to-actors"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Access
              to actors</span></a>). If the actor cannot be found, a<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">ActorNotRegisteredException</cite><span
            class="Apple-converted-space">&nbsp;</span>is thrown.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">*)
          Before passing the RouteDefinition instance to the route definition
          handler, akka-camel may make some further modifications to it.</p>
      </div>
    </div>
    <div class="section" id="examples" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="camel-examples"></span>
      <h2 id="Examples" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Examples</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/platform/getstarted" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          Activator</a><span class="Apple-converted-space">&nbsp;</span>tutorial
        named<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.lightbend.com/activator/template/akka-sample-camel-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">Akka Camel
          Samples with Scala</a><span class="Apple-converted-space">&nbsp;</span>contains
        3 samples:</p>
      <blockquote style="padding: 0px 0px 0px 15px; margin: 0px 0px 18px; border-left-width: 5px; border-left-style: solid; border-left-color: rgb(238, 238, 238);">
        <div>
          <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">Asynchronous routing and
              transformation - This example demonstrates how to implement
              consumer and producer actors that support<span class="Apple-converted-space">&nbsp;</span><a
                class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/camel.html#camel-asynchronous-routing"
                style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Asynchronous
                  routing</span></a><span class="Apple-converted-space">&nbsp;</span>with
              their Camel endpoints.</li>
            <li style="line-height: 18px;">Custom Camel route - Demonstrates the
              combined usage of a<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Producer</span></code><span
                class="Apple-converted-space">&nbsp;</span>and a<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Consumer</span></code><span
                class="Apple-converted-space">&nbsp;</span>actor as well as the
              inclusion of a custom Camel route.</li>
            <li style="line-height: 18px;">Quartz Scheduler Example - Showing
              how simple is to implement a cron-style scheduler by using the
              Camel Quartz component</li>
          </ul>
        </div>
      </blockquote>
    </div>
    <div class="section" id="configuration" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Configuration" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuration</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are several configuration properties for the Camel module, please refer
        to the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/general/configuration.html#config-akka-camel"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">reference
            configuration</span></a>.</p>
    </div>
    <div class="section" id="additional-resources" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Additional_Resources" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Additional
        Resources</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        an introduction to akka-camel 2, see also the Peter Gabryanczyk's talk<span
          class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://skillsmatter.com/podcast/scala/akka-2-x" style="color: rgb(21, 169, 206); text-decoration: none;">Migrating
          akka-camel module to Akka 2.x</a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        an introduction to akka-camel 1, see also the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://www.manning.com/ibsen/appEsample.pdf"
          style="color: rgb(21, 169, 206); text-decoration: none;">Appendix E -
          Akka and Camel</a><span class="Apple-converted-space">&nbsp;</span>(pdf)
        of the book<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://www.manning.com/ibsen/" style="color: rgb(21, 169, 206); text-decoration: none;">Camel
          in Action</a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Other,
        more advanced external articles (for version 1) are:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><a class="reference external" href="http://krasserm.blogspot.com/2011/02/akka-consumer-actors-new-features-and.html"
            style="color: rgb(21, 169, 206); text-decoration: none;">Akka
            Consumer Actors: New Features and Best Practices</a></li>
        <li style="line-height: 18px;"><a class="reference external" href="http://krasserm.blogspot.com/2011/02/akka-producer-actor-new-features-and.html"
            style="color: rgb(21, 169, 206); text-decoration: none;">Akka
            Producer Actors: New Features and Best Practices</a></li>
      </ul>
    </div>
  </body>
</html>
