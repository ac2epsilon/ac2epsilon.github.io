<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>AkkaHttp - Переклад українською: Арсеній Чеботарьов Київ 2016</title>
  </head>
  <body>
    <address style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 10px; line-height: 12px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: color: #cc9933;;">
      <span style="font-style: italic;">Переклад українською - <a href="mailto:ac2epsilon@gmail.com">Арсеній
          Чеботарьов</a> - Ніжин 2016</span></address>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP</h1>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Вступ</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Модулі&nbsp;
      Akka HTTP реалізують повну серверну та клієнтську сторону стеку HTTP,
      зверху на&nbsp;<span class="Apple-converted-space"></span><em style="font-style: italic;">akka-actor</em><span
        class="Apple-converted-space"> та</span><span class="Apple-converted-space">
      </span><em style="font-style: italic;">akka-stream</em>. Це не є веб
      фреймворком, але скоріше більш загальним тулкітом, що провадить та
      споживає базовані на HTTP сервіси. Доки взаємодія з переглядачем є,
      звичайно, також в полі зору, це не є первинним фокусом Akka HTTP.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP слідує скоріше відкритому дизайну, та багато разів пропонує різні
      рівні API щоб "робити ті самі речі". Вам залишається аборати рівень
      абстракції API, що найбільш підходить до вашого застосування. Це означає,
      що якщо ви маєте труднощі в досяганні мети через високорівневі API, є
      гарний шанс, що ви зможете зробити це за допомогою низькорівневих API, що
      пропонують більш гнучкості, але можуть вимагати, щоб ви писали більше коду
      застосування.&nbsp;</p>
    <div class="section" id="philosophy" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Philosophy" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Філософія</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP розроблявся з ясним фокусом на провадженні інструментів для
        побудови інтеграційних шарів, скоріше, ніж ядер застовування. Як такий,
        він розглядає себе як сюїту бібліотек, скоріше, ніж фрейморк.&nbsp;</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Фреймворк,
        як ми про нього думаємо, дає нам “рамку”, в якій ви будуєте своє застосування.
        Він іде з багатьма рішеннями, що прийняті та покладені в його основу,
        включаючи структури підтримки, що дозволяють вам починати та швидко
        доставляти результати. В цьому сенсі фреймворк як скелет, на який в одягаєте
        “м'ясо” вашого застосування, щоб воно ожило. Як такі, фреймворки краще
        роблять, якщо ви оберети їх, перед тим, як розпочнете розробку
        застосування, та намагатиметесь пристати до “способй робити справи”
        фреймворка по мірі просування.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Наприклад,
        якщо ви будуєте веб застосування з фронтендом в переглядачі, має сенс
        обрати веб фреймворк, та побудувати ваше застовування зверху нього, бо
        “ядро” застосування є взаємодія переглядача з вашим кодом на веб
        сервері. Створювачі фреймворка мають один "перевірений" спосіб
        розробляти такі застосування, та дозволяють вам “заповнити проміжки” в
        більш або менш гнучкому “заблоні застосування”. Будучи в змозі
        покладатись не архитектуру кращих практик, як ця, може бути добрим
        надбанням для того, щоб швидко робити речі.&nbsp;</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Однак,
        якщо ваше застосування не є в основі веб застосуванням, оскільки в його
        основі не взаємодія з переглядачем, але деяка спеціалізована, можливо
        складна бізнес послуга, та ви просто намагаєтесь під'єднати її до світу
        через інтерфейс&nbsp; REST/HTTP, веб фреймворк може бути не тим, що вам
        потрібно. В цьому випадку архитектура застосування повинна диктуватись
        тим, що має сенс для основи, а не для прошарку інтерфейсу. Також ви,
        можливо, не отримаєте вигоди від можливо існуючих компонент фреймворка
        для перегладача, як шаблони переглядів, керування ресурсами, генерація,
        маніпуляція та мініфікація JavaScript- та CSS, підтримка локалізації,
        підтримка AJAX, тощо.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP був розроблений спеціально як "не-фреймворк”, не тому, що нам не
        подобаються фреймворки, але для випадків, коли фреймворк не є правильним
        вибором. Akka HTTP створений для побудови інтеграційний рівней на
        основі&nbsp; HTTP, та як такий намагається “стояти осторонь”. Таким
        чином, ви зазвичай не будуватимете ваше застосування “зверху” Akka HTTP,
        але ви будуватимете ваше застосування зверху того, що має сенс, та
        використовувати Akka HTTP
        просто для merely потреб HTTP інтеграції.</p>
    </div>
    <div class="section" id="using-akka-http" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Using_Akka_HTTP" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Використання
        Akka HTTP</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP провадиться як окремий файл jar, щоб використати його
        переконайтесь, що включили наступну залежність:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"com.typesafe.akka"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka-http-experimental"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">%</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"2.4.10"</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Майте
        на увазі, що&nbsp;<span class="Apple-converted-space"> </span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-http</span></code><span
          class="Apple-converted-space"> іде в двох модулях</span>:<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-http-experimental</span></code><span
          class="Apple-converted-space"> та</span><span class="Apple-converted-space">
        </span><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-http-core</span></code>.
        Оскільки&nbsp;<span class="Apple-converted-space"></span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-http-experimental</span></code><span
          class="Apple-converted-space"> залежить від&nbsp;</span><span class="Apple-converted-space"></span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-http-core</span></code><span
          class="Apple-converted-space">, вам не треба включати останній явно.
          Вам все ще треба зробити це, в випадку, коли ви повністю покладаєтесь
          на низькорівневий </span>API.</p>
    </div>
    <div class="section" id="routing-dsl-for-http-servers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Routing_DSL_for_HTTP_servers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">DSL
        маршрутизації для HTTP серверів</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Високорівнеий
        API маршрутизації Akka HTTP провадить DSL для опису HTTP "маршрутів", та
        того, як вони мають бути оброблені. Кожний маршрут складається з одного
        або більше рівнів&nbsp;<span class="Apple-converted-space"></span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Directive</span></code>,
        що направляє до обробки одного специфічного типу запитів.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Наприклад,
        один маршрут може починатись з порівняння&nbsp;<span class="Apple-converted-space"></span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">path</span></code><span
          class="Apple-converted-space"> запиту</span>, співпадаючи, якщо це
        "/hello", та потім напрявляти його далі до обробки тільки запитів HTTP<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">get</span></code>, та
        потім&nbsp;<span class="Apple-converted-space"></span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">complete</span></code><span
          class="Apple-converted-space"> їх за допомогою рядкового літерала, що
          буде надісланий назад як </span>HTTP OK з рядком в якості тіла
        відповіді.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Трансформація
        тіла запиту та відповіді між форматами на дроті, та об'єктами, що можуть
        використовуватись в вашому застосуванні, виконується окремо від
        декларацій маршрутизації, в маршаллерах, що підтягуються неявно, з
        використанням шаблону "магніта". Це означає, що ви можете&nbsp;<span class="Apple-converted-space"></span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">complete</span></code><span
          class="Apple-converted-space"> запит з любим типом об'єкта, доти, докі
          є неявний маршаллер, доступний в полі зору.&nbsp;</span></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Є
        маршаллери по замовчанню для простих об'єктів, як String або ByteString,
        та ви можете визначити ваші власні, наприклад, для&nbsp; JSON.
        Додатковий модуль провадить серіалізацію JSON з використанням бібліотеки
        spray-json (дивіться<span class="Apple-converted-space"> </span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/common/json-support.html#akka-http-spray-json"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Підтримка
            JSON</span></a><span class="Apple-converted-space"> </span>щодо
        деталей).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><span
          class="Apple-converted-space"></span><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Route</span></code><span
          class="Apple-converted-space"> створюється з використанням </span>Route
        DSL, та потім "прив'язується до порта", щоб почати обслуговувати запити
        HTTP:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebServer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"my-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// потрібне для майбутніх flatMap/onComplete в кінці</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"hello"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/html(UTF-8)`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"&lt;h1&gt;Скажи привіт akka-http&lt;/h1&gt;"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">println</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Сервер онлайн на http://localhost:8080/\nНатисність RETURN щоб зупинити..."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">readLine</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// нехай робить, доки користувач не натисне клавішу</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">flatMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unbind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// перемикнути відв'язку від порта</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// та завершення, коли все зроблене</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Загальний
        випадок використання є відповідь на запит з використанням об'єктної моделі,
        яку маршаллер перевтроює на JSON. В цьому випадку показані для окремі
        маршрути. Перший запитує асинхронну базу даних та маршалює отриману <code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Future[Option[Item]]</span></code><span
          class="Apple-converted-space"> в відповідь </span>JSON. Другий
        розмаршалить&nbsp;<span class="Apple-converted-space"></span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Order</span></code><span
          class="Apple-converted-space"> з вхідного потоку, та зберіже його в
          базі даних, та відповість </span>OK, коли закінчить.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Done</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Route</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">marshallers</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">sprayjson</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">SprayJsonSupport</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">spray</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">json</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">DefaultJsonProtocol</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebServer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// прикладна модель</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">name</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">id</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Long</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Order</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">items</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">List</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// формати для маршалювання в оба боки</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">itemFormat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonFormat2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">orderFormat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonFormat1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Order</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// (несправжня) api асинхронних запитів до бази даних</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">fetchItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">itemId</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Long</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">saveOrder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">order</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Order</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Done</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// треба для виконання маршрутів</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// потрібне для найбутнього map/flatmap в кінці</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Route</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">get</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">pathPrefix</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"item"</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">/</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">LongNumber</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">id</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// може не бути елемента для наданого id</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">maybeItem</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">fetchItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">id</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onSuccess</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">maybeItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Some</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">item</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">item</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span class="pln"
style="color: rgb(89, 80, 80);">       </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">~</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">post</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"create-order"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">as</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Order</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">order</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">              </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">saved</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Done</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">saveOrder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">order</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">              </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">saved</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">done</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">                </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"order created"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">              </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">println</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Server online at http://localhost:8080/\nPress RETURN to stop..."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">readLine</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// нехай робить, доки користувач не натисне на клавішу</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">flatMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unbind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// перемикнути відключення від порта </span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// та завершити, коли все зроблено</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Логіка
        для маршалювання та розмаршалювання JSON в цьому прикладі провадиться
        через бібліотеку "spray-json" (деталі, як її використовувати, тут:<span
          class="Apple-converted-space"> </span><a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/json-support.html#akka-http-spray-json"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Підтримка
            JSON</span></a>).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Одна
        з сильних сторін Akka HTTP в тому, що потокові дані в його серці
        означають що обоє, тіло запита та відповіді можуть ідти потоком через
        сервер, досягаючи сталого розходу пам'яті, навіть для дуже великих
        запитів або відповідей. Потокові відповіді будуть під зворотнім тиском від
        віддалених клієнтів, так що сервер не буде проштовхувати дані швидше,
        ніж клієнт може їх обробляти. Потокові запити означають, що сервер
        вирішує, як швидко віддалений клієнт може проштовхувати дані тіла
        запита.&nbsp;</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Ось
        приклад, надсилає потік випадкових чисел, доти, докі клієнт сприймає їх:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Random</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebServer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// потрібне для майбутнього flatMap/onComplete в кінці</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// потоки повторно використовувані, так що ми можемо їх тут</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// та використовувати їх для кожного запита</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">numbers</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">fromIterator</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Iterator</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">continually</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Random</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">nextInt</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"random"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">              </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/plain(UTF-8)`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">              </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// перетворює кожне число на фрагмент даних </span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">              </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">numbers</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">map</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">n</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"</span></span><span class="si" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">$n</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">\n"</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">            </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">println</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Сервер онлайн на http://localhost:8080/\nНатисніть RETURN щоб зупинити..."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">readLine</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// нехай робить, доки користувач не натисне клавішу</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">flatMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unbind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// перемикнути від'єднання від порта</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// та завершити коли все скінчиться</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Під'єднання
        до повільного HTTP клієнта викличе зворотній тиск, так що наступне випадкове
        число продукується на запит з сталим використанням пам'яті&nbsp; на
        сервері. Це можна побачити з використанням curl та обмеженням швидкості
        <span class="Apple-converted-space"></span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">curl</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">--limit-rate</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">50b</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">127.0.0.1:8080/random</span></code></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Маршрутизація
        Akka HTTP просто взаємодіє з акторами. В цьому прикладі один маршрут
        дозволяє робити ставки в стилі зробив-та-забув, тоді як другий мість взаємодію
        з актором. Отриманиа відповідь представляється як json, та повертається,
        коли з'являється відповідь від актора.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">marshallers</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">sprayjson</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">SprayJsonSupport</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">pattern</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ask</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Timeout</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">spray</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">json</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">DefaultJsonProtocol</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">duration</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebServer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Bid</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">userId</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">bid</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GetBids</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Bids</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bids</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">List</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Bid</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// це з spray-json</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bidFormat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonFormat2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Bid</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bidsFormat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonFormat1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Bids</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// потрібне для майбутнього flatMap/onComplete в кінці</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">auction</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Auction</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"auction"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"auction"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">put</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">parameter</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"bid"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">as</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"user"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bid</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">user</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// розмістити ставку в дусі зробив-і-забув</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">auction</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">!</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Bid</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">user</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bid</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">((</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Accepted</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"bid placed"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Timeout</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// запит актора для поточного стану аукціона</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bids</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Bids</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">auction</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">?</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">GetBids</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mapTo</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Bids</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bids</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">println</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Server online at http://localhost:8080/\nPress RETURN to stop..."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">readLine</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// нехай виконується, доки корстувач не натисне клавішу</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">flatMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unbind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// trigger unbinding from the port</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// and shutdown when done</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Знову,
        логіка маршалювання та розмаршалювання JSON в прикладі провадиться через
        бібліотеку "spray-json" (деталі на сторінці <span class="Apple-converted-space"></span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/json-support.html#akka-http-spray-json"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Підтримка
            JSON)</span></a></p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Читайте
        більше щодо деталей по високорівневому API в розділі&nbsp;<span class="Apple-converted-space"></span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/index.html#http-high-level-server-side-api"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Високорівневий
            API на стороні сервера</span></a>.</p>
    </div>
    <div class="section" id="low-level-http-server-apis" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Low-level_HTTP_server_APIs" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Низькорівневі
        серверні HTTP API</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Низькорівневі
        Akka HTTP API сервера дозволяють обробляти з'єднання або окремі запити
        через прийняття<span class="Apple-converted-space"> </span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code>,
        та відповіді на них за допомогою&nbsp;<span class="Apple-converted-space"></span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>.
        Це провадиться модулем<span class="Apple-converted-space"> </span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-http-core</span></code>.
        Доступні API для обробки таких запитів-відповідей як викликів функцій та
        як&nbsp;<span class="Apple-converted-space"></span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow[HttpRequest,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">HttpResponse,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">_]</span></code>.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">HttpMethods</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebServer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// needed for the future map/flatmap in the end</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">requestHandler</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">GET</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Uri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/"</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">),</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/html(UTF-8)`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"&lt;html&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">GET</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Uri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/ping"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"PONG!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">GET</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Uri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/crash"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sys</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">error</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"BOOM!"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">r</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">r</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">discardEntityBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// important to drain incoming HTTP Entity stream</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">404</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entity</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Unknown resource!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandleSync</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">requestHandler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">println</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Server online at http://localhost:8080/\nPress RETURN to stop..."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">readLine</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// let it run until user presses return</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">flatMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unbind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// trigger unbinding from the port</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// and shutdown when done</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Читайте
        більше деталей щодо низькорівневого API в розділі&nbsp;<span class="Apple-converted-space"></span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/low-level-server-side-api.html#http-low-level-server-side-api"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">низкорівневий
            серверний API</span></a>.</p>
    </div>
    <div class="section" id="http-client-api" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="HTTP_client_API" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Клієнтський
        HTTP API</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Клієнтський
        API провадить методи для виклику сервера HTTP з використанням тих самих
        абстракцій <span class="Apple-converted-space"></span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
          class="Apple-converted-space"> та&nbsp;</span><span class="Apple-converted-space"></span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>,
        що використовує Akka HTTP сервер, але з додаванням концепції пулів
        з'єднань, щоб дозволити декілька запитів до одного сервера, що будуть
        оброблятись більш продуктивно, через повторне використання TCP з'єднань
        до сервера.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Наведемо
        простий запит:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Failure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Success</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responseFuture</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">singleRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"http://akka.io"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Читайте
        більше щодо деталей клієнтського API в розділі&nbsp;<span class="Apple-converted-space"></span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/index.html#http-client-side"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Споживання
            базованих на&nbsp; HTTP сервісів (з боку клієнта)</span></a>.</p>
    </div>
    <div class="section" id="the-modules-that-make-up-akka-http" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="The_modules_that_make_up_Akka_HTTP" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Модулі,
        що складають Akka HTTP</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP структурований з декількох модулів:</p>
      <dl class="docutils" style="margin-bottom: 18px;">
        <dt style="line-height: 18px; font-weight: bold;">akka-http</dt>
        <dd style="line-height: 18px; margin-left: 9px;">Високорівнева
          функціональність, як (роз)маршелизація, (де)компрессія, так само, як
          потужний DSL для визначення базованого на HTTP API на стороні клієнта.
          Це рекомендований спосіб писати HTTP сервери за допомогою Akka HTTP.
          Деталі можуть бути знайдені в розділі&nbsp;<span class="Apple-converted-space"></span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/index.html#http-high-level-server-side-api"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Високорівненвий
              серверний API</span></a></dd>
        <dt style="line-height: 18px; font-weight: bold;">akka-http-core</dt>
        <dd style="line-height: 18px; margin-left: 9px;">Повний. здебільшого
          низькорівневий, серверн та клієнтська реалізація HTTP (включаючи
          WebSockets), деталі можуть бути знайдені в розділах&nbsp;<span class="Apple-converted-space"></span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/low-level-server-side-api.html#http-low-level-server-side-api"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Низькорівневий
              серверний API</span></a><span class="Apple-converted-space"> </span>та&nbsp;<span
            class="Apple-converted-space"></span><a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/index.html#http-client-side"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Споживання
              базованих на HTTP сервісів (на стороні клієнта)</span></a></dd>
        <dt style="line-height: 18px; font-weight: bold;">akka-http-testkit</dt>
        <dd style="line-height: 18px; margin-left: 9px;">Тестовий інструментарій
          та утіліти для перевірки послуг реалізації сервера&nbsp;</dd>
        <dt style="line-height: 18px; font-weight: bold;">akka-http-spray-json</dt>
        <dd style="line-height: 18px; margin-left: 9px;">Попередньо визначений
          зкліюючий код для (де)серіалізації власних типів з/на JSON за
          допомогою<span class="Apple-converted-space"> </span><a class="reference external"
            href="https://github.com/spray/spray-json" style="color: rgb(21, 169, 206); text-decoration: none;">spray-json</a><span
            class="Apple-converted-space"> , деталі можуть знайдені тут</span>:<span
            class="Apple-converted-space"> </span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/http/common/json-support.html#akka-http-spray-json"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Підтримка
              JSON</span></a></dd>
        <dt style="line-height: 18px; font-weight: bold;">akka-http-xml</dt>
        <dd style="line-height: 18px; margin-left: 9px;">Попередньо визначений
          зкліюючий код для (де)серіалізації власних типів з/на XML за допомогою<span
            class="Apple-converted-space"> </span><a class="reference external"
            href="https://github.com/scala/scala-xml" style="color: rgb(21, 169, 206); text-decoration: none;">scala-xml</a><span
            class="Apple-converted-space">, деталі можуть бути тут</span>:<span
            class="Apple-converted-space"> </span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/http/common/xml-support.html#akka-http-xml-marshalling"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Підтримка
              XML</span></a></dd>
      </dl>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Конфігурація</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Точно
      як любий інший модуль Akka, модуль Akka HTTP конфігурується через&nbsp;<span
        class="Apple-converted-space"></span><a class="reference external" href="https://github.com/typesafehub/config"
        style="color: rgb(21, 169, 206); text-decoration: none;">Typesafe Config</a>.
      Звичайно це означає, що ви провадите&nbsp;<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code><span
        class="Apple-converted-space">, що містить всі специфічні до
        застосування налаштування, що відрізняються від значень по замовчанню,
        що провадяться через референсними файлами конфігурації з операмих
        модулів </span>Akka.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Існує
      релевантні значення конфігурації по замовчанню для модулів Akka HTTP.</p>
    <div class="section" id="akka-http-core" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="akka-http-core" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">akka-http-core</h2>
      <div class="highlight-none">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="com" style="color: rgb(147, 161, 161);">########################################</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># akka-http-core Референсний файл конфігурації #</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);">########################################</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># Це референсний файл конфігурації, що містить всі налаштування по замовчанню.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># Робіть ваші редагування/перевизначення в вашому application.conf.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  server </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Значення по замовчанню заголовка `Server` для продукування, якщо немає</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># явного заголовка `Server`, що був включений в відповідь.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Якщо значення порожнє, та немає включеного заголовка в запиті, </span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># заголовка `Server` взагалі не буде.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    server</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> akka</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">/</span><span
class="pln" style="color: rgb(89, 80, 80);">$</span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">version</span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Час, після якого простоюване з'єднання буде автоматично зачинене.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Встановить в `infinite` для повного вимкнення таймаутів про простою з'єднання.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    idle</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">60</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Визначає період таймауту по замовчанню, через який застосування </span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># продукує HttpResponse для кожного окремого HttpRequest, що він отримав.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Таймаут починаєтся виконання з *кінця* запиту, що був отриманий,</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># так що навіть потенційно довгі завантаження можуть мати короткий таймаут.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Встановіть в `infinite` щоб повністю відключить перевірку таймаута запита.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Якщо це налаштування не є `infinite`, HTTP сервер приєднує заголовок</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `Timeout-Access` до запита, що дозволяє програмну кастомизацію </span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># періода таймаута, та таймаута запита для кожного запита індивідуально.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    request</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">20</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Період часу, на протязі якого прив'язка TCP має бути завершена.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    bind</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">1s</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Максимальне число паралельно прийнятих з'єднань при використанні методів </span><span
class="com" style="color: rgb(147, 161, 161);">`Http().bindAndHandle`.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># This setting doesn't apply to the `Http().bind` method which will still</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># deliver an unlimited backpressured stream of incoming connections.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">connections </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">1024</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The maximum number of requests that are accepted (and dispatched to</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># the application) on one single connection before the first request</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># has to be completed.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Incoming requests that would cause the pipelining limit to be exceeded</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># are not read from the connections socket so as to build up "back-pressure"</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># to the client via TCP flow control.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># A setting of 1 disables HTTP pipelining, since only one request per</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># connection can be "open" (i.e. being processed by the application) at any</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># time. Set to higher values to enable HTTP pipelining.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># This value must be &gt; 0 and &lt;= 1024.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    pipelining</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">limit </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">16</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables the addition of a `Remote-Address` header</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># holding the clients (remote) IP address.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    remote</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">address</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> off</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables the addition of a `Raw-Request-URI` header holding the</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># original raw request URI as the client has sent it.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    raw</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">request</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">uri</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> off</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables automatic handling of HEAD requests.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># If this setting is enabled the server dispatches HEAD requests as GET</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># requests to the application and automatically strips off all message</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># bodies from outgoing responses.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Note that, even when this setting is off the server will never send</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># out message bodies on responses to HEAD requests.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    transparent</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">head</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">requests </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables the returning of more detailed error messages to</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># the client in the error response.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Should be disabled for browser-facing APIs due to the risk of XSS attacks</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># and (probably) enabled for internal or non-browser APIs.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Note that akka-http will always produce log messages containing the full</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># error details.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    verbose</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">error</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">messages </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> off</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The initial size of the buffer to render the response headers in.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Can be used for fine-tuning response rendering performance but probably</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># doesn't have to be fiddled with in most applications.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    response</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">hint </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">512</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The requested maximum length of the queue of incoming connections.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># If the server is busy and the backlog is full the OS will start dropping</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># SYN-packets and connection attempts may fail. Note, that the backlog</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># size is usually only a maximum size hint for the OS and the OS can</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># restrict the number further based on global limits.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    backlog </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">100</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># If this setting is empty the server only accepts requests that carry a</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># non-empty `Host` header. Otherwise it responds with `400 Bad Request`.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Set to a non-empty value to be used in lieu of a missing or empty `Host`</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># header to make the server accept such requests.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Note that the server will never accept HTTP/1.1 request without a `Host`</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># header, i.e. this setting only affects HTTP/1.1 requests with an empty</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `Host` header as well as HTTP/1.0 requests.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Examples: `www.spray.io` or `example.com:8080`</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="kwd" style="color: rgb(48, 166, 40);">default</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">host</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">header </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="str" style="color: rgb(131, 185, 37);">""</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Socket options to set for the listening socket. If a setting is left</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># undefined, it will use whatever the default on the system is.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    socket</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">options </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">receive</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">buffer</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">send</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">buffer</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">reuse</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">address </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">traffic</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">class</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">keep</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">alive </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">oob</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="kwd" style="color: rgb(48, 166, 40);">inline</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      tcp</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">no</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">delay </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Modify to tweak parsing settings on the server-side only.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    parsing </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># no overrides by default, see `akka.http.parsing` for default values</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  client </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The default value of the `User-Agent` header to produce if no</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># explicit `User-Agent`-header was included in a request.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># If this value is the empty string and no header was included in</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># the request, no `User-Agent` header will be rendered at all.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    user</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">agent</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> akka</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">/</span><span
class="pln" style="color: rgb(89, 80, 80);">$</span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">version</span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The time period within which the TCP connecting process must be completed.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    connecting</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10s</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The time after which an idle connection will be automatically closed.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Set to `infinite` to completely disable idle timeouts.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    idle</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">60</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The initial size of the buffer to render the request headers in.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Can be used for fine-tuning request rendering performance but probably</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># doesn't have to be fiddled with in most applications.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    request</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">hint </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">512</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Socket options to set for the listening socket. If a setting is left</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># undefined, it will use whatever the default on the system is.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    socket</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">options </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">receive</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">buffer</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">send</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">buffer</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">reuse</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">address </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">traffic</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">class</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">keep</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">alive </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">oob</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="kwd" style="color: rgb(48, 166, 40);">inline</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      tcp</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">no</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">delay </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Modify to tweak parsing settings on the client-side only.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    parsing </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># no overrides by default, see `akka.http.parsing` for default values</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  host</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">connection</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">pool </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The maximum number of parallel connections that a connection pool to a</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># single host endpoint is allowed to establish. Must be greater than zero.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">connections </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">4</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The minimum number of parallel connections that a pool should keep alive ("hot").</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># If the number of connections is falling below the given threshold, new ones are being spawned.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># You can use this setting to build a hot pool of "always on" connections.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Default is 0, meaning there might be no active connection at given moment.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Keep in mind that `min-connections` should be smaller than `max-connections` or equal</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    min</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">connections </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">0</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The maximum number of times failed requests are attempted again,</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># (if the request can be safely retried) before giving up and returning an error.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Set to zero to completely disable request retries.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">retries </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">5</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The maximum number of open requests accepted into the pool across all</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># materializations of any of its client flows.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Protects against (accidentally) overloading a single pool with too many client flow materializations.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Note that with N concurrent materializations the max number of open request in the pool</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># will never exceed N * max-connections * pipelining-limit.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Must be a power of 2 and &gt; 0!</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">open</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">requests </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">32</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The maximum number of requests that are dispatched to the target host in</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># batch-mode across a single connection (HTTP pipelining).</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># A setting of 1 disables HTTP pipelining, since only one request per</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># connection can be "in flight" at any time.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Set to higher values to enable HTTP pipelining.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># This value must be &gt; 0.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># (Note that, independently of this setting, pipelining will never be done</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># on a connection that still has a non-idempotent request in flight.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Before increasing this value, make sure you understand the effects of head-of-line blocking.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Using a connection pool, a request may be issued on a connection where a previous</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># long-running request hasn't finished yet. The response to the pipelined requests may then be stuck</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># behind the response of the long-running previous requests on the server. This may introduce an</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># unwanted "coupling" of run time between otherwise unrelated requests.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># See http://tools.ietf.org/html/rfc7230#section-6.3.2 for more info.)</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    pipelining</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">limit </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">1</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The time after which an idle connection pool (without pending requests)</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># will automatically terminate itself. Set to `infinite` to completely disable idle timeouts.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    idle</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">30</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Modify to tweak client settings for host connection pools only.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># IMPORTANT:</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Please note that this section mirrors `akka.http.client` however is used only for pool-based APIs,</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># such as `Http().superPool` or `Http().singleRequest`.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    client </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># The default value of the `User-Agent` header to produce if no</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># explicit `User-Agent`-header was included in a request.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># If this value is the empty string and no header was included in</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># the request, no `User-Agent` header will be rendered at all.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      user</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">agent</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> akka</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">/</span><span
class="pln" style="color: rgb(89, 80, 80);">$</span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">version</span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># The time period within which the TCP connecting process must be completed.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      connecting</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">10s</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># The time after which an idle connection will be automatically closed.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># Set to `infinite` to completely disable idle timeouts.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      idle</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">timeout </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">60</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># The initial size of the buffer to render the request headers in.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># Can be used for fine-tuning request rendering performance but probably</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># doesn't have to be fiddled with in most applications.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      request</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">hint </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">512</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># The proxy configurations to be used for requests with the specified</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># scheme.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      proxy </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Proxy settings for unencrypted HTTP requests</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Set to 'none' to always connect directly, 'default' to use the system</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># settings as described in http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># or specify the proxy host, port and non proxy hosts as demonstrated</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># in the following example:</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># http {</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);">#   host = myproxy.com</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);">#   port = 8080</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);">#   non-proxy-hosts = ["*.direct-access.net"]</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># }</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        http </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">default</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># Proxy settings for HTTPS requests (currently unsupported)</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        https </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">default</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># Socket options to set for the listening socket. If a setting is left</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># undefined, it will use whatever the default on the system is.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      socket</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">options </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">receive</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">buffer</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">send</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">buffer</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">reuse</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">address </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        so</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">traffic</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">class</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">keep</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">alive </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        tcp</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">oob</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="kwd" style="color: rgb(48, 166, 40);">inline</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        tcp</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">no</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">delay </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">undefined</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);"># IMPORTANT: Please note that this section is replicated in `client` and `server`.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      parsing </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);"># no overrides by default, see `akka.http.parsing` for default values</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Modify to tweak default parsing settings.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># IMPORTANT:</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Please note that this sections settings can be overriden by the corresponding settings in:</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># `akka.http.server.parsing`, `akka.http.client.parsing` or `akka.http.host-connection-pool.client.parsing`.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  parsing </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The limits for the various parts of the HTTP message parser.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">uri</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">length             </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">2k</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">method</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">length          </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">16</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">response</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">reason</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">length </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">64</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">name</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">length     </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">64</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">value</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">length    </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">8k</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">count           </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">64</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">chunk</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">ext</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">length       </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">256</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">chunk</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">size             </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">1m</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Default maximum content length which should not be exceeded by incoming request entities.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Can be changed at runtime (to a higher or lower value) via the `HttpEntity::withSizeLimit` method.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Note that it is not necessarily a problem to set this to a high value as all stream operations</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># are always properly backpressured.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Nevertheless you might want to apply some limit in order to prevent a single client from consuming</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># an excessive amount of server resources.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Set to `infinite` to completely disable entity length checks. (Even then you can still apply one</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># programmatically via `withSizeLimit`.)</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">content</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">length </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">8m</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Sets the strictness mode for parsing request target URIs.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The following values are defined:</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `strict`: RFC3986-compliant URIs are required,</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#     a 400 response is triggered on violations</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `relaxed`: all visible 7-Bit ASCII chars are allowed</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    uri</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">parsing</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">mode </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> strict</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Sets the parsing mode for parsing cookies.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># The following value are defined:</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `rfc6265`: Only RFC6265-compliant cookies are parsed. Surrounding double-quotes are accepted and</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#   automatically removed. Non-compliant cookies are silently discarded.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `raw`: Raw parsing allows any non-control character but ';' to appear in a cookie value. There's no further</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#   post-processing applied, so that the resulting value string may contain any number of whitespace, unicode,</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#   double quotes, or '=' characters at any position.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#   The rules for parsing the cookie name are the same ones from RFC 6265.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    cookie</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">parsing</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">mode </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> rfc6265</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables the logging of warning messages in case an incoming</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># message (request or response) contains an HTTP header which cannot be</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># parsed into its high-level model class due to incompatible syntax.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Note that, independently of this settings, akka-http will accept messages</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># with such headers as long as the message as a whole would still be legal</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># under the HTTP specification even without this header.</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># If a header cannot be parsed into a high-level model instance it will be</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># provided as a `RawHeader`.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># If logging is enabled it is performed with the configured</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `error-logging-verbosity`.</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    illegal</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">warnings </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Configures the verbosity with which message (request or response) parsing</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># errors are written to the application log.</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Supported settings:</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `off`   : no log messages are produced</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `simple`: a condensed single-line message is logged</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `full`  : the full error details (potentially spanning several lines) are logged</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    error</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">logging</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">verbosity </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> full</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Configures the processing mode when encountering illegal characters in</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># header value of response.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Supported mode:</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `error`  : default mode, throw an ParsingException and terminate the processing</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `warn`   : ignore the illegal characters in response header value and log a warning message</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># `ignore` : just ignore the illegal characters in response header value</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    illegal</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">response</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">value</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">processing</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">mode </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> error</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># limits for the number of different values per header type that the</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># header cache will hold</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    header</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">cache </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="kwd" style="color: rgb(48, 166, 40);">default</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">12</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="typ" style="color: rgb(0, 143, 169);">Content</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">MD5 </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">0</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="typ" style="color: rgb(0, 143, 169);">Date</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">0</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="typ" style="color: rgb(0, 143, 169);">If</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Match</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">0</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="typ" style="color: rgb(0, 143, 169);">If</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Modified</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Since</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">0</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="typ" style="color: rgb(0, 143, 169);">If</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="kwd" style="color: rgb(48, 166, 40);">None</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Match</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">0</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="typ" style="color: rgb(0, 143, 169);">If</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Range</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">0</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="typ" style="color: rgb(0, 143, 169);">If</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Unmodified</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Since</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">0</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="typ" style="color: rgb(0, 143, 169);">User</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="typ" style="color: rgb(0, 143, 169);">Agent</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">32</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables inclusion of an Tls-Session-Info header in parsed</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># messages over Tls transports (i.e., HttpRequest on server side and</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);"># HttpResponse on client side).</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    tls</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">session</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">info</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">header </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> off</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="akka-http" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="akka-http" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">akka-http</h2>
      <div class="highlight-none">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="com" style="color: rgb(147, 161, 161);">#######################################</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># akka-http Reference Config File #</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);">#######################################</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);"># This is the reference config file that contains all the default settings.</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="com"
style="color: rgb(147, 161, 161);"># Make your edits/overrides in your application.conf.</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">routing </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables the returning of more detailed error messages to the</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># client in the error response</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Should be disabled for browser-facing APIs due to the risk of XSS attacks</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># and (probably) enabled for internal or non-browser APIs</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># (Note that akka-http will always produce log messages containing the full error details)</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  verbose</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">error</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">messages </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> off</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables ETag and `If-Modified-Since` support for FileAndResourceDirectives</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  file</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="kwd" style="color: rgb(48, 166, 40);">get</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">conditional </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> on</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Enables/disables the rendering of the "rendered by" footer in directory listings</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  render</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">vanity</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">footer </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> yes</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The maximum size between two requested ranges. Ranges with less space in between will be coalesced.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);">#</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># When multiple ranges are requested, a server may coalesce any of the ranges that overlap or that are separated</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># by a gap that is smaller than the overhead of sending multiple parts, regardless of the order in which the</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># corresponding byte-range-spec appeared in the received Range header field. Since the typical overhead between</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># parts of a multipart/byteranges payload is around 80 bytes, depending on the selected representation's</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># media type and the chosen boundary parameter length, it can be less efficient to transfer many small</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># disjoint parts than it is to transfer the entire selected representation.</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  range</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">coalescing</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">threshold </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">80</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The maximum number of allowed ranges per request.</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Requests with more ranges will be rejected due to DOS suspicion.</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  range</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">count</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">limit </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">16</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># The maximum number of bytes per ByteString a decoding directive will produce</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># for an entity data stream.</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  decode</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">max</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">bytes</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">per</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">chunk </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="lit" style="color: rgb(25, 95, 145);">1m</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># Fully qualified config path which holds the dispatcher configuration</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);"># to be used by FlowMaterialiser when creating Actors for IO operations.</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  file</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">-</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> $</span><span
class="pun" style="color: rgb(89, 80, 80);">{</span><span class="pln" style="color: rgb(89, 80, 80);">akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">stream</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">blocking</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">io</span><span
class="pun" style="color: rgb(89, 80, 80);">-</span><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span><span
class="pun" style="color: rgb(89, 80, 80);">}</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        other Akka HTTP modules do not offer any configuration via<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://github.com/typesafehub/config"
          style="color: rgb(21, 169, 206); text-decoration: underline; outline: 0px; outline-offset: -2px;">Typesafe
          Config</a>.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Common
      Abstractions (Client- and Server-Side)</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">HTTP
      and related specifications define a great number of concepts and
      functionality that is not specific to either HTTP's client- or server-side
      since they are meaningful on both end of an HTTP connection. The
      documentation for their counterparts in Akka HTTP lives in this section
      rather than in the ones for the<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/index.html#http-client-side"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Client-Side
          API</span></a>,<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/http/low-level-server-side-api.html#http-low-level-server-side-api"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Low-Level
          Server-Side API</span></a>or<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/index.html#http-high-level-server-side-api"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">High-level
          Server-Side API</span></a>, which are specific to one side only.</p>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">HTTP
      Model</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP model contains a deeply structured, fully immutable, case-class based
      model of all the major HTTP data structures, like HTTP requests, responses
      and common headers. It lives in the<span class="Apple-converted-space">&nbsp;</span><em
        style="font-style: italic;">akka-http-core</em><span class="Apple-converted-space">&nbsp;</span>module
      and forms the basis for most of Akka HTTP's APIs.</p>
    <div class="section" id="overview" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Overview" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Overview</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Since
        akka-http-core provides the central HTTP data structures you will find
        the following import in quite a few places around the code base (and
        probably your own code as well):</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        brings all of the most relevant types in scope, mainly:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>,
          the central message model</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">headers</span></code>,
          the package containing all the predefined HTTP header models and
          supporting types</li>
        <li style="line-height: 18px;">Supporting types like<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Uri</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpMethods</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">MediaTypes</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatusCodes</span></code>,
          etc.</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
        common pattern is that the model of a certain entity is represented by
        an immutable type (class or trait), while the actual instances of the
        entity defined by the HTTP spec live in an accompanying object carrying
        the name of the type plus a trailing plural 's'.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        example:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Defined<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpMethod</span></code><span
            class="Apple-converted-space">&nbsp;</span>instances live in the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpMethods</span></code><span
            class="Apple-converted-space">&nbsp;</span>object.</li>
        <li style="line-height: 18px;">Defined<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpCharset</span></code><span
            class="Apple-converted-space">&nbsp;</span>instances live in the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpCharsets</span></code><span
            class="Apple-converted-space">&nbsp;</span>object.</li>
        <li style="line-height: 18px;">Defined<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpEncoding</span></code><span
            class="Apple-converted-space">&nbsp;</span>instances live in the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpEncodings</span></code><span
            class="Apple-converted-space">&nbsp;</span>object.</li>
        <li style="line-height: 18px;">Defined<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpProtocol</span></code><span
            class="Apple-converted-space">&nbsp;</span>instances live in the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpProtocols</span></code><span
            class="Apple-converted-space">&nbsp;</span>object.</li>
        <li style="line-height: 18px;">Defined<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">MediaType</span></code><span
            class="Apple-converted-space">&nbsp;</span>instances live in the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">MediaTypes</span></code><span
            class="Apple-converted-space">&nbsp;</span>object.</li>
        <li style="line-height: 18px;">Defined<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatusCode</span></code><span
            class="Apple-converted-space">&nbsp;</span>instances live in the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">StatusCodes</span></code><span
            class="Apple-converted-space">&nbsp;</span>object.</li>
      </ul>
    </div>
    <div class="section" id="httprequest" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="HttpRequest" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">HttpRequest</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code><span
          class="Apple-converted-space">&nbsp;</span>are the basic case classes
        representing HTTP messages.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
          class="Apple-converted-space">&nbsp;</span>consists of</p>
      <blockquote style="padding: 0px 0px 0px 15px; margin: 0px 0px 18px; border-left-width: 5px; border-left-style: solid; border-left-color: rgb(238, 238, 238);">
        <div>
          <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">a method (GET, POST, etc.)</li>
            <li style="line-height: 18px;">a URI</li>
            <li style="line-height: 18px;">a seq of headers</li>
            <li style="line-height: 18px;">an entity (body data)</li>
            <li style="line-height: 18px;">a protocol</li>
          </ul>
        </div>
      </blockquote>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
        are some examples how to construct an<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpMethods</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// construct a simple GET request to `homeUri`</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">homeUri</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Uri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/abc"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">GET</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">uri</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">homeUri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// construct simple GET request to "/index" (implicit string to Uri conversion)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">GET</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">uri</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/index"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// construct simple POST request containing entity</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">data</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"abc"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">POST</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">uri</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/receive"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entity</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">data</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// customize every detail of HTTP request</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpProtocols</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MediaTypes</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpCharsets</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">userData</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"abc"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">authorization</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">headers</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Authorization</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">BasicHttpCredentials</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"user"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"pass"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">PUT</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">uri</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/user"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/plain`</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">withCharset</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`UTF-8`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">userData</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">headers</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">List</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">authorization</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">protocol</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`HTTP/1.0`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
        parameters of<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest.apply</span></code><span
          class="Apple-converted-space">&nbsp;</span>have default values set, so<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">headers</span></code><span
          class="Apple-converted-space">&nbsp;</span>for example don't need to
        be specified if there are none. Many of the parameters types (like<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Uri</span></code>)
        define implicit conversions for common use cases to simplify the
        creation of request and response instances.</p>
    </div>
    <div class="section" id="httpresponse" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="HttpResponse" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">HttpResponse</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code><span
          class="Apple-converted-space">&nbsp;</span>consists of</p>
      <blockquote style="padding: 0px 0px 0px 15px; margin: 0px 0px 18px; border-left-width: 5px; border-left-style: solid; border-left-color: rgb(238, 238, 238);">
        <div>
          <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">a status code</li>
            <li style="line-height: 18px;">a seq of headers</li>
            <li style="line-height: 18px;">an entity (body data)</li>
            <li style="line-height: 18px;">a protocol</li>
          </ul>
        </div>
      </blockquote>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
        are some examples how to construct an<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// simple OK response without data created using the integer status code</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">200</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// 404 response created using the named StatusCode constant</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// 404 response with a body explaining the error</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">404</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entity</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Unfortunately, the resource couldn't be found."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// A redirecting response containing an extra header</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">locationHeader</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">headers</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Location</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"http://example.com/other"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Found</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">headers</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">List</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">locationHeader</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        addition to the simple<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
          class="Apple-converted-space">&nbsp;</span>constructors which create
        an entity from a fixed<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">String</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
          class="Apple-converted-space">&nbsp;</span>as shown here the Akka HTTP
        model defines a number of subclasses of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
          class="Apple-converted-space">&nbsp;</span>which allow body data to be
        specified as a stream of bytes.</p>
    </div>
    <div class="section" id="httpentity" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="httpentity-scala"></span>
      <h2 id="HttpEntity" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">HttpEntity</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
          class="Apple-converted-space">&nbsp;</span>carries the data bytes of a
        message together with its Content-Type and, if known, its
        Content-Length. In Akka HTTP there are five different kinds of entities
        which model the various ways that message content can be received or
        sent:</p>
      <dl class="docutils" style="margin-bottom: 18px;">
        <dt style="line-height: 18px; font-weight: bold;">HttpEntity.Strict</dt>
        <dd style="line-height: 18px; margin-left: 9px;">The simplest entity,
          which is used when all the entity are already available in memory. It
          wraps a plain<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code><span
            class="Apple-converted-space">&nbsp;</span>and represents a
          standard, unchunked entity with a known<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Content-Length</span></code>.</dd>
        <dt style="line-height: 18px; font-weight: bold;">HttpEntity.Default</dt>
        <dd style="line-height: 18px; margin-left: 9px;">The general, unchunked
          HTTP/1.1 message entity. It has a known length and presents its data
          as a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Source[ByteString]</span></code>which
          can be only materialized once. It is an error if the provided source
          doesn't produce exactly as many bytes as specified. The distinction of<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Strict</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Default</span></code><span
            class="Apple-converted-space">&nbsp;</span>is an API-only one. One
          the wire, both kinds of entities look the same.</dd>
        <dt style="line-height: 18px; font-weight: bold;">HttpEntity.Chunked</dt>
        <dd style="line-height: 18px; margin-left: 9px;">The model for HTTP/1.1<span
            class="Apple-converted-space">&nbsp;</span><a class="reference external"
            href="http://tools.ietf.org/html/rfc7230#section-4.1" style="color: rgb(21, 169, 206); text-decoration: none;">chunked
            content</a><span class="Apple-converted-space">&nbsp;</span>(i.e.
          sent with<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Transfer-Encoding:</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">chunked</span></code>).
          The content length is unknown and the individual chunks are presented
          as a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Source[HttpEntity.ChunkStreamPart]</span></code>.
          A<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ChunkStreamPart</span></code><span
            class="Apple-converted-space">&nbsp;</span>is either a non-empty<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Chunk</span></code><span
            class="Apple-converted-space">&nbsp;</span>or a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LastChunk</span></code><span
            class="Apple-converted-space">&nbsp;</span>containing optional
          trailer headers. The stream consists of zero or more<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Chunked</span></code>parts
          and can be terminated by an optional<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">LastChunk</span></code><span
            class="Apple-converted-space">&nbsp;</span>part.</dd>
        <dt style="line-height: 18px; font-weight: bold;">HttpEntity.CloseDelimited</dt>
        <dd style="line-height: 18px; margin-left: 9px;">An unchunked entity of
          unknown length that is implicitly delimited by closing the connection
          (<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Connection:</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">close</span></code>).
          The content data are presented as a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Source[ByteString]</span></code>.
          Since the connection must be closed after sending an entity of this
          type it can only be used on the server-side for sending a response.
          Also, the main purpose of<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CloseDelimited</span></code><span
            class="Apple-converted-space">&nbsp;</span>entities is compatibility
          with HTTP/1.0 peers, which do not support chunked transfer encoding.
          If you are building a new application and are not constrained by
          legacy requirements you shouldn't rely on<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CloseDelimited</span></code><span
            class="Apple-converted-space">&nbsp;</span>entities, since implicit
          terminate-by-connection-close is not a robust way of signaling
          response end, especially in the presence of proxies. Additionally this
          type of entity prevents connection reuse which can seriously degrade
          performance. Use<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpEntity.Chunked</span></code><span
            class="Apple-converted-space">&nbsp;</span>instead!</dd>
        <dt style="line-height: 18px; font-weight: bold;">HttpEntity.IndefiniteLength</dt>
        <dd style="line-height: 18px; margin-left: 9px;">A streaming entity of
          unspecified length for use in a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Multipart.BodyPart</span></code>.</dd>
      </dl>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Entity
        types<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Strict</span></code>,<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Default</span></code>,
        and<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Chunked</span></code><span
          class="Apple-converted-space">&nbsp;</span>are a subtype of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity.Regular</span></code><span
          class="Apple-converted-space">&nbsp;</span>which allows to use them
        for requests and responses. In contrast,<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity.CloseDelimited</span></code><span
          class="Apple-converted-space">&nbsp;</span>can only be used for
        responses.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Streaming
        entity types (i.e. all but<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Strict</span></code>)
        cannot be shared or serialized. To create a strict, sharable copy of an
        entity or message use<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity.toStrict</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpMessage.toStrict</span></code><span
          class="Apple-converted-space">&nbsp;</span>which returns a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Future</span></code><span
          class="Apple-converted-space">&nbsp;</span>of the object with the body
        data collected into a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
          class="Apple-converted-space">&nbsp;</span>companion object contains
        several helper constructors to create entities from common types easily.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        can pattern match over the subtypes of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
          class="Apple-converted-space">&nbsp;</span>if you want to provide
        special handling for each of the subtypes. However, in many cases a
        recipient of an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
          class="Apple-converted-space">&nbsp;</span>doesn't care about of which
        subtype an entity is (and how data is transported exactly on the HTTP
        layer). Therefore, the general method<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpEntity.dataBytes</span></code><span
          class="Apple-converted-space">&nbsp;</span>is provided which returns a<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[ByteString,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Any]</span></code><span
          class="Apple-converted-space">&nbsp;</span>that allows access to the
        data of an entity regardless of its concrete subtype.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <dl class="last docutils" style="margin-bottom: 18px;">
          <dt style="line-height: 18px; font-weight: bold;">When to use which
            subtype?</dt>
          <dd style="line-height: 18px; margin-left: 9px;">
            <ul class="first last simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
              <li style="line-height: 18px;">Use<span class="Apple-converted-space">&nbsp;</span><code
                  class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">Strict</span></code><span
                  class="Apple-converted-space">&nbsp;</span>if the amount of
                data is "small" and already available in memory (e.g. as a<span
                  class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                  style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">String</span></code><span
                  class="Apple-converted-space">&nbsp;</span>or<code class="docutils literal"
                  style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code>)</li>
              <li style="line-height: 18px;">Use<span class="Apple-converted-space">&nbsp;</span><code
                  class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">Default</span></code><span
                  class="Apple-converted-space">&nbsp;</span>if the data is
                generated by a streaming data source and the size of the data is
                known</li>
              <li style="line-height: 18px;">Use<span class="Apple-converted-space">&nbsp;</span><code
                  class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">Chunked</span></code><span
                  class="Apple-converted-space">&nbsp;</span>for an entity of
                unknown length</li>
              <li style="line-height: 18px;">Use<span class="Apple-converted-space">&nbsp;</span><code
                  class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">CloseDelimited</span></code><span
                  class="Apple-converted-space">&nbsp;</span>for a response as a
                legacy alternative to<span class="Apple-converted-space">&nbsp;</span><code
                  class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">Chunked</span></code><span
                  class="Apple-converted-space">&nbsp;</span>if the client
                doesn't support chunked transfer encoding. Otherwise use<span class="Apple-converted-space">&nbsp;</span><code
                  class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">Chunked</span></code>!</li>
              <li style="line-height: 18px;">In a<span class="Apple-converted-space">&nbsp;</span><code
                  class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">Multipart.Bodypart</span></code><span
                  class="Apple-converted-space">&nbsp;</span>use<span class="Apple-converted-space">&nbsp;</span><code
                  class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                    class="pre" style="color: rgb(11, 85, 103);">IndefiniteLength</span></code><span
                  class="Apple-converted-space">&nbsp;</span>for content of
                unknown length.</li>
            </ul>
          </dd>
        </dl>
      </div>
      <div class="admonition caution" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Caution</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          you receive a non-strict message from a connection then additional
          data are only read from the network when you request them by consuming
          the entity data stream. This means that, if you<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">don't</em><span class="Apple-converted-space">&nbsp;</span>consume
          the entity stream then the connection will effectively be stalled. In
          particular no subsequent message (request or response) will be read
          from the connection as the entity of the current message "blocks" the
          stream. Therefore you must make sure that you always consume the
          entity data, even in the case that you are not actually interested in
          it!</p>
      </div>
      <div class="section" id="limiting-message-entity-length">
        <h3 id="Limiting_message_entity_length" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Limiting
          message entity length</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
          message entities that Akka HTTP reads from the network automatically
          get a length verification check attached to them. This check makes
          sure that the total entity size is less than or equal to the
          configured<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">max-content-length</span></code><span
            class="Apple-converted-space">&nbsp;</span><a class="footnote-reference"
            href="http://doc.akka.io/docs/akka/2.4/scala/http/common/http-model.html#id3"
            id="id2" style="color: rgb(21, 169, 206); text-decoration: none;">[1]</a>,
          which is an important defense against certain Denial-of-Service
          attacks. However, a single global limit for all requests (or
          responses) is often too inflexible for applications that need to allow
          large limits for<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">some</em><span
            class="Apple-converted-space">&nbsp;</span>requests (or responses)
          but want to clamp down on all messages not belonging into that group.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          order to give you maximum flexibility in defining entity size limits
          according to your needs the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
            class="Apple-converted-space">&nbsp;</span>features a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">withSizeLimit</span></code><span
            class="Apple-converted-space">&nbsp;</span>method, which lets you
          adjust the globally configured maximum size for this particular
          entity, be it to increase or decrease any previously set value. This
          means that your application will receive all requests (or responses)
          from the HTTP layer, even the ones whose<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Content-Length</span></code><span
            class="Apple-converted-space">&nbsp;</span>exceeds the configured
          limit (because you might want to increase the limit yourself). Only
          when the actual data stream<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Source</span></code><span
            class="Apple-converted-space">&nbsp;</span>contained in the entity
          is materialized will the boundary checks be actually applied. In case
          the length verification fails the respective stream will be terminated
          with an<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">EntityStreamSizeException</span></code><span
            class="Apple-converted-space">&nbsp;</span>either directly at
          materialization time (if the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Content-Length</span></code><span
            class="Apple-converted-space">&nbsp;</span>is known) or whenever
          more data bytes than allowed have been read.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          called on<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Strict</span></code><span
            class="Apple-converted-space">&nbsp;</span>entities the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">withSizeLimit</span></code><span
            class="Apple-converted-space">&nbsp;</span>method will return the
          entity itself if the length is within the bound, otherwise a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Default</span></code><span
            class="Apple-converted-space">&nbsp;</span>entity with a single
          element data stream. This allows for potential refinement of the
          entity size limit at a later point (before materialization of the data
          stream).</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">By
          default all message entities produced by the HTTP layer automatically
          carry the limit that is defined in the application's<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">max-content-length</span></code><span
            class="Apple-converted-space">&nbsp;</span>config setting. If the
          entity is transformed in a way that changes the content-length and
          then another limit is applied then this new limit will be evaluated
          against the new content-length. If the entity is transformed in a way
          that changes the content-length and no new limit is applied then the
          previous limit will be applied against the previous content-length.
          Generally this behavior should be in line with your expectations.</p>
        <table class="docutils footnote" frame="void" id="id3" rules="none" style="max-width: 100%; border-collapse: collapse; border-spacing: 0px;">
          <colgroup><col class="label" style="padding: 1px 3px 2px; font-size: 9.75px; font-weight: bold; color: rgb(255, 255, 255); text-transform: uppercase; border-radius: 3px; background-color: transparent;"><col></colgroup>
          <tbody valign="top">
            <tr>
              <td class="label" style="padding: 1px 3px 2px; font-size: 9.75px; font-weight: bold; color: rgb(255, 255, 255); text-transform: uppercase; border-radius: 3px; background-color: transparent;"><a
                  class="fn-backref" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/http-model.html#id2"
                  style="color: rgb(21, 169, 206); text-decoration: none;">[1]</a></td>
              <td><cite style="font-style: normal;">akka.http.parsing.max-content-length</cite><span
                  class="Apple-converted-space">&nbsp;</span>(applying to
                server- as well as client-side),<span class="Apple-converted-space">&nbsp;</span><cite
                  style="font-style: normal;">akka.http.server.parsing.max-content-length</cite><span
                  class="Apple-converted-space">&nbsp;</span>(server-side only),<span
                  class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">akka.http.client.parsing.max-content-length</cite><span
                  class="Apple-converted-space">&nbsp;</span>(client-side only)
                or<span class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">akka.http.host-connection-pool.client.parsing.max-content-length</cite><span
                  class="Apple-converted-space">&nbsp;</span>(only
                host-connection-pools)</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="section" id="special-processing-for-head-requests">
        <h3 id="Special_processing_for_HEAD_requests" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Special
          processing for HEAD requests</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><a
            class="reference external" href="http://tools.ietf.org/html/rfc7230#section-3.3.3"
            style="color: rgb(21, 169, 206); text-decoration: none;">RFC 7230</a><span
            class="Apple-converted-space">&nbsp;</span>defines very clear rules
          for the entity length of HTTP messages.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Especially
          this rule requires special treatment in Akka HTTP:</p>
        <blockquote style="padding: 0px 0px 0px 15px; margin: 0px 0px 18px; border-left-width: 5px; border-left-style: solid; border-left-color: rgb(238, 238, 238);">
          <div>Any response to a HEAD request and any response with a 1xx
            (Informational), 204 (No Content), or 304 (Not Modified) status code
            is always terminated by the first empty line after the header
            fields, regardless of the header fields present in the message, and
            thus cannot contain a message body.</div>
        </blockquote>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Responses
          to HEAD requests introduce the complexity that<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">Content-Length</cite><span class="Apple-converted-space">&nbsp;</span>or<span
            class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">Transfer-Encoding</cite><span
            class="Apple-converted-space">&nbsp;</span>headers can be present
          but the entity is empty. This is modeled by allowing<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">HttpEntity.Default</cite><span class="Apple-converted-space">&nbsp;</span>and<span
            class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">HttpEntity.Chunked</cite><span
            class="Apple-converted-space">&nbsp;</span>to be used for HEAD
          responses with an empty data stream.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Also,
          when a HEAD response has an<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">HttpEntity.CloseDelimited</cite><span class="Apple-converted-space">&nbsp;</span>entity
          the Akka HTTP implementation will<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">not</em><span class="Apple-converted-space">&nbsp;</span>close
          the connection after the response has been sent. This allows the
          sending of HEAD responses without<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">Content-Length</cite><span class="Apple-converted-space">&nbsp;</span>header
          across persistent HTTP connections.</p>
      </div>
    </div>
    <div class="section" id="header-model" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="header-model-scala"></span>
      <h2 id="Header_Model" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Header
        Model</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP contains a rich model of the most common HTTP headers. Parsing and
        rendering is done automatically so that applications don't need to care
        for the actual syntax of headers. Headers not modelled explicitly are
        represented as a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">RawHeader</span></code><span
          class="Apple-converted-space">&nbsp;</span>(which is essentially a
        String/String name/value pair).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">See
        these examples of how to deal with headers:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">headers</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// create a ``Location`` header</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">loc</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Location</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"http://example.com/other"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// create an ``Authorization`` header with HTTP Basic authentication data</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">auth</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Authorization</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">BasicHttpCredentials</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"joe"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"josepp"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// custom type</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">User</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">name</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">pass</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// a method that extracts basic HTTP credentials from a request</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">credentialsOfRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">req</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">User</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">for</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Authorization</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">BasicHttpCredentials</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">user</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">pass</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">&lt;-</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">header</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Authorization</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">yield</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">User</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">user</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">pass</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="http-headers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="HTTP_Headers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">HTTP
        Headers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        the Akka HTTP server receives an HTTP request it tries to parse all its
        headers into their respective model classes. Independently of whether
        this succeeds or not, the HTTP layer will always pass on all received
        headers to the application. Unknown headers as well as ones with invalid
        syntax (according to the header parser) will be made available as<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">RawHeader</span></code><span
          class="Apple-converted-space">&nbsp;</span>instances. For the ones
        exhibiting parsing errors a warning message is logged depending on the
        value of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">illegal-header-warnings</span></code><span
          class="Apple-converted-space">&nbsp;</span>config setting.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Some
        headers have special status in HTTP and are therefore treated
        differently from "regular" headers:</p>
      <dl class="docutils" style="margin-bottom: 18px;">
        <dt style="line-height: 18px; font-weight: bold;">Content-Type</dt>
        <dd style="line-height: 18px; margin-left: 9px;">The Content-Type of an
          HTTP message is modeled as the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">contentType</span></code><span
            class="Apple-converted-space">&nbsp;</span>field of the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code>.
          The<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Content-Type</span></code>header
          therefore doesn't appear in the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">headers</span></code><span
            class="Apple-converted-space">&nbsp;</span>sequence of a message.
          Also, a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Content-Type</span></code><span
            class="Apple-converted-space">&nbsp;</span>header instance that is
          explicitly added to the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">headers</span></code><span
            class="Apple-converted-space">&nbsp;</span>of a request or response
          will not be rendered onto the wire and trigger a warning being logged
          instead!</dd>
        <dt style="line-height: 18px; font-weight: bold;">Transfer-Encoding</dt>
        <dd style="line-height: 18px; margin-left: 9px;">Messages with<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Transfer-Encoding:</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">chunked</span></code><span
            class="Apple-converted-space">&nbsp;</span>are represented via the<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpEntity.Chunked</span></code><span
            class="Apple-converted-space">&nbsp;</span>entity. As such chunked
          messages that do not have another deeper nested transfer encoding will
          not have a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Transfer-Encoding</span></code><span
            class="Apple-converted-space">&nbsp;</span>header in their<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">headers</span></code><span
            class="Apple-converted-space">&nbsp;</span>sequence. Similarly, a<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Transfer-Encoding</span></code><span
            class="Apple-converted-space">&nbsp;</span>header instance that is
          explicitly added to the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">headers</span></code><span
            class="Apple-converted-space">&nbsp;</span>of a request or response
          will not be rendered onto the wire and trigger a warning being logged
          instead!</dd>
        <dt style="line-height: 18px; font-weight: bold;">Content-Length</dt>
        <dd style="line-height: 18px; margin-left: 9px;">The content length of a
          message is modelled via its<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/http-model.html#httpentity-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">HttpEntity</span></a>.
          As such no<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Content-Length</span></code><span
            class="Apple-converted-space">&nbsp;</span>header will ever be part
          of a message's<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">header</span></code><span
            class="Apple-converted-space">&nbsp;</span>sequence. Similarly, a<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Content-Length</span></code><span
            class="Apple-converted-space">&nbsp;</span>header instance that is
          explicitly added to the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">headers</span></code><span
            class="Apple-converted-space">&nbsp;</span>of a request or response
          will not be rendered onto the wire and trigger a warning being logged
          instead!</dd>
        <dt style="line-height: 18px; font-weight: bold;">Server</dt>
        <dd style="line-height: 18px; margin-left: 9px;">A<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Server</span></code><span
            class="Apple-converted-space">&nbsp;</span>header is usually added
          automatically to any response and its value can be configured via the<code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.server.server-header</span></code><span
            class="Apple-converted-space">&nbsp;</span>setting. Additionally an
          application can override the configured header with a custom one by
          adding it to the response's<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">header</span></code><span
            class="Apple-converted-space">&nbsp;</span>sequence.</dd>
        <dt style="line-height: 18px; font-weight: bold;">User-Agent</dt>
        <dd style="line-height: 18px; margin-left: 9px;">A<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">User-Agent</span></code><span
            class="Apple-converted-space">&nbsp;</span>header is usually added
          automatically to any request and its value can be configured via the<code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.client.user-agent-header</span></code><span
            class="Apple-converted-space">&nbsp;</span>setting. Additionally an
          application can override the configured header with a custom one by
          adding it to the request's<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">header</span></code><span
            class="Apple-converted-space">&nbsp;</span>sequence.</dd>
        <dt style="line-height: 18px; font-weight: bold;">Date</dt>
        <dd style="line-height: 18px; margin-left: 9px;">The<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Date</span></code><span
            class="Apple-converted-space">&nbsp;</span>response header is added
          automatically but can be overridden by supplying it manually.</dd>
        <dt style="line-height: 18px; font-weight: bold;">Connection</dt>
        <dd style="line-height: 18px; margin-left: 9px;">On the server-side Akka
          HTTP watches for explicitly added<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Connection:</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">close</span></code><span
            class="Apple-converted-space">&nbsp;</span>response headers and as
          such honors the potential wish of the application to close the
          connection after the respective response has been sent out. The actual
          logic for determining whether to close the connection is quite
          involved. It takes into account the request's method, protocol and
          potential<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Connection</span></code><span
            class="Apple-converted-space">&nbsp;</span>header as well as the
          response's protocol, entity and potential<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Connection</span></code><span
            class="Apple-converted-space">&nbsp;</span>header. See<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http-core/src/test/scala/akka/http/impl/engine/rendering/ResponseRendererSpec.scala#L422"
            style="color: rgb(21, 169, 206); text-decoration: none;">this test</a><span
            class="Apple-converted-space">&nbsp;</span>for a full table of what
          happens when.</dd>
        <dt style="line-height: 18px; font-weight: bold;">Strict-Transport-Security</dt>
        <dd style="line-height: 18px; margin-left: 9px;">HTTP Strict Transport
          Security (HSTS) is a web security policy mechanism which is
          communicated by the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Strict-Transport-Security</span></code><span
            class="Apple-converted-space">&nbsp;</span>header. The most
          important security vulnerability that HSTS can fix is SSL-stripping
          man-in-the-middle attacks. The SSL-stripping attact works by
          transparently converting a secure HTTPS connection into a plain HTTP
          connection. The user can see that the connection is insecure, but
          crucially there is no way of knowing whether the connection should be
          secure. HSTS addresses this problem by informing the browser that
          connections to the site should always use TLS/SSL. See also<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://tools.ietf.org/html/rfc6797"
            style="color: rgb(21, 169, 206); text-decoration: none;">RFC 6797</a>.</dd>
      </dl>
    </div>
    <div class="section" id="custom-headers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="custom-headers-scala"></span>
      <h2 id="Custom_Headers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Custom
        Headers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sometimes
        you may need to model a custom header type which is not part of HTTP and
        still be able to use it as convienient as is possible with the built-in
        types.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Because
        of the number of ways one may interact with headers (i.e. try to match a<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CustomHeader</span></code><span
          class="Apple-converted-space">&nbsp;</span>against a<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">RawHeader</span></code><span
          class="Apple-converted-space">&nbsp;</span>or the other way around
        etc), a helper trait for custom Header types and their companions
        classes are provided by Akka HTTP. Thanks to extending<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ModeledCustomHeader</span></code><span
          class="Apple-converted-space">&nbsp;</span>instead of the plain<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CustomHeader</span></code><span
          class="Apple-converted-space">&nbsp;</span>such header can be matched</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">token</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ModeledCustomHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">renderInRequests</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">renderInResponses</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">companion</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">token</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ModeledCustomHeaderCompanion</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"apiKey"</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">parse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Try</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Which
        allows the this CustomHeader to be used in the following scenarios:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">t1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">t1</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">should</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">RawHeader</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">k2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">v2</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">k2</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">should</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"apiKey"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">v2</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">should</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// will match, header keys are case insensitive</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">v3</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RawHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"APIKEY"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">v3</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">should</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">intercept</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MatchError</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// won't match, different header name</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">v4</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">DifferentHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">intercept</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MatchError</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// won't match, different header name</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RawHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"something"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">v5</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DifferentHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">intercept</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MatchError</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// won't match, different header name</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">v6</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RawHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"different"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"token"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Including
        usage within the header directives like in the following<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/directives/header-directives/headerValuePF.html#headervaluepf"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">headerValuePF</span></a><span
          class="Apple-converted-space">&nbsp;</span>example:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">extractFromCustomHeader</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">headerValuePF</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">t</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">token</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"extracted&gt; </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$t</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">raw</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">RawHeader</span></span><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"raw&gt; </span></span><span class="si"
style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$raw</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">routes</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">extractFromCustomHeader</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">s</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withHeaders</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RawHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"apiKey"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"TheKey"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">~&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">routes</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">~&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">check</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">status</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">should</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">OK</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">responseAs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">should</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"extracted&gt; apiKey: TheKey"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withHeaders</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RawHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"somethingElse"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"TheKey"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">~&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">routes</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">~&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">check</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">status</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">should</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">OK</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">responseAs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">should</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"raw&gt; somethingElse: TheKey"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Get</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withHeaders</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ApiTokenHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"TheKey"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">~&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">routes</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">~&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">check</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">status</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">should</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">OK</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">responseAs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">should</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">===(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"extracted&gt; apiKey: TheKey"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">One
        can also directly extend<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CustomHeader</span></code><span
          class="Apple-converted-space">&nbsp;</span>which requires less
        boilerplate, however that has the downside of matching against<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">RawHeader</span></code><span
          class="Apple-converted-space">&nbsp;</span>instances not working
        out-of-the-box, thus limiting its usefulnes in the routing layer of Akka
        HTTP. For only rendering such header however it would be enough.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          defining custom headers, prefer to extend<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ModeledCustomHeader</span></code><span
            class="Apple-converted-space">&nbsp;</span>instead of<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CustomHeader</span></code><span
            class="Apple-converted-space">&nbsp;</span>directly as it will
          automatically make your header abide all the expected pattern matching
          semantics one is accustomed to when using built-in types (such as
          matching a custom header against a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">RawHeader</span></code><span
            class="Apple-converted-space">&nbsp;</span>as is often the case in
          routing layers of Akka HTTP applications).</p>
      </div>
    </div>
    <div class="section" id="parsing-rendering" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Parsing___Rendering" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Parsing
        / Rendering</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Parsing
        and rendering of HTTP data structures is heavily optimized and for most
        types there's currently no public API provided to parse (or render to)
        Strings or byte arrays.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Various
          parsing and rendering settings are available to tweak in the
          configuration under<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.client[.parsing]</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.server[.parsing]</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.host-connection-pool[.client.parsing]</span></code>,
          with defaults for all of these being defined in the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.parsing</span></code><span
            class="Apple-converted-space">&nbsp;</span>configuration section.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          example, if you want to change a parsing setting for all components,
          you can set the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.parsing.illegal-header-warnings</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">=</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">off</span></code><span
            class="Apple-converted-space">&nbsp;</span>value. However this
          setting can be stil overriden by the more specific sections, like for
          example<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.server.parsing.illegal-header-warnings</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">=</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">on</span></code>.
          In this case both<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">client</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">host-connection-pool</span></code><span
            class="Apple-converted-space">&nbsp;</span>APIs will see the setting<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">off</span></code>,
          however the server will see<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">on</span></code>.</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          the case of<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.host-connection-pool.client</span></code><span
            class="Apple-converted-space">&nbsp;</span>settings, they default to
          settings set in<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.client</span></code>,
          and can override them if needed. This is useful, since both<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">client</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">host-connection-pool</span></code><span
            class="Apple-converted-space">&nbsp;</span>APIs, such as the Client
          API<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Http().outgoingConnection</span></code><span
            class="Apple-converted-space">&nbsp;</span>or the Host Connection
          Pool APIs<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Http().singleRequest</span></code><span
            class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Http().superPool</span></code>,
          usually need the same settings, however the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">server</span></code><span
            class="Apple-converted-space">&nbsp;</span>most likely has a very
          different set of settings.</p>
      </div>
    </div>
    <div class="section" id="registering-custom-media-types" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="registeringcustommediatypes"></span>
      <h2 id="Registering_Custom_Media_Types" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Registering
        Custom Media Types</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="https://github.com/akka/akka/blob/master/akka-http-core/src/main/scala/akka/http/scaladsl/model/MediaType.scala#L297"
          style="color: rgb(21, 169, 206); text-decoration: none;">predefines</a><span
          class="Apple-converted-space">&nbsp;</span>most commonly encountered
        media types and emits them in their well-typed form while parsing http
        messages. Sometimes you may want to define a custom media type and
        inform the parser infrastructure about how to handle these custom media
        types, e.g. that<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application/custom</span></code><span
          class="Apple-converted-space">&nbsp;</span>is to be treated as<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">NonBinary</span></code><span
          class="Apple-converted-space">&nbsp;</span>with<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WithFixedCharset</span></code>.
        To achieve this you need to register the custom media type in the
        server's settings by configuring<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ParserSettings</span></code><span
          class="Apple-converted-space">&nbsp;</span>like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// similarily in Java: `akka.http.javadsl.settings.[...]`</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">settings</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ParserSettings</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">settings</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ServerSettings</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// define custom media type:</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">utf8</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpCharsets</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`UTF-8`</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="str"
style="color: rgb(131, 185, 37);">`application/custom`</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">WithFixedCharset</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MediaType</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">customWithFixedCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"application"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"custom"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">utf8</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// add custom media type to parser settings:</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">parserSettings</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ParserSettings</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withCustomMediaTypes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/custom`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSettings</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ServerSettings</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withParserSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parserSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">routes</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">extractRequest</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">r</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toString</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">" = "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">r</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getClass</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">binding</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">routes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">settings</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSettings</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        may also want to read about MediaType<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://en.wikipedia.org/wiki/Media_type#Registration_trees"
          style="color: rgb(21, 169, 206); text-decoration: none;">Registration
          trees</a>, in order to register your vendor specific media types in
        the right style / place.</p>
    </div>
    <div class="section" id="the-uri-model" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="The_URI_model" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">The
        URI model</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP offers its own specialised URI model class which is tuned for both
        performance and idiomatic usage within other types of the HTTP model.
        For example, an HTTPRequest's target URI is parsed into this type, where
        all character escaping and other URI specific semantics are applied.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sometimes
        it may be needed to obtain the "raw" value of an incoming URI, without
        applying any escaping or parsing to it. While this use-case is rare, it
        comes up every once in a while. It is possible to obtain the "raw"
        request URI in Akka HTTP Server side by turning on the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.http.server.raw-request-uri-header</span></code><span
          class="Apple-converted-space">&nbsp;</span>flag. When enabled, a<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Raw-Request-URI</span></code><span
          class="Apple-converted-space">&nbsp;</span>header will be added to
        each request. This header will hold the original raw request's URI that
        was used. For an example check the reference configuration.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Marshalling</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">"Marshalling"
      is the process of converting a higher-level (object) structure into some
      kind of lower-level representation, often a "wire format". Other popular
      names for it are "Serialization" or "Pickling".</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">In
      Akka HTTP "Marshalling" means the conversion of an object of type<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">T</span></code><span class="Apple-converted-space">&nbsp;</span>into
      a lower-level target type, e.g. a<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">MessageEntity</span></code><span
        class="Apple-converted-space">&nbsp;</span>(which forms the "entity
      body" of an HTTP request or response) or a full<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
        class="Apple-converted-space">&nbsp;</span>or<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>.</p>
    <div class="section" id="basic-design" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Basic_Design" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Basic
        Design</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Marshalling
        of instances of type<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span></code><span class="Apple-converted-space">&nbsp;</span>into
        instances of type<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">B</span></code><span class="Apple-converted-space">&nbsp;</span>is
        performed by a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshaller[A,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code>.
        Akka HTTP also predefines a number of helpful aliases for the types of
        marshallers that you'll likely work with most:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ToEntityMarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MessageEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ToByteStringMarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ToHeadersAndEntityMarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">immutable</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Seq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpHeader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MessageEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)]</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ToResponseMarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ToRequestMarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Contrary
        to what you might initially expect<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshaller[A,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
          class="Apple-converted-space">&nbsp;</span>is not a plain function<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">=&gt;</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">B</span></code><span class="Apple-converted-space">&nbsp;</span>but
        rather essentially a function<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">=&gt;</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">Future[List[Marshalling[B]]]</span></code>.
        Let's dissect this rather complicated looking signature piece by piece
        to understand what marshallers are designed this way. Given an instance
        of type<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span></code><span class="Apple-converted-space">&nbsp;</span>a<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshaller[A,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code>produces:</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">1.
        A<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Future</span></code>:
        This is probably quite clear. Marshallers are not required to
        synchronously produce a result, so instead they return a future, which
        allows for asynchronicity in the marshalling process.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">2.
        of<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">List</span></code>:
        Rather than only a single target representation for<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span></code><span class="Apple-converted-space">&nbsp;</span>marshallers
        can offer several ones. Which one will be rendered onto the wire in the
        end is decided by content negotiation. For example, the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[OrderConfirmation]</span></code><span
          class="Apple-converted-space">&nbsp;</span>might offer a JSON as well
        as an XML representation. The client can decide through the addition of
        an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Accept</span></code><span
          class="Apple-converted-space">&nbsp;</span>request header which one is
        preferred. If the client doesn't express a preference the first
        representation is picked.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">3.
        of<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshalling[B]</span></code>:
        Rather than returning an instance of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">B</span></code><span class="Apple-converted-space">&nbsp;</span>directly
        marshallers first produce a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshalling[B]</span></code>.
        This allows for querying the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MediaType</span></code><span
          class="Apple-converted-space">&nbsp;</span>and potentially the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpCharset</span></code><span
          class="Apple-converted-space">&nbsp;</span>that the marshaller will
        produce before the actual marshalling is triggered. Apart from enabling
        content negotiation this design allows for delaying the actual
        construction of the marshalling target instance to the very last moment
        when it is really needed.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is how<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshalling</span></code><span
          class="Apple-converted-space">&nbsp;</span>is defined:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * Describes one possible option for marshalling a given value.</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> */</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">sealed</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">trait</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">+</span><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">]</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * A Marshalling to a specific [[akka.http.scaladsl.model.ContentType]].</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WithFixedContentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ContentType</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">     </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">A</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">WithFixedContentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">copy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * A Marshalling to a specific [[akka.http.scaladsl.model.MediaType]] with a flexible charset.</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WithOpenCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediaType</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">MediaType</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">WithOpenCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">   </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpCharset</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">WithOpenCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">copy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cs</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cs</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * A Marshalling to an unknown MediaType and charset.</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   * Circumvents content negotiation.</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Opaque</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">A</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Opaque</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">copy</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="predefined-marshallers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Predefined_Marshallers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Predefined
        Marshallers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP already predefines a number of marshallers for the most common
        types. Specifically these are:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http/src/main/scala/akka/http/scaladsl/marshalling/PredefinedToEntityMarshallers.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">PredefinedToEntityMarshallers</a>
          <ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;">
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Array[Byte]</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Array[Char]</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">String</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.model.FormData</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.model.MessageEntity</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">T</span><span class="Apple-converted-space">&nbsp;</span><span
                  class="pre" style="color: rgb(11, 85, 103);">&lt;:</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.model.Multipart</span></code></li>
          </ul>
        </li>
        <li style="line-height: 18px;"><a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http/src/main/scala/akka/http/scaladsl/marshalling/PredefinedToResponseMarshallers.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">PredefinedToResponseMarshallers</a>
          <ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;">
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">T</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">StatusCode</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">(StatusCode,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T)</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">(Int,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T)</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">(StatusCode,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">immutable.Seq[HttpHeader],</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T)</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">(Int,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">immutable.Seq[HttpHeader],</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T)</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
          </ul>
        </li>
        <li style="line-height: 18px;"><a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http/src/main/scala/akka/http/scaladsl/marshalling/PredefinedToRequestMarshallers.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">PredefinedToRequestMarshallers</a>
          <ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;">
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Uri</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">(HttpMethod,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Uri,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T)</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">(HttpMethod,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Uri,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">immutable.Seq[HttpHeader],</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T)</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
          </ul>
        </li>
        <li style="line-height: 18px;"><a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http/src/main/scala/akka/http/scaladsl/marshalling/GenericMarshallers.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">GenericMarshallers</a>
          <ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;">
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[Throwable,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T]</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[Option[A],</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[A,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
                class="Apple-converted-space">&nbsp;</span>and an<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">EmptyValue[B]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[Either[A1,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">A2],</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[A1,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
                class="Apple-converted-space">&nbsp;</span>and a<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[A2,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[Future[A],</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[A,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[Try[A],</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code>,
              if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Marshaller[A,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
          </ul>
        </li>
      </ul>
    </div>
    <div class="section" id="implicit-resolution" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Implicit_Resolution" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Implicit
        Resolution</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        marshalling infrastructure of Akka HTTP relies on a type-class based
        approach, which means that<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshaller</span></code>instances
        from a certain type<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span></code><span class="Apple-converted-space">&nbsp;</span>to
        a certain type<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">B</span></code><span class="Apple-converted-space">&nbsp;</span>have
        to be available implicitly.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        implicits for most of the predefined marshallers in Akka HTTP are
        provided through the companion object of the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshaller</span></code><span
          class="Apple-converted-space">&nbsp;</span>trait. This means that they
        are always available and never need to be explicitly imported.
        Additionally, you can simply "override" them by bringing your own custom
        version into local scope.</p>
    </div>
    <div class="section" id="custom-marshallers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Custom_Marshallers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Custom
        Marshallers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP gives you a few convenience tools for constructing marshallers for
        your own types. Before you do that you need to think about what kind of
        marshaller you want to create. If all your marshaller needs to produce
        is a<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MessageEntity</span></code><span
          class="Apple-converted-space">&nbsp;</span>then you should probably
        provide a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code>.
        The advantage here is that it will work on both the client- as well as
        the server-side since a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToResponseMarshaller[T]</span></code><span
          class="Apple-converted-space">&nbsp;</span>as well as a<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToRequestMarshaller[T]</span></code><span
          class="Apple-converted-space">&nbsp;</span>can automatically be
        created if a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
          class="Apple-converted-space">&nbsp;</span>is available.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If,
        however, your marshaller also needs to set things like the response
        status code, the request method, the request URI or any headers then a<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
          class="Apple-converted-space">&nbsp;</span>won't work. You'll need to
        fall down to providing a<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToResponseMarshaller[T]</span></code><span
          class="Apple-converted-space">&nbsp;</span>or a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToRequestMarshaller[T]</span></code><span
          class="Apple-converted-space">&nbsp;</span>directly.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        writing your own marshallers you won't have to "manually" implement the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshaller</span></code><span
          class="Apple-converted-space">&nbsp;</span>trait directly. Rather, it
        should be possible to use one of the convenience construction helpers
        defined on the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshaller</span></code><span
          class="Apple-converted-space">&nbsp;</span>companion:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">GenericMarshallers</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PredefinedToEntityMarshallers</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PredefinedToResponseMarshallers</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">PredefinedToRequestMarshallers</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * Creates a [[Marshaller]] from the given function.</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">apply</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ExecutionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">List</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">apply</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ec</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ExecutionContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">try</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ec</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">catch</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">NonFatal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">e</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FastFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">failed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">e</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * Helper for creating a [[Marshaller]] using the given function.</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">strict</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FastFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">successful</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">::</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Nil</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * Helper for creating a "super-marshaller" from a number of "sub-marshallers".</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   * Content-negotiation determines, which "sub-marshaller" eventually gets to do the job.</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">oneOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshallers</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]*)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">ec</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">a</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">FastFuture</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sequence</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshallers</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">fast</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">flatten</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toList</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * Helper for creating a "super-marshaller" from a number of values and a function producing "sub-marshallers"</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   * from these values. Content-negotiation determines, which "sub-marshaller" eventually gets to do the job.</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">oneOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">values</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">T</span><span class="pun" style="color: rgb(89, 80, 80);">*</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">T</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">oneOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">values</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">f</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">*</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * Helper for creating a synchronous [[Marshaller]] to content with a fixed charset from the given function.</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">withFixedContentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ContentType</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">strict</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">value</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">WithFixedContentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">marshal</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">value</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * Helper for creating a synchronous [[Marshaller]] to content with a negotiable charset from the given function.</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">withOpenCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediaType</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">MediaType</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">WithOpenCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">strict</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">value</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">WithOpenCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mediaType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">charset</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">marshal</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">value</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">charset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * Helper for creating a synchronous [[Marshaller]] to non-negotiable content from the given function.</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">opaque</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">strict</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">value</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshalling</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Opaque</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">   * Helper for creating a [[Marshaller]] combined of the provided `marshal` function</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   * and an implicit Marshaller which is able to produce the required final type.</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">   */</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">combined</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">C</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">m2</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">C</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">C</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">C</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ec</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">m2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">compose</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">apply</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ec</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="deriving-marshallers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Deriving_Marshallers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Deriving
        Marshallers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sometimes
        you can save yourself some work by reusing existing marshallers for your
        custom ones. The idea is to "wrap" an existing marshaller with some
        logic to "re-target" it to your type.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        this regard wrapping a marshaller can mean one or both of the following
        two things:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Transform the input before it reaches the
          wrapped marshaller</li>
        <li style="line-height: 18px;">Transform the output of the wrapped
          marshaller</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        the latter (transforming the output) you can use<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">baseMarshaller.map</span></code>,
        which works exactly as it does for functions. For the former
        (transforming the input) you have four alternatives:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseMarshaller.compose</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseMarshaller.composeWithEC</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseMarshaller.wrap</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseMarshaller.wrapWithEC</span></code></li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">compose</span></code><span
          class="Apple-converted-space">&nbsp;</span>works just like it does for
        functions.<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">wrap</span></code><span
          class="Apple-converted-space">&nbsp;</span>is a compose that allows
        you to also change the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ContentType</span></code>that
        the marshaller marshals to. The<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">...WithEC</span></code><span
          class="Apple-converted-space">&nbsp;</span>variants allow you to
        receive an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ExecutionContext</span></code><span
          class="Apple-converted-space">&nbsp;</span>internally if you need one,
        without having to depend on one being available implicitly at the usage
        site.</p>
    </div>
    <div class="section" id="using-marshallers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Using_Marshallers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Using
        Marshallers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        many places throughput Akka HTTP marshallers are used implicitly, e.g.
        when you define how to<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/directives/route-directives/complete.html#complete"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">complete</span></a><span
          class="Apple-converted-space">&nbsp;</span>a request using the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/index.html#http-high-level-server-side-api"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Routing
            DSL</span></a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">However,
        you can also use the marshalling infrastructure directly if you wish,
        which can be useful for example in tests. The best entry point for this
        is the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.marshalling.Marshal</span></code><span
          class="Apple-converted-space">&nbsp;</span>object, which you can use
        like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Await</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">duration</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">marshalling</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Marshal</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">system</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ExecutionContext</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">string</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Yeah"</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entityFuture</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">string</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">to</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">MessageEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entity</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Await</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">result</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entityFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// don't block in non-test code!</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">shouldEqual</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/plain(UTF-8)`</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">errorMsg</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Easy, pal!"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responseFuture</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">420</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">errorMsg</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">to</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">response</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Await</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">result</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">responseFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// don't block in non-test code!</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">response</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">status</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">shouldEqual</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">EnhanceYourCalm</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">response</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">shouldEqual</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/plain(UTF-8)`</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">request</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">headers</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">List</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">headers</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Accept</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">MediaTypes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/json`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responseText</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Plaintext"</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">respFuture</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">responseText</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toResponseFor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">request</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// with content negotiation!</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">a</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Marshal</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">UnacceptableResponseContentTypeException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">should</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">be</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">thrownBy</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Await</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">result</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">respFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// client requested JSON, we only have text/plain!</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Unmarshalling</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">"Unmarshalling"
      is the process of converting some kind of a lower-level representation,
      often a "wire format", into a higher-level (object) structure. Other
      popular names for it are "Deserialization" or "Unpickling".</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">In
      Akka HTTP "Unmarshalling" means the conversion of a lower-level source
      object, e.g. a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">MessageEntity</span></code><span
        class="Apple-converted-space">&nbsp;</span>(which forms the "entity
      body" of an HTTP request or response) or a full<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
        class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>,
      into an instance of type<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">T</span></code>.</p>
    <div class="section" id="basic-design" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Basic_Design" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Basic
        Design</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Unmarshalling
        of instances of type<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span></code><span class="Apple-converted-space">&nbsp;</span>into
        instances of type<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">B</span></code><span class="Apple-converted-space">&nbsp;</span>is
        performed by an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Unmarshaller[A,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code>.
        Akka HTTP also predefines a number of helpful aliases for the types of
        unmarshallers that you'll likely work with most:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">FromEntityUnmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">FromMessageUnmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpMessage</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">FromResponseUnmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">FromRequestUnmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">FromByteStringUnmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">FromStringUnmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">FromStrictFormFieldUnmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">StrictForm</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Field</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">At
        its core an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Unmarshaller[A,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
          class="Apple-converted-space">&nbsp;</span>is very similar to a
        function<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">=&gt;</span><span class="Apple-converted-space">&nbsp;</span><span
            class="pre" style="color: rgb(11, 85, 103);">Future[B]</span></code><span
          class="Apple-converted-space">&nbsp;</span>and as such quite a bit
        simpler than its<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/common/marshalling.html#http-marshalling-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">marshalling</span></a><span
          class="Apple-converted-space">&nbsp;</span>counterpart. The process of
        unmarshalling does not have to support content negotiation which saves
        two additional layers of indirection that are required on the
        marshalling side.</p>
    </div>
    <div class="section" id="predefined-unmarshallers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Predefined_Unmarshallers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Predefined
        Unmarshallers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP already predefines a number of marshallers for the most common
        types. Specifically these are:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http/src/main/scala/akka/http/scaladsl/unmarshalling/PredefinedFromStringUnmarshallers.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">PredefinedFromStringUnmarshallers</a>
          <ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;">
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Byte</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Short</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Int</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Long</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Float</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Double</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Boolean</span></code></li>
          </ul>
        </li>
        <li style="line-height: 18px;"><a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http/src/main/scala/akka/http/scaladsl/unmarshalling/PredefinedFromEntityUnmarshallers.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">PredefinedFromEntityUnmarshallers</a>
          <ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;">
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Array[Byte]</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">ByteString</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Array[Char]</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">String</span></code></li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.model.FormData</span></code></li>
          </ul>
        </li>
        <li style="line-height: 18px;"><a class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http/src/main/scala/akka/http/scaladsl/unmarshalling/GenericUnmarshallers.scala"
            style="color: rgb(21, 169, 206); text-decoration: none;">GenericUnmarshallers</a>
          <ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;">
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Unmarshaller[T,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T]</span></code><span
                class="Apple-converted-space">&nbsp;</span>(identity
              unmarshaller)</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Unmarshaller[Option[A],</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code>,
              if an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Unmarshaller[A,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
            <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Unmarshaller[A,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Option[B]]</span></code>,
              if an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Unmarshaller[A,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">B]</span></code><span
                class="Apple-converted-space">&nbsp;</span>is available</li>
          </ul>
        </li>
      </ul>
    </div>
    <div class="section" id="implicit-resolution" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Implicit_Resolution" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Implicit
        Resolution</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        unmarshalling infrastructure of Akka HTTP relies on a type-class based
        approach, which means that<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Unmarshaller</span></code><span
          class="Apple-converted-space">&nbsp;</span>instances from a certain
        type<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">A</span></code><span class="Apple-converted-space">&nbsp;</span>to
        a certain type<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">B</span></code><span class="Apple-converted-space">&nbsp;</span>have
        to be available implicitly.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        implicits for most of the predefined unmarshallers in Akka HTTP are
        provided through the companion object of the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Unmarshaller</span></code><span
          class="Apple-converted-space">&nbsp;</span>trait. This means that they
        are always available and never need to be explicitly imported.
        Additionally, you can simply "override" them by bringing your own custom
        version into local scope.</p>
    </div>
    <div class="section" id="custom-unmarshallers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Custom_Unmarshallers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Custom
        Unmarshallers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP gives you a few convenience tools for constructing unmarshallers
        for your own types. Usually you won't have to "manually" implement the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Unmarshaller</span></code><span
          class="Apple-converted-space">&nbsp;</span>trait directly. Rather, it
        should be possible to use one of the convenience construction helpers
        defined on the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Unmarshaller</span></code><span
          class="Apple-converted-space">&nbsp;</span>companion:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * Creates an `Unmarshaller` from the given function.</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> */</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">apply</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pun" style="color: rgb(89, 80, 80);">,</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">](</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">f</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ExecutionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">withMaterializer</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ec</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">f</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ec</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">withMaterializer</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pun" style="color: rgb(89, 80, 80);">,</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">](</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">f</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ExecutionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">apply</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ec</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ExecutionContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">materializer</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Materializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">try</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ec</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">catch</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">NonFatal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">e</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FastFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">failed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">e</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * Helper for creating a synchronous `Unmarshaller` from the given function.</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> */</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">strict</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pun" style="color: rgb(89, 80, 80);">,</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">](</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">f</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">⇒</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FastFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">successful</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">f</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">a</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * Helper for creating a "super-unmarshaller" from a sequence of "sub-unmarshallers", which are tried</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * in the given order. The first successful unmarshalling of a "sub-unmarshallers" is the one produced by the</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * "super-unmarshaller".</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> */</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">firstOf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">A</span></span><span class="pun" style="color: rgb(89, 80, 80);">,</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">B</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">](</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">unmarshallers</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]*)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">A</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">B</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">//...</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="deriving-unmarshallers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Deriving_Unmarshallers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Deriving
        Unmarshallers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sometimes
        you can save yourself some work by reusing existing unmarshallers for
        your custom ones. The idea is to "wrap" an existing unmarshaller with
        some logic to "re-target" it to your type.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Usually
        what you want to do is to transform the output of some existing
        unmarshaller and convert it to your type. For this type of unmarshaller
        transformation Akka HTTP defines these methods:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.transform</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.map</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.mapWithInput</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.flatMap</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.flatMapWithInput</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.recover</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.withDefaultValue</span></code></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.mapWithCharset</span></code><span
            class="Apple-converted-space">&nbsp;</span>(only available for
          FromEntityUnmarshallers)</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">baseUnmarshaller.forContentTypes</span></code><span
            class="Apple-converted-space">&nbsp;</span>(only available for
          FromEntityUnmarshallers)</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        method signatures should make their semantics relatively clear.</p>
    </div>
    <div class="section" id="using-unmarshallers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Using_Unmarshallers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Using
        Unmarshallers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        many places throughput Akka HTTP unmarshallers are used implicitly, e.g.
        when you want to access the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/directives/marshalling-directives/entity.html#entity"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">entity</span></a><span
          class="Apple-converted-space">&nbsp;</span>of a request using the<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/index.html#http-high-level-server-side-api"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Routing
            DSL</span></a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">However,
        you can also use the unmarshalling infrastructure directly if you wish,
        which can be useful for example in tests. The best entry point for this
        is the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.unmarshalling.Unmarshal</span></code><span
          class="Apple-converted-space">&nbsp;</span>object, which you can use
        like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">unmarshalling</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Unmarshal</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">system</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ExecutionContext</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Materializer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Await</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">duration</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">intFuture</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Unmarshal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"42"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">to</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">int</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Await</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">result</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">intFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// don't block in non-test code!</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">int</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">shouldEqual</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">42</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">boolFuture</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Unmarshal</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"off"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">to</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Boolean</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">bool</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Await</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">result</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">boolFuture</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mf" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">1.</span></span><span class="n"><span
class="lit" style="color: rgb(25, 95, 145);">second</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// don't block in non-test code!</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">bool</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">shouldBe</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kc" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">false</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Encoding
      / Decoding</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The<span
        class="Apple-converted-space">&nbsp;</span><a class="reference external"
        href="http://tools.ietf.org/html/rfc7231#section-3.1.2.1" style="color: rgb(21, 169, 206); text-decoration: none;">HTTP
        spec</a><span class="Apple-converted-space">&nbsp;</span>defines a<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Content-Encoding</span></code><span
        class="Apple-converted-space">&nbsp;</span>header, which signifies
      whether the entity body of an HTTP message is "encoded" and, if so, by
      which algorithm. The only commonly used content encodings are compression
      algorithms.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Currently
      Akka HTTP supports the compression and decompression of HTTP requests and
      responses with the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">gzip</span></code><span class="Apple-converted-space">&nbsp;</span>or<code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">deflate</span></code><span
        class="Apple-converted-space">&nbsp;</span>encodings. The core logic for
      this lives in the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
        href="http://github.com/akka/akka/tree/v2.4.10/akka-http/src/main/scala/akka/http/scaladsl/coding"
        style="color: rgb(21, 169, 206); text-decoration: none;">akka.http.scaladsl.coding</a><span
        class="Apple-converted-space">&nbsp;</span>package.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      support is not enabled automatically, but must be explicitly requested.
      For enabling message encoding/decoding with<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/index.html#http-high-level-server-side-api"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Routing
          DSL</span></a><span class="Apple-converted-space">&nbsp;</span>see the<span
        class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/directives/coding-directives/index.html#codingdirectives"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">CodingDirectives</span></a>.</p>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">JSON
      Support</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP's<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/http/common/marshalling.html#http-marshalling-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">marshalling</span></a><span
        class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/unmarshalling.html#http-unmarshalling-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">unmarshalling</span></a><span
        class="Apple-converted-space">&nbsp;</span>infrastructure makes it
      rather easy to seamlessly support specific wire representations of your
      data objects, like JSON, XML or even binary encodings.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">For
      JSON Akka HTTP currently provides support for<span class="Apple-converted-space">&nbsp;</span><a
        class="reference external" href="https://github.com/spray/spray-json" style="color: rgb(21, 169, 206); text-decoration: none;">spray-json</a><span
        class="Apple-converted-space">&nbsp;</span>right out of the box through
      it's<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka-http-spray-json</span></code><span
        class="Apple-converted-space">&nbsp;</span>module.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Other
      JSON libraries are supported by the community. See<span class="Apple-converted-space">&nbsp;</span><a
        class="reference external" href="http://akka.io/community/#extensions-to-akka-http"
        style="color: rgb(21, 169, 206); text-decoration: none;">the list of
        current community extensions for Akka HTTP</a>.</p>
    <div class="section" id="spray-json-support" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="spray-json_Support" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">spray-json
        Support</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://github.com/akka/akka/tree/v2.4.10/akka-http-marshallers-scala/akka-http-spray-json/src/main/scala/akka/http/scaladsl/marshallers/sprayjson/SprayJsonSupport.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">SprayJsonSupport</a><span
          class="Apple-converted-space">&nbsp;</span>trait provides a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">FromEntityUnmarshaller[T]</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code><span
          class="Apple-converted-space">&nbsp;</span>for every type<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">T</span></code><span class="Apple-converted-space">&nbsp;</span>that
        an implicit<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">spray.json.RootJsonReader</span></code><span
          class="Apple-converted-space">&nbsp;</span>and/or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">spray.json.RootJsonWriter</span></code><span
          class="Apple-converted-space">&nbsp;</span>(respectively) is available
        for.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is how you enable automatic support for (un)marshalling from and to JSON
        with<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="https://github.com/spray/spray-json" style="color: rgb(21, 169, 206); text-decoration: none;">spray-json</a>:</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">Add a library dependency onto<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">"com.typesafe.akka"</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">%%</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">"akka-http-spray-json-experimental"</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">%</span><span
              class="pre" style="color: rgb(11, 85, 103);">"2.4.10"</span></code>.</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">import</span><span class="Apple-converted-space">&nbsp;</span><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.marshallers.sprayjson.SprayJsonSupport._</span></code><span
            class="Apple-converted-space">&nbsp;</span>or mix in the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.marshallers.sprayjson.SprayJsonSupport</span></code><span
            class="Apple-converted-space">&nbsp;</span>trait.</li>
        <li style="line-height: 18px;">Provide a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">RootJsonFormat[T]</span></code><span
            class="Apple-converted-space">&nbsp;</span>for your type and bring
          it into scope. Check out the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://github.com/spray/spray-json"
            style="color: rgb(21, 169, 206); text-decoration: none;">spray-json</a><span
            class="Apple-converted-space">&nbsp;</span>documentation for more
          info on how to do this.</li>
      </ol>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        you have done this (un)marshalling between JSON and your type<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">T</span></code><span class="Apple-converted-space">&nbsp;</span>should
        work nicely and transparently.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">marshallers</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">sprayjson</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">SprayJsonSupport</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">spray</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">json</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// domain model</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">name</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">id</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Long</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Order</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">items</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">List</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">])</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// collect your json format instances into a support trait:</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">trait</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">JsonSupport</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SprayJsonSupport</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DefaultJsonProtocol</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">itemFormat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonFormat2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">orderFormat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonFormat1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Order</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// contains List[Item]</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// use it wherever json (un)marshalling is needed</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyJsonService</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">JsonSupport</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// format: OFF</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">get</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">pathSingleSlash</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Item</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"thing"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">42</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">))</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// will render as JSON</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">~</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">post</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entity</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">as</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Order</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">order</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// will unmarshal JSON to Order</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">itemsCount</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">order</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">items</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">itemNames</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">order</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">items</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mkString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">", "</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Ordered </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$itemsCount</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);"> items: </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$itemNames</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// format: ON</span></span></li></ol></pre>
        </div>
      </div>
      <ol class="arabic simple" start="4" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">By default, spray-json marshals your
          types to pretty printed json by implicit conversion using
          PrettyPrinter, as defined in<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">implicit</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">def</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">sprayJsonMarshallerConverter[T](writer:</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">RootJsonWriter[T])(implicit</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">printer:</span><span
              class="pre" style="color: rgb(11, 85, 103);">JsonPrinter</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">=</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">PrettyPrinter):</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[T]</span></code>.
          Alternately to marshal your types to compact printed json, bring a<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">CompactPrinter</span></code><span
            class="Apple-converted-space">&nbsp;</span>in scope to perform
          implicit conversion.</li>
      </ol>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">spray</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">json</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// domain model</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CompactPrintedItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">id</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Long</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">trait</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CompactJsonFormatSupport</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">DefaultJsonProtocol</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SprayJsonSupport</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">printer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">CompactPrinter</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">compactPrintedItemFormat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonFormat2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">CompactPrintedItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// use it wherever json (un)marshalling is needed</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">MyJsonService</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CompactJsonFormatSupport</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// format: OFF</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">pathSingleSlash</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">              </span><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// should complete with spray.json.JsValue = {"name":"akka","id":42}</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">              </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">CompactPrintedItem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">42</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// will render as JSON</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// format: ON</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        learn more about how spray-json works please refer to its<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://github.com/spray/spray-json"
          style="color: rgb(21, 169, 206); text-decoration: none;">documentation</a>.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">XML
      Support</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP's<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/http/common/marshalling.html#http-marshalling-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">marshalling</span></a><span
        class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/unmarshalling.html#http-unmarshalling-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">unmarshalling</span></a><span
        class="Apple-converted-space">&nbsp;</span>infrastructure makes it
      rather easy to seamlessly support specific wire representations of your
      data objects, like JSON, XML or even binary encodings.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">For
      XML Akka HTTP currently provides support for<span class="Apple-converted-space">&nbsp;</span><a
        class="reference external" href="https://github.com/scala/scala-xml" style="color: rgb(21, 169, 206); text-decoration: none;">Scala
        XML</a><span class="Apple-converted-space">&nbsp;</span>right out of the
      box through it's<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka-http-xml</span></code><span
        class="Apple-converted-space">&nbsp;</span>module.</p>
    <div class="section" id="scala-xml-support" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Scala_XML_Support" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Scala
        XML Support</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://github.com/akka/akka/tree/v2.4.10/akka-http-marshallers-scala/akka-http-xml/src/main/scala/akka/http/scaladsl/marshallers/xml/ScalaXmlSupport.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">ScalaXmlSupport</a><span
          class="Apple-converted-space">&nbsp;</span>trait provides a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">FromEntityUnmarshaller[NodeSeq]</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ToEntityMarshaller[NodeSeq]</span></code>that
        you can use directly or build upon.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is how you enable support for (un)marshalling from and to JSON with<span
          class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="https://github.com/scala/scala-xml" style="color: rgb(21, 169, 206); text-decoration: none;">Scala
          XML</a><span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">NodeSeq</span></code>:</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">Add a library dependency onto<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">"com.typesafe.akka"</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">%%</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">"akka-http-xml-experimental"</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">%</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">"1.x"</span></code>.</li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">import</span><span class="Apple-converted-space">&nbsp;</span><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.marshallers.xml.ScalaXmlSupport._</span></code><span
            class="Apple-converted-space">&nbsp;</span>or mix in the<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.marshallers.xml.ScalaXmlSupport</span></code><span
            class="Apple-converted-space">&nbsp;</span>trait.</li>
      </ol>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        you have done this (un)marshalling between XML and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">NodeSeq</span></code><span
          class="Apple-converted-space">&nbsp;</span>instances should work
        nicely and transparently.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP Timeouts</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP comes with a variety of built-in timeout mechanisms to protect your
      servers from malicious attacks or programming mistakes. Some of these are
      simply configuration options (which may be overriden in code) while others
      are left to the streaming APIs and are easily implementable as patterns in
      user-code directly.</p>
    <div class="section" id="common-timeouts" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Common_timeouts" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Common
        timeouts</h2>
      <div class="section" id="idle-timeouts-scala"><span id="idle-timeouts"></span>
        <h3 id="Idle_timeouts" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Idle
          timeouts</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">idle-timeout</span></code><span
            class="Apple-converted-space">&nbsp;</span>is a global setting which
          sets the maximum inactivity time of a given connection. In other
          words, if a connection is open but no request/response is being
          written to it for over<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">idle-timeout</span></code><span
            class="Apple-converted-space">&nbsp;</span>time, the connection will
          be automatically closed.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          setting works the same way for all connections, be it server-side or
          client-side, and it's configurable independently for each of those
          using the following keys:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">server</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">idle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">client</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">idle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">idle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">client</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">idle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">timeout</span></span></li></ol></pre>
          </div>
        </div>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
            the connection pooled client side the idle period is counted only
            when the pool has no pending requests waiting.</p>
        </div>
      </div>
    </div>
    <div class="section" id="server-timeouts" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Server_timeouts" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Server
        timeouts</h2>
      <div class="section" id="request-timeout"><span id="request-timeout-scala"></span>
        <h3 id="Request_timeout" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Request
          timeout</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Request
          timeouts are a mechanism that limits the maximum time it may take to
          produce an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code><span
            class="Apple-converted-space">&nbsp;</span>from a route. If that
          deadline is not met the server will automatically inject a Service
          Unavailable HTTP response and close the connection to prevent it from
          leaking and staying around indefinitely (for example if by programming
          error a Future would never complete, never sending the real response
          otherwise).</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          default<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code><span
            class="Apple-converted-space">&nbsp;</span>that is written when a
          request timeout is exceeded looks like this:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ServiceUnavailable</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entity</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"The server was not able "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"to produce a timely response to your request.\r\nPlease try again in a short while!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
          default request timeout is applied globally to all routes and can be
          configured using the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.server.request-timeout</span></code><span
            class="Apple-converted-space">&nbsp;</span>setting (which defaults
          to 20 seconds).</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Please
            note that if multiple requests (<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">R1,R2,R3,...</span></code>)
            were sent by a client (see "HTTP pipelining") using the same
            connection and the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">n-th</span></code><span
              class="Apple-converted-space">&nbsp;</span>request triggers a
            request timeout the server will reply with an Http Response and
            close the connection, leaving the<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">(n+1)-th</span></code><span
              class="Apple-converted-space">&nbsp;</span>(and subsequent
            requests on the same connection) unhandled.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          request timeout can be configured at run-time for a given route using
          the any of the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/directives/timeout-directives/index.html#timeoutdirectives"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">TimeoutDirectives</span></a>.</p>
      </div>
      <div class="section" id="bind-timeout">
        <h3 id="Bind_timeout" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Bind
          timeout</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          bind timeout is the time period within which the TCP binding process
          must be completed (using any of the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Http().bind*</span></code><span
            class="Apple-converted-space">&nbsp;</span>methods). It can be
          configured using the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.server.bind-timeout</span></code><span
            class="Apple-converted-space">&nbsp;</span>setting.</p>
      </div>
    </div>
    <div class="section" id="client-timeouts" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Client_timeouts" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Client
        timeouts</h2>
      <div class="section" id="connecting-timeout">
        <h3 id="Connecting_timeout" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Connecting
          timeout</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          connecting timeout is the time period within which the TCP connecting
          process must be completed. Tweaking it should rarely be required, but
          it allows erroring out the connection in case a connection is unable
          to be established for a given amount of time.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">it
          can be configured using the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.client.connecting-timeout</span></code><span
            class="Apple-converted-space">&nbsp;</span>setting.</p>
      </div>
    </div>
    <br>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Implications
      of the streaming nature of Request/Response Entities</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP is streaming<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">all
        the way through</em>, which means that the back-pressure mechanisms
      enabled by Akka Streams are exposed through all layers–from the TCP layer,
      through the HTTP server, all the way up to the user-facing<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
        class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code><span
        class="Apple-converted-space">&nbsp;</span>and their<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code><span
        class="Apple-converted-space">&nbsp;</span>APIs.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">This
      has surprising implications if you are used to non-streaming /
      not-reactive HTTP clients. Specifically it means that: "<em style="font-style: italic;">lack
        of consumption of the HTTP Entity, is signaled as back-pressure to the
        other side of the connection</em>". This is a feature, as it allows one
      only to consume the entity, and back-pressure servers/clients from
      overwhelming our application, possibly causing un-necessary buffering of
      the entity in memory.</p>
    <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Consuming
        (or discarding) the Entity of a request is mandatory! If<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">accidentally</em><span class="Apple-converted-space">&nbsp;</span>left
        neither consumed or discarded Akka HTTP will assume the incoming data
        should remain back-pressured, and will stall the incoming data via TCP
        back-pressure mechanisms. A client should consume the Entity regardless
        of the status of the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>.</p>
    </div>
    <div class="section" id="client-side-handling-of-streaming-http-entities" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Client-Side_handling_of_streaming_HTTP_Entities" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Client-Side
        handling of streaming HTTP Entities</h2>
      <div class="section" id="consuming-the-http-response-entity-client">
        <h3 id="Consuming_the_HTTP_Response_Entity__Client_" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Consuming
          the HTTP Response Entity (Client)</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          most common use-case of course is consuming the response entity, which
          can be done via running the underlying<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">dataBytes</span></code><span
            class="Apple-converted-space">&nbsp;</span>Source. This is as simple
          as running the dataBytes source, (or on the server-side using
          directives such as<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">BasicDirectives.extractDataBytes</span></code>).</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
          is encouraged to use various streaming techniques to utilise the
          underlying infrastructure to its fullest, for example by framing the
          incoming chunks, parsing them line-by-line and then connecting the
          flow into another destination Sink, such as a File or other Akka
          Streams connector:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">File</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Framing</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">FileIO</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">response</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">response</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dataBytes</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">via</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Framing</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">delimiter</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"\n"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">maximumFrameLength</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">256</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">map</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">transformEachLine</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runWith</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FileIO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toPath</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">File</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/tmp/example.out"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toPath</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">transformEachLine</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">line</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">however
          sometimes the need may arise to consume the entire entity as<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Strict</span></code><span
            class="Apple-converted-space">&nbsp;</span>entity (which means that
          it is completely loaded into memory). Akka HTTP provides a special<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">toStrict(timeout)</span></code><span
            class="Apple-converted-space">&nbsp;</span>method which can be used
          to eagerly consume the entity and make it available in memory:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">File</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">duration</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ExamplePerson</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">parse</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">line</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ExamplePerson</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">response</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// toStrict to enforce all data be loaded into memory from the connection</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">strictEntity</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Strict</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">response</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toStrict</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">3.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// while API remains the same to consume dataBytes, now they're in memory already:</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">transformedData</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ExamplePerson</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">strictEntity</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">flatMap</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">e</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">e</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dataBytes</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runFold</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">acc</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">acc</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">++</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">map</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">parse</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="discarding-the-http-response-entity-client">
        <h3 id="Discarding_the_HTTP_Response_Entity__Client_" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Discarding
          the HTTP Response Entity (Client)</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sometimes
          when calling HTTP services we do not care about their response payload
          (e.g. all we care about is the response code), yet as explained above
          entity still has to be consumed in some way, otherwise we'll be
          exherting back-pressure on the underlying TCP connection.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">discardEntityBytes</span></code><span
            class="Apple-converted-space">&nbsp;</span>convenience method serves
          the purpose of easily discarding the entity if it has no purpose for
          us. It does so by piping the incoming bytes directly into an<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Sink.ignore</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          two snippets below are equivalent, and work the same way on the
          server-side for incoming HTTP Requests:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">response1</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// obtained from an HTTP call (see examples below)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">discarded</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">DiscardedEntity</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">response1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">discardEntityBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">discarded</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">done</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">println</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Entity discarded completely!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Or
          the equivalent low-level code achieving the same result:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">response1</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// obtained from an HTTP call (see examples below)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">discardingComplete</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Done</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">response1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dataBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runWith</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ignore</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">discardingComplete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="kwd"
style="color: rgb(48, 166, 40);">done</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">println</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Entity discarded completely!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="section" id="server-side-handling-of-streaming-http-entities" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Server-Side_handling_of_streaming_HTTP_Entities" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Server-Side
        handling of streaming HTTP Entities</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Similarily
        as with the Client-side, HTTP Entities are directly linked to Streams
        which are fed by the underlying TCP connection. Thus, if request
        entities remain not consumed, the server will back-pressure the
        connection, expecting that the user-code will eventually decide what to
        do with the incoming data.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that some directives force an implicit<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">toStrict</span></code><span
          class="Apple-converted-space">&nbsp;</span>operation, such as<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">entity(as[String])</span></code><span
          class="Apple-converted-space">&nbsp;</span>and similar ones.</p>
      <div class="section" id="consuming-the-http-request-entity-server">
        <h3 id="Consuming_the_HTTP_Request_Entity__Server_" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Consuming
          the HTTP Request Entity (Server)</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          simplest way of consuming the incoming request entity is to simply
          transform it into an actual domain object, for example by using the<span
            class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/directives/marshalling-directives/entity.html#entity"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">entity</span></a><span
            class="Apple-converted-space">&nbsp;</span>directive:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">marshallers</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">sprayjson</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">SprayJsonSupport</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">spray</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">json</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">DefaultJsonProtocol</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// needed for the future flatMap/onComplete in the end</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Bid</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">userId</span></span><span class="k"
style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">String</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">bid</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// these are from spray-json</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bidFormat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonFormat2</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Bid</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">route</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">path</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"bid"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">put</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">as</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Bid</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bid</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// incoming entity is fully consumed and converted into a Bid</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"The bid was: "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bid</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Of
          course you can access the raw dataBytes as well and run the underlying
          stream, for example piping it into an FileIO Sink, that signals
          completion via a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Future[IoResult]</span></code><span
            class="Apple-converted-space">&nbsp;</span>once all the data has
          been written into the file:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">FileIO</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">File</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// needed for the future flatMap/onComplete in the end</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">route</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">put</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&amp;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"lines"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">withoutSizeLimit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">extractDataBytes</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bytes</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">finishedWriting</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">bytes</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runWith</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FileIO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toPath</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">File</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/tmp/example.out"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toPath</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// we only want to respond once the incoming data has been handled:</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">finishedWriting</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ioResult</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Finished writing data: "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ioResult</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
      <div class="section" id="discarding-the-http-request-entity-server">
        <h3 id="Discarding_the_HTTP_Request_Entity__Server_" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Discarding
          the HTTP Request Entity (Server)</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sometimes,
          depending on some validation (e.g. checking if given user is allowed
          to perform uploads or not) you may want to decide to discard the
          uploaded entity.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Please
          note that discarding means that the entire upload will proceed, even
          though you are not interested in the data being streamed to the server
          - this may be useful if you are simply not interested in the given
          entity, however you don't want to abort the entire connection (which
          we'll demonstrate as well), since there may be more requests pending
          on the same connection still.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          order to discard the databytes explicitly you can invoke the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">discardEntityBytes</span></code><span
            class="Apple-converted-space">&nbsp;</span>bytes of the incoming<code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HTTPRequest</span></code>:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">FileIO</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// needed for the future flatMap/onComplete in the end</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">route</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">put</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&amp;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"lines"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">withoutSizeLimit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">extractRequest</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">finishedWriting</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">r</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">discardEntityBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">future</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// we only want to respond once the incoming data has been handled:</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">finishedWriting</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">done</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Drained all data from connection... ("</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">done</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">")"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
          related concept is<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">cancelling</em><span class="Apple-converted-space">&nbsp;</span>the
          incoming<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">entity.dataBytes</span></code><span
            class="Apple-converted-space">&nbsp;</span>stream, which results in
          Akka HTTP<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">abruptly
            closing the connection from the Client</em>. This may be useful when
          you detect that the given user should not be allowed to make any
          uploads at all, and you want to drop the connection (instead of
          reading and ignoring the incoming data). This can be done by attaching
          the incoming<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">entity.dataBytes</span></code><span
            class="Apple-converted-space">&nbsp;</span>to a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Sink.cancelled</span></code><span
            class="Apple-converted-space">&nbsp;</span>which will cancel the
          entity stream, which in turn will cause the underlying connection to
          be shut-down by the server – effectively hard-aborting the incoming
          request:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">headers</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Connection</span></span></li><li class="L4"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// needed for the future flatMap/onComplete in the end</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">route</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">put</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&amp;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"lines"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">withoutSizeLimit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">extractDataBytes</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Closing connections, method 1 (eager):</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// we deem this request as illegal, and close the connection right away:</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">data</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runWith</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cancelled</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// "brutally" closes the connection</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Closing connections, method 2 (graceful):</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// consider draining connection and replying with `Connection: Close` header</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// if you want the client to close after this request/reply cycle instead:</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">respondWithHeader</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Connection</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"close"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Forbidden</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Not allowed!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Closing
          connections is also explained in depth in the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/low-level-server-side-api.html#http-closing-connection-low-level"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Closing
              a connection</span></a><span class="Apple-converted-space">&nbsp;</span>section
          of the docs.</p>
      </div>
      <div class="section" id="pending-automatic-discarding-of-not-used-entities">
        <h3 id="Pending__Automatic_discarding_of_not_used_entities" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Pending:
          Automatic discarding of not used entities</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Under
          certain conditions it is possible to detect an entity is very unlikely
          to be used by the user for a given request, and issue warnings or
          discard the entity automatically. This advanced feature has not been
          implemented yet, see the below note and issues for further discussion
          and ideas.</p>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
            advanced feature code named "auto draining" has been discussed and
            proposed for Akka HTTP, and we're hoping to implement or help the
            community implement it.</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
            can read more about it in<span class="Apple-converted-space">&nbsp;</span><a
              class="reference external" href="https://github.com/akka/akka/issues/18716"
              style="color: rgb(11, 85, 103); text-decoration: none;">issue
              #18716</a><span class="Apple-converted-space">&nbsp;</span>as well
            as<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
              href="https://github.com/akka/akka/issues/18540" style="color: rgb(11, 85, 103); text-decoration: none;">issue
              #18540</a><span class="Apple-converted-space">&nbsp;</span>; as
            always, contributions are very welcome!</p>
        </div>
      </div>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Low-Level
      Server-Side API</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Apart
      from the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/index.html#http-client-side"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">HTTP
          Client</span></a><span class="Apple-converted-space">&nbsp;</span>Akka
      HTTP also provides an embedded,<span class="Apple-converted-space">&nbsp;</span><a
        class="reference external" href="http://www.reactive-streams.org/" style="color: rgb(21, 169, 206); text-decoration: none;">Reactive-Streams</a>-based,
      fully asynchronous HTTP/1.1 server implemented on top of<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/stream/index.html#streams-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Akka
          Stream</span></a>.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">It
      sports the following features:</p>
    <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc; color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <li style="line-height: 18px;">Full support for<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://en.wikipedia.org/wiki/HTTP_persistent_connection"
          style="color: rgb(21, 169, 206); text-decoration: none;">HTTP
          persistent connections</a></li>
      <li style="line-height: 18px;">Full support for<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://en.wikipedia.org/wiki/HTTP_pipelining"
          style="color: rgb(21, 169, 206); text-decoration: none;">HTTP
          pipelining</a></li>
      <li style="line-height: 18px;">Full support for asynchronous HTTP
        streaming including "chunked" transfer encoding accessible through an
        idiomatic API</li>
      <li style="line-height: 18px;">Optional SSL/TLS encryption</li>
      <li style="line-height: 18px;">WebSocket support</li>
    </ul>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      server-side components of Akka HTTP are split into two layers:</p>
    <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal; color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <li style="line-height: 18px;">The basic low-level server implementation
        in the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-http-core</span></code><span
          class="Apple-converted-space">&nbsp;</span>module</li>
      <li style="line-height: 18px;">Higher-level functionality in the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka-http</span></code><span
          class="Apple-converted-space">&nbsp;</span>module</li>
    </ol>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      low-level server (1) is scoped with a clear focus on the essential
      functionality of an HTTP/1.1 server:</p>
    <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc; color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <li style="line-height: 18px;">Connection management</li>
      <li style="line-height: 18px;">Parsing and rendering of messages and
        headers</li>
      <li style="line-height: 18px;">Timeout management (for requests and
        connections)</li>
      <li style="line-height: 18px;">Response ordering (for transparent
        pipelining support)</li>
    </ul>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">All
      non-core features of typical HTTP servers (like request routing, file
      serving, compression, etc.) are left to the higher layers, they are not
      implemented by the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka-http-core</span></code>-level
      server itself. Apart from general focus this design keeps the server core
      small and light-weight as well as easy to understand and maintain.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Depending
      on your needs you can either use the low-level API directly or rely on the
      high-level<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/index.html#http-high-level-server-side-api"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Routing
          DSL</span></a><span class="Apple-converted-space">&nbsp;</span>which
      can make the definition of more complex service logic much easier.</p>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is recommended to read the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/implications-of-streaming-http-entity.html#implications-of-streaming-http-entities"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Implications
            of the streaming nature of Request/Response Entities</span></a><span
          class="Apple-converted-space">&nbsp;</span>section, as it explains the
        underlying full-stack streaming concepts, which may be unexpected when
        coming from a background with non-"streaming first" HTTP Servers.</p>
    </div>
    <div class="section" id="streams-and-http" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Streams_and_HTTP" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Streams
        and HTTP</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        Akka HTTP server is implemented on top of<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/stream/index.html#streams-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Akka
            Stream</span></a><span class="Apple-converted-space">&nbsp;</span>and
        makes heavy use of it - in its implementation as well as on all levels
        of its API.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">On
        the connection level Akka HTTP offers basically the same kind of
        interface as<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/stream/stream-io.html#stream-io-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Akka
            Stream IO</span></a>: A socket binding is represented as a stream of
        incoming connections. The application pulls connections from this stream
        source and, for each of them, provides a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow[HttpRequest,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">HttpResponse,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">_]</span></code><span
          class="Apple-converted-space">&nbsp;</span>to "translate" requests
        into responses.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Apart
        from regarding a socket bound on the server-side as a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[IncomingConnection]</span></code><span
          class="Apple-converted-space">&nbsp;</span>and each connection as a<code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[HttpRequest]</span></code><span
          class="Apple-converted-space">&nbsp;</span>with a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Sink[HttpResponse]</span></code><span
          class="Apple-converted-space">&nbsp;</span>the stream abstraction is
        also present inside a single HTTP message: The entities of HTTP requests
        and responses are generally modeled as a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[ByteString]</span></code>.
        See also the<a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/http-model.html#http-model-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">HTTP
            Model</span></a><span class="Apple-converted-space">&nbsp;</span>for
        more information on how HTTP messages are represented in Akka HTTP.</p>
    </div>
    <div class="section" id="starting-and-stopping" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Starting_and_Stopping" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Starting
        and Stopping</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">On
        the most basic level an Akka HTTP server is bound by invoking the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">bind</span></code><span
          class="Apple-converted-space">&nbsp;</span>method of the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://github.com/akka/akka/tree/v2.4.10/akka-http-core/src/main/scala/akka/http/scaladsl/Http.scala"
          style="color: rgb(21, 169, 206); text-decoration: none;">akka.http.scaladsl.Http</a>extension:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSource</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">IncomingConnection</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">ServerBinding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bind</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">interface</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">port</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">bindingFuture</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">ServerBinding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSource</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">to</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// foreach materializes the source</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Accepted new connection from "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remoteAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// ... and then actually handle the connection</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">run</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Arguments
        to the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().bind</span></code><span
          class="Apple-converted-space">&nbsp;</span>method specify the
        interface and port to bind to and register interest in handling incoming
        HTTP connections. Additionally, the method also allows for the
        definition of socket options as well as a larger number of settings for
        configuring the server according to your needs.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        result of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">bind</span></code><span
          class="Apple-converted-space">&nbsp;</span>method is a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[Http.IncomingConnection]</span></code><span
          class="Apple-converted-space">&nbsp;</span>which must be drained by
        the application in order to accept incoming connections. The actual
        binding is not performed before this source is materialized as part of a
        processing pipeline. In case the bind fails (e.g. because the port is
        already busy) the materialized stream will immediately be terminated
        with a respective exception. The binding is released (i.e. the
        underlying socket unbound) when the subscriber of the incoming
        connection source has cancelled its subscription. Alternatively one can
        use the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">unbind()</span></code><span
          class="Apple-converted-space">&nbsp;</span>method of the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.ServerBinding</span></code><span
          class="Apple-converted-space">&nbsp;</span>instance that is created as
        part of the connection source's materialization process. The<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.ServerBinding</span></code><span
          class="Apple-converted-space">&nbsp;</span>also provides a way to get
        a hold of the actual local address of the bound socket, which is useful
        for example when binding to port zero (and thus letting the OS pick an
        available port).</p>
    </div>
    <div class="section" id="request-response-cycle" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Request-Response_Cycle" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Request-Response
        Cycle</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        a new connection has been accepted it will be published as an<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.IncomingConnection</span></code><span
          class="Apple-converted-space">&nbsp;</span>which consists of the
        remote address and methods to provide a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow[HttpRequest,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">HttpResponse,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">_]</span></code><span
          class="Apple-converted-space">&nbsp;</span>to handle requests coming
        in over this connection.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Requests
        are handled by calling one of the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">handleWithXXX</span></code><span
          class="Apple-converted-space">&nbsp;</span>methods with a handler,
        which can either be</p>
      <blockquote style="padding: 0px 0px 0px 15px; margin: 0px 0px 18px; border-left-width: 5px; border-left-style: solid; border-left-color: rgb(238, 238, 238);">
        <div>
          <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
            <li style="line-height: 18px;">a<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Flow[HttpRequest,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">HttpResponse,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">_]</span></code><span
                class="Apple-converted-space">&nbsp;</span>for<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">handleWith</span></code>,</li>
            <li style="line-height: 18px;">a function<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">=&gt;</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code><span
                class="Apple-converted-space">&nbsp;</span>for<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">handleWithSyncHandler</span></code>,</li>
            <li style="line-height: 18px;">a function<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">=&gt;</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Future[HttpResponse]</span></code><span
                class="Apple-converted-space">&nbsp;</span>for<span class="Apple-converted-space">&nbsp;</span><code
                class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">handleWithAsyncHandler</span></code>.</li>
          </ul>
        </div>
      </blockquote>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
        is a complete example:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">HttpMethods</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSource</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bind</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">interface</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">port</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">requestHandler</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">GET</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Uri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/"</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">),</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/html(UTF-8)`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"&lt;html&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">GET</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Uri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/ping"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"PONG!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">GET</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Uri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"/crash"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sys</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">error</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"BOOM!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">r</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">r</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">discardEntityBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// important to drain incoming HTTP Entity stream</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">404</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entity</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Unknown resource!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">bindingFuture</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">ServerBinding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSource</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">to</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Accepted new connection from "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">remoteAddress</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">connection</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handleWithSyncHandler</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">requestHandler</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// this is equivalent to</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// connection handleWith { Flow[HttpRequest] map requestHandler }</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}).</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">run</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        this example, a request is handled by transforming the request stream
        with a function<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">=&gt;</span><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code><span
          class="Apple-converted-space">&nbsp;</span>using<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">handleWithSyncHandler</span></code><span
          class="Apple-converted-space">&nbsp;</span>(or equivalently, Akka
        Stream's<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">map</span></code><span
          class="Apple-converted-space">&nbsp;</span>operator). Depending on the
        use case many other ways of providing a request handler are conceivable
        using Akka Stream's combinators.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        the application provides a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow</span></code><span
          class="Apple-converted-space">&nbsp;</span>it is also the
        responsibility of the application to generate exactly one response for
        every request and that the ordering of responses matches the ordering of
        the associated requests (which is relevant if HTTP pipelining is enabled
        where processing of multiple incoming requests may overlap). When
        relying on<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">handleWithSyncHandler</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">handleWithAsyncHandler</span></code>,
        or the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">map</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">mapAsync</span></code><span
          class="Apple-converted-space">&nbsp;</span>stream operators, this
        requirement will be automatically fulfilled.</p>
      <div class="section" id="streaming-request-response-entities">
        <h3 id="Streaming_Request_Response_Entities" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Streaming
          Request/Response Entities</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Streaming
          of HTTP message entities is supported through subclasses of<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpEntity</span></code>.
          The application needs to be able to deal with streamed entities when
          receiving a request as well as, in many cases, when constructing
          responses. See<a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/http-model.html#httpentity-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">HttpEntity</span></a><span
            class="Apple-converted-space">&nbsp;</span>for a description of the
          alternatives.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          you rely on the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/http/common/marshalling.html#http-marshalling-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Marshalling</span></a><span
            class="Apple-converted-space">&nbsp;</span>and/or<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/unmarshalling.html#http-unmarshalling-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Unmarshalling</span></a><span
            class="Apple-converted-space">&nbsp;</span>facilities provided by
          Akka HTTP then the conversion of custom types to and from streamed
          entities can be quite convenient.</p>
      </div>
      <div class="section" id="closing-a-connection"><span id="http-closing-connection-low-level"></span>
        <h3 id="Closing_a_connection" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Closing
          a connection</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          HTTP connection will be closed when the handling<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Flow</span></code><span
            class="Apple-converted-space">&nbsp;</span>cancels its upstream
          subscription or the peer closes the connection. An often times more
          convenient alternative is to explicitly add a<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Connection:</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">close</span></code><span
            class="Apple-converted-space">&nbsp;</span>header to an<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>.
          This response will then be the last one on the connection and the
          server will actively close the connection when it has been sent out.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Connection
          will also be closed if request entity has been cancelled (e.g. by
          attaching it to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Sink.cancelled</span></code>)
          or consumed only partially (e.g. by using<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">take</span></code><span
            class="Apple-converted-space">&nbsp;</span>combinator). In order to
          prevent this behaviour entity should be explicitly drained by
          attaching it to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Sink.ignore</span></code>.</p>
      </div>
    </div>
    <div class="section" id="configuring-server-side-https" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Configuring_Server-side_HTTPS" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuring
        Server-side HTTPS</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        detailed documentation about configuring and using HTTPS on the
        server-side refer to<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/server-side-https-support.html#serversidehttps-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Server-Side
            HTTPS Support</span></a>.</p>
    </div>
    <div class="section" id="stand-alone-http-layer-usage" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="http-server-layer-scala"></span>
      <h2 id="Stand-Alone_HTTP_Layer_Usage" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Stand-Alone
        HTTP Layer Usage</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Due
        to its Reactive-Streams-based nature the Akka HTTP layer is fully
        detachable from the underlying TCP interface. While in most applications
        this "feature" will not be crucial it can be useful in certain cases to
        be able to "run" the HTTP layer (and, potentially, higher-layers)
        against data that do not come from the network but rather some other
        source. Potential scenarios where this might be useful include tests,
        debugging or low-level event-sourcing (e.g by replaying network
        traffic).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">On
        the server-side the stand-alone HTTP layer forms a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">BidiFlow</span></code><span
          class="Apple-converted-space">&nbsp;</span>that is defined like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * The type of the server-side HTTP layer as a stand-alone BidiFlow</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * that can be put atop the TCP layer to form an HTTP server.</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> *</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * {{{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> *                +------+</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * HttpResponse ~&gt;|      |~&gt; SslTlsOutbound</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> *                | bidi |</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * HttpRequest  &lt;~|      |&lt;~ SslTlsInbound</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> *                +------+</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * }}}</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> */</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ServerLayer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">BidiFlow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SslTlsOutbound</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SslTlsInbound</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">NotUsed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        create an instance of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.ServerLayer</span></code><span
          class="Apple-converted-space">&nbsp;</span>by calling one of the two
        overloads of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().serverLayer</span></code>method,
        which also allows for varying degrees of configuration.</p>
    </div>
    <div class="section" id="controlling-server-parallelism" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Controlling_server_parallelism" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Controlling
        server parallelism</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Request
        handling can be parallelized on two axes, by handling several
        connections in parallel and by relying on HTTP pipelining to send
        several requests on one connection without waiting for a response first.
        In both cases the client controls the number of ongoing requests. To
        prevent being overloaded by too many requests, Akka HTTP can limit the
        number of requests it handles in parallel.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">To
        limit the number of simultaneously open connections, use the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.http.server.max-connections</span></code><span
          class="Apple-converted-space">&nbsp;</span>setting. This setting
        applies to all of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.bindAndHandle*</span></code><span
          class="Apple-converted-space">&nbsp;</span>methods. If you use<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.bind</span></code>,
        incoming connections are represented by a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[IncomingConnection,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">...]</span></code>.
        Use Akka Stream's combinators to apply backpressure to control the flow
        of incoming connections, e.g. by using<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">throttle</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">mapAsync</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">HTTP
        pipelining is generally discouraged (and<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://en.wikipedia.org/w/index.php?title=HTTP_pipelining&amp;oldid=700966692#Implementation_in_web_browsers"
          style="color: rgb(21, 169, 206); text-decoration: none;">disabled by
          most browsers</a>) but is nevertheless fully supported in Akka HTTP.
        The limit is applied on two levels. First, there's the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.http.server.pipeline-limit</span></code><span
          class="Apple-converted-space">&nbsp;</span>config setting which
        prevents that more than the given number of outstanding requests is ever
        given to the user-supplied handler-flow. On the other hand, the handler
        flow itself can apply any kind of throttling itself. If you use one of
        the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.bindAndHandleSync</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.bindAndHandleAsync</span></code><span
          class="Apple-converted-space">&nbsp;</span>entry-points, you can
        specify the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">parallelism</span></code>argument
        (default = 1, i.e. pipelining disabled) to control the number of
        concurrent requests per connection. If you use<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.bindAndHandle</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.bind</span></code>,
        the user-supplied handler flow has full control over how many request it
        accepts simultaneously by applying backpressure. In this case, you can
        e.g. use Akka Stream's<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">mapAsync</span></code><span
          class="Apple-converted-space">&nbsp;</span>combinator with a given
        parallelism to limit the number of concurrently handled requests.
        Effectively, the more constraining one of these two measures, config
        setting and manual flow shaping, will determine how parallel requests on
        one connection are handled.</p>
    </div>
    <div class="section" id="handling-http-server-failures-in-the-low-level-api"
      style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="handling-http-server-failures-low-level-scala"></span>
      <h2 id="Handling_HTTP_Server_failures_in_the_Low-Level_API" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Handling
        HTTP Server failures in the Low-Level API</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are various situations when failure may occur while initialising or
        running an Akka HTTP server. Akka by default will log all these
        failures, however sometimes one may want to react to failures in
        addition to them just being logged, for example by shutting down the
        actor system, or notifying some external monitoring end-point
        explicitly.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are multiple things that can fail when creating and materializing an
        HTTP Server (similarily, the same applied to a plain streaming<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Tcp()</span></code><span
          class="Apple-converted-space">&nbsp;</span>server). The types of
        failures that can happen on different layers of the stack, starting from
        being unable to start the server, and ending with failing to unmarshal
        an HttpRequest, examples of failures include (from outer-most, to
        inner-most):</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Failure to<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">bind</span></code><span
            class="Apple-converted-space">&nbsp;</span>to the specified
          address/port,</li>
        <li style="line-height: 18px;">Failure while accepting new<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">IncommingConnection</span></code><span
            class="Apple-converted-space">&nbsp;</span>s, for example when the
          OS has run out of file descriptors or memory,</li>
        <li style="line-height: 18px;">Failure while handling a connection, for
          example if the incoming<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
            class="Apple-converted-space">&nbsp;</span>is malformed.</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        section describes how to handle each failure situation, and in which
        situations these failures may occur.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        first type of failure is when the server is unable to bind to the given
        port. For example when the port is already taken by another application,
        or if the port is privileged (i.e. only usable by<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">root</span></code>). In
        this case the "binding future" will fail immediatly, and we can react to
        if by listening on the Future's completion:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ServerBinding</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// needed for the future onFailure in the end</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// let's say the OS won't allow us to bind to 80.</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">80</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSource</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bind</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">bindingFuture</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ServerBinding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serverSource</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">to</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">handleConnections</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Sink[Http.IncomingConnection, _]</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">run</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">onFailure</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ex</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Exception</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">error</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ex</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Failed to bind to {}:{}!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        the server has successfully bound to a port, the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[IncomingConnection,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">_]</span></code><span
          class="Apple-converted-space">&nbsp;</span>starts running and emiting
        new incoming connections. This source technically can signal a failure
        as well, however this should only happen in very dramantic situations
        such as running out of file descriptors or memory available to the
        system, such that it's not able to accept a new incoming connection.
        Handling failures in Akka Streams is pretty stright forward, as failures
        are signaled through the stream starting from the stage which failed,
        all the way downstream to the final stages.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        the example below we add a custom<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">GraphStage</span></code><span
          class="Apple-converted-space">&nbsp;</span>(see<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/stream/stream-customize.html#stream-customize-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Custom
            stream processing</span></a>) in order to react to the stream's
        failure. We signal a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">failureMonitor</span></code><span
          class="Apple-converted-space">&nbsp;</span>actor with the cause why
        the stream is going down, and let the Actor handle the rest – maybe
        it'll decide to restart the server or shutdown the ActorSystem, that
        however is not our concern anymore.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSource</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bind</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">failureMonitor</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">MyExampleMonitoringActor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">reactToTopLevelFailures</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">IncomingConnection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">watchTermination</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()((</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">termination</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">termination</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onFailure</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">cause</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">failureMonitor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cause</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">})</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">serverSource</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">via</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">reactToTopLevelFailures</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">to</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">handleConnections</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Sink[Http.IncomingConnection, _]</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">run</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        third type of failure that can occur is when the connection has been
        properly established, however afterwards is terminated abruptly – for
        example by the client aborting the underlying TCP connection. To handle
        this failure we can use the same pattern as in the previous snippet,
        however apply it to the connection's Flow:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">serverSource</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bind</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">reactToConnectionFailure</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">recover</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ex</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// handle the failure somehow</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">throw</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ex</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">httpEcho</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">via</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">reactToConnectionFailure</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">map</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">request</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// simple streaming (!) "echo" response:</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/plain(UTF-8)`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">request</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dataBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">serverSource</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runForeach</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">con</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">con</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handleWith</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">httpEcho</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">These
        failures can be described more or less infrastructure related, they are
        failing bindings or connections. Most of the time you won't need to dive
        into those very deeply, as Akka will simply log errors of this kind
        anyway, which is a reasonable default for such problems.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        order to learn more about handling exceptions in the actual routing
        layer, which is where your application code comes into the picture,
        refer to<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/exception-handling.html#exception-handling-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Exception
            Handling</span></a><span class="Apple-converted-space">&nbsp;</span>which
        focuses explicitly on explaining how exceptions thrown in routes can be
        handled and transformed into<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code><span
          class="Apple-converted-space">&nbsp;</span>s with apropriate error
        codes and human-readable failure descriptions.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">High-level
      Server-Side API</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">In
      addition to the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/http/low-level-server-side-api.html#http-low-level-server-side-api"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Low-Level
          Server-Side API</span></a><span class="Apple-converted-space">&nbsp;</span>Akka
      HTTP provides a very flexible "Routing DSL" for elegantly defining RESTful
      web services. It picks up where the low-level API leaves off and offers
      much of the higher-level functionality of typical web servers or
      frameworks, like deconstruction of URIs, content negotiation or static
      content serving.</p>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is recommended to read the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/implications-of-streaming-http-entity.html#implications-of-streaming-http-entities"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Implications
            of the streaming nature of Request/Response Entities</span></a><span
          class="Apple-converted-space">&nbsp;</span>section, as it explains the
        underlying full-stack streaming concepts, which may be unexpected when
        coming from a background with non-"streaming first" HTTP Servers.</p>
    </div>
    <div class="toctree-wrapper compound" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <ul style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/overview.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Routing DSL
            Overview</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/routes.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Routes</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/directives/index.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Directives</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/rejections.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Rejections</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/exception-handling.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Exception
            Handling</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/path-matchers.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">The
            PathMatcher DSL</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/case-class-extraction.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Case Class
            Extraction</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/source-streaming-support.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Source
            Streaming</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/source-streaming-support.html#json-streaming"
            style="color: rgb(21, 56, 78); text-decoration: none;">JSON
            Streaming</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/testkit.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Route TestKit</a></li>
        <li class="toctree-l1" style="line-height: 18px; font-weight: bold; font-size: 14px; padding-top: 4px;"><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/websocket-support.html"
            style="color: rgb(21, 56, 78); text-decoration: none;">Server-Side
            WebSocket Support</a></li>
      </ul>
    </div>
    <div class="section" id="minimal-example" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Minimal_Example" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Minimal
        Example</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is a complete, very basic Akka HTTP application relying on the Routing
        DSL:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebServer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"my-system"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// needed for the future flatMap/onComplete in the end</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">path</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"hello"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ContentTypes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`text/html(UTF-8)`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"&lt;h1&gt;Say hello to akka-http&lt;/h1&gt;"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">println</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Server online at http://localhost:8080/\nPress RETURN to stop..."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">StdIn</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">readLine</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// let it run until user presses return</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">flatMap</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unbind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// trigger unbinding from the port</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// and shutdown when done</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        starts an HTTP Server on localhost and replies to GET requests to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">/hello</span></code><span
          class="Apple-converted-space">&nbsp;</span>with a simple response.</p>
    </div>
    <div class="section" id="longer-example" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="long-example"></span>
      <h2 id="Longer_Example" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Longer
        Example</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        following is an Akka HTTP route definition that tries to show off a few
        features. The resulting service does not really do anything useful but
        its definition should give you a feel for what an actual API definition
        with the Routing DSL will look like:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="kwd" style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">actor</span><span
class="pun" style="color: rgb(89, 80, 80);">.{</span><span class="typ" style="color: rgb(0, 143, 169);">ActorRef</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">coding</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Deflate</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">marshalling</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">ToResponseMarshaller</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">model</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">MovedPermanently</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">server</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Directives</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">unmarshalling</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">FromRequestUnmarshaller</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">pattern</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">ask</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">stream</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">import</span><span class="pln" style="color: rgb(89, 80, 80);"> akka</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">util</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Timeout</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);">// types used by the API routes</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">type </span><span class="typ" style="color: rgb(0, 143, 169);">Money</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Double</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="com" style="color: rgb(147, 161, 161);">// only for demo purposes, don't try this at home!</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">type </span><span class="typ" style="color: rgb(0, 143, 169);">TransactionResult</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">String</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">case</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">class</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">User</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="pln" style="color: rgb(89, 80, 80);">name</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">String</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">class</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Order</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="pln" style="color: rgb(89, 80, 80);">email</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">String</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> amount</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Money</span><span class="pun" style="color: rgb(89, 80, 80);">)</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">case</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">class</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Update</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="pln" style="color: rgb(89, 80, 80);">order</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Order</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">class</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">OrderItem</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="pln" style="color: rgb(89, 80, 80);">i</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Int</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> os</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Option</span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="typ" style="color: rgb(0, 143, 169);">String</span><span class="pun" style="color: rgb(89, 80, 80);">],</span><span
class="pln" style="color: rgb(89, 80, 80);"> s</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">String</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);">// marshalling would usually be derived automatically using libraries</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">implicit</span><span class="pln" style="color: rgb(89, 80, 80);"> val orderUM</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">FromRequestUnmarshaller</span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="typ" style="color: rgb(0, 143, 169);">Order</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">???</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span><span class="pln" style="color: rgb(89, 80, 80);"> val orderM</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">ToResponseMarshaller</span><span class="pun"
style="color: rgb(89, 80, 80);">[</span><span class="typ" style="color: rgb(0, 143, 169);">Order</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">???</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span><span class="pln" style="color: rgb(89, 80, 80);"> val orderSeqM</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">ToResponseMarshaller</span><span class="pun"
style="color: rgb(89, 80, 80);">[</span><span class="typ" style="color: rgb(0, 143, 169);">Seq</span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="typ" style="color: rgb(0, 143, 169);">Order</span><span
class="pun" style="color: rgb(89, 80, 80);">]]</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">???</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span><span class="pln" style="color: rgb(89, 80, 80);"> val timeout</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Timeout</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">???</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="com" style="color: rgb(147, 161, 161);">// for actor asks</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">implicit</span><span class="pln" style="color: rgb(89, 80, 80);"> val ec</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">ExecutionContext</span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">???</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">implicit</span><span class="pln" style="color: rgb(89, 80, 80);"> val mat</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">???</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">implicit</span><span class="pln" style="color: rgb(89, 80, 80);"> val sys</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">???</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="com" style="color: rgb(147, 161, 161);">// backend entry points</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">def</span><span class="pln" style="color: rgb(89, 80, 80);"> myAuthenticator</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Authenticator</span><span class="pun"
style="color: rgb(89, 80, 80);">[</span><span class="typ" style="color: rgb(0, 143, 169);">User</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">???</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span><span class="pln" style="color: rgb(89, 80, 80);"> retrieveOrdersFromDB</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Seq</span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="typ" style="color: rgb(0, 143, 169);">Order</span><span class="pun" style="color: rgb(89, 80, 80);">]</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">???</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="kwd"
style="color: rgb(48, 166, 40);">def</span><span class="pln" style="color: rgb(89, 80, 80);"> myDbActor</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">ActorRef</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">???</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span><span class="pln" style="color: rgb(89, 80, 80);"> processOrderRequest</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">id</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Int</span><span class="pun" style="color: rgb(89, 80, 80);">,</span><span
class="pln" style="color: rgb(89, 80, 80);"> complete</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Order</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Unit</span><span
class="pun" style="color: rgb(89, 80, 80);">):</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">???</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">val route </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  path</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="str" style="color: rgb(131, 185, 37);">"orders"</span><span class="pun" style="color: rgb(89, 80, 80);">)</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    authenticateBasic</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="pln" style="color: rgb(89, 80, 80);">realm </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"admin area"</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> myAuthenticator</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">{</span><span class="pln" style="color: rgb(89, 80, 80);"> user </span><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="kwd" style="color: rgb(48, 166, 40);">get</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        encodeResponseWith</span><span class="pun"
style="color: rgb(89, 80, 80);">(</span><span class="typ" style="color: rgb(0, 143, 169);">Deflate</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">{</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          complete </span><span class="pun"
style="color: rgb(89, 80, 80);">{</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="com"
style="color: rgb(147, 161, 161);">// marshal custom object with in-scope marshaller</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            retrieveOrdersFromDB</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">~</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      post </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="com" style="color: rgb(147, 161, 161);">// decompress gzipped or deflated requests if required</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        decodeRequest </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="com" style="color: rgb(147, 161, 161);">// unmarshal with in-scope unmarshaller</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          entity</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="kwd" style="color: rgb(48, 166, 40);">as</span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="typ" style="color: rgb(0, 143, 169);">Order</span><span class="pun" style="color: rgb(89, 80, 80);">])</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);"> order </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            complete </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">              </span><span class="com" style="color: rgb(147, 161, 161);">// ... write order to DB</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">              </span><span class="str" style="color: rgb(131, 185, 37);">"Order received"</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">~</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="com" style="color: rgb(147, 161, 161);">// extract URI path element as Int</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  pathPrefix</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="str" style="color: rgb(131, 185, 37);">"order"</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">/</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">IntNumber</span><span class="pun" style="color: rgb(89, 80, 80);">)</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);"> orderId </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    pathEnd </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="pln" style="color: rgb(89, 80, 80);">put </span><span class="pun" style="color: rgb(89, 80, 80);">|</span><span
class="pln" style="color: rgb(89, 80, 80);"> parameter</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="str" style="color: rgb(131, 185, 37);">'method ! "put")) {</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">        // form extraction from multipart or www-url-encoded forms</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">        formFields(('</span><span class="pln"
style="color: rgb(89, 80, 80);">email</span><span class="pun" style="color: rgb(89, 80, 80);">,</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">'total.as[Money])).as(Order) { order =&gt;</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">          complete {</span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str" style="color: rgb(131, 185, 37);">            // complete with serialized Future result</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">            (myDbActor ? Update(order)).mapTo[TransactionResult]</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">          }</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="str" style="color: rgb(131, 185, 37);">        }</span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str" style="color: rgb(131, 185, 37);">      } ~</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">      get {</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="str" style="color: rgb(131, 185, 37);">        // debugging helper</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">        logRequest("GET-ORDER") {</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">          // use in-scope marshaller to create completer function</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">          completeWith(instanceOf[Order]) { completer =&gt;</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">            // custom</span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str" style="color: rgb(131, 185, 37);">            processOrderRequest(orderId, completer)</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">          }</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="str" style="color: rgb(131, 185, 37);">        }</span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str" style="color: rgb(131, 185, 37);">      }</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">    } ~</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="str" style="color: rgb(131, 185, 37);">    path("items") {</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">      get {</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="str" style="color: rgb(131, 185, 37);">        // parameters to case class extraction</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="str"
style="color: rgb(131, 185, 37);">        parameters(('</span><span class="pln"
style="color: rgb(89, 80, 80);">size</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="kwd" style="color: rgb(48, 166, 40);">as</span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="typ" style="color: rgb(0, 143, 169);">Int</span><span class="pun" style="color: rgb(89, 80, 80);">],</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">'color ?, '</span><span
class="pln" style="color: rgb(89, 80, 80);">dangerous </span><span class="pun" style="color: rgb(89, 80, 80);">?</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="str" style="color: rgb(131, 185, 37);">"no"</span><span
class="pun" style="color: rgb(89, 80, 80);">))</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="kwd" style="color: rgb(48, 166, 40);">as</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="typ" style="color: rgb(0, 143, 169);">OrderItem</span><span class="pun" style="color: rgb(89, 80, 80);">)</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);"> orderItem </span><span class="pun"
style="color: rgb(89, 80, 80);">=&gt;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="com"
style="color: rgb(147, 161, 161);">// ... route using case class instance created from</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">            </span><span class="com" style="color: rgb(147, 161, 161);">// required and optional query parameters</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">~</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  pathPrefix</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="str" style="color: rgb(131, 185, 37);">"documentation"</span><span class="pun"
style="color: rgb(89, 80, 80);">)</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">{</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">// optionally compresses the response with Gzip or Deflate</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="com" style="color: rgb(147, 161, 161);">// if the client accepts compressed responses</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    encodeResponse </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);">// serve up static content from a JAR resource</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      getFromResourceDirectory</span><span class="pun"
style="color: rgb(89, 80, 80);">(</span><span class="str" style="color: rgb(131, 185, 37);">"docs"</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">~</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  path</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="str" style="color: rgb(131, 185, 37);">"oldApi"</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">/</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Remaining</span><span class="pun" style="color: rgb(89, 80, 80);">)</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);"> pathRest </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    redirect</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="str" style="color: rgb(131, 185, 37);">"http://oldapi.example.com/"</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">+</span><span
class="pln" style="color: rgb(89, 80, 80);"> pathRest</span><span class="pun" style="color: rgb(89, 80, 80);">,</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">MovedPermanently</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">tream random numbers</span><span class="str"
style="color: rgb(131, 185, 37);">" in compileOnlySpec {</span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="handling-http-server-failures-in-the-high-level-api"
      style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="handling-http-server-failures-high-level-scala"></span>
      <h2 id="Handling_HTTP_Server_failures_in_the_High-Level_API" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Handling
        HTTP Server failures in the High-Level API</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are various situations when failure may occur while initialising or
        running an Akka HTTP server. Akka by default will log all these
        failures, however sometimes one may want to react to failures in
        addition to them just being logged, for example by shutting down the
        actor system, or notifying some external monitoring end-point
        explicitly.</p>
      <div class="section" id="bind-failures">
        <h3 id="Bind_failures" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Bind
          failures</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          example the server might be unable to bind to the given port. For
          example when the port is already taken by another application, or if
          the port is privileged (i.e. only usable by<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">root</span></code>).
          In this case the "binding future" will fail immediately, and we can
          react to if by listening on the Future's completion:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ServerBinding</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebServer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// needed for the future onFailure in the end</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handler</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Hello world!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// let's say the OS won't allow us to bind to 80.</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">host</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">port</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"localhost"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">80</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindingFuture</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">ServerBinding</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">bindingFuture</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">onFailure</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ex</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Exception</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">error</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ex</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Failed to bind to {}:{}!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">port</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
            a more low-level overview of the kinds of failures that can happen
            and also more fine-grained control over them refer to the<span class="Apple-converted-space">&nbsp;</span><a
              class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/low-level-server-side-api.html#handling-http-server-failures-low-level-scala"
              style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Handling
                HTTP Server failures in the Low-Level API</span></a><span class="Apple-converted-space">&nbsp;</span>documentation.</p>
        </div>
      </div>
      <div class="section" id="failures-and-exceptions-inside-the-routing-dsl">
        <h3 id="Failures_and_exceptions_inside_the_Routing_DSL" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Failures
          and exceptions inside the Routing DSL</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Exception
          handling within the Routing DSL is done by providing<span class="Apple-converted-space">&nbsp;</span><code
            class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ExceptionHandler</span></code><span
            class="Apple-converted-space">&nbsp;</span>s which are documented
          in-depth in the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/exception-handling.html#exception-handling-scala"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Exception
              Handling</span></a><span class="Apple-converted-space">&nbsp;</span>section
          of the documtnation. You can use them to transform exceptions into<span
            class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpResponse</span></code>s
          with apropriate error codes and human-readable failure descriptions.</p>
      </div>
      <div class="section" id="file-uploads">
        <h3 id="File_uploads" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">File
          uploads</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          high level directives to handle uploads see the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/routing-dsl/directives/file-upload-directives/index.html#fileuploaddirectives"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">FileUploadDirectives</span></a>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Handling
          a simple file upload from for example a browser form with a<span class="Apple-converted-space">&nbsp;</span><cite
            style="font-style: normal;">file</cite><span class="Apple-converted-space">&nbsp;</span>input
          can be done by accepting a<cite style="font-style: normal;">Multipart.FormData</cite><span
            class="Apple-converted-space">&nbsp;</span>entity, note that the
          body parts are<span class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">Source</cite><span
            class="Apple-converted-space">&nbsp;</span>rather than all available
          right away, and so is the individual body part payload so you will
          need to consume those streams both for the file and for the form
          fields.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
          is a simple example which just dumps the uploaded file into a
          temporary file on disk, collects some form fields and saves an entry
          to a fictive database:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">uploadVideo</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">path</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"video"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">entity</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">as</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Multipart</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">FormData</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">formData</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// collect all parts of the multipart as it arrives into a map</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">allPartsF</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Any</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">formData</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parts</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mapAsync</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[(</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Any</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)](</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">1</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">BodyPart</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">b</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"file"</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// stream into a file as the chunks of it arrives and return a future</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// file to where it got stored</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">file</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">File</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">createTempFile</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"upload"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"tmp"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">b</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dataBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runWith</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">FileIO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toPath</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">file</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toPath</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">            </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">file</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">BodyPart</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// collect form field values</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">b</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toStrict</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">2.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">strict</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">            </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">b</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">strict</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">utf8String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runFold</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Any</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])((</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">tuple</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">map</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">+</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">tuple</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">done</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">allPartsF</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">allParts</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// You would have some better validation/unmarshalling here</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">db</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">create</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Video</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">file</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">allParts</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"file"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">asInstanceOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">File</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">title</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">allParts</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"title"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">asInstanceOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">],</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">author</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">allParts</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"author"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">asInstanceOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]))</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// when processing have finished create a response for the user</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">onSuccess</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">allPartsF</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">allParts</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"ok!"</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">        </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
          can transform the uploaded files as they arrive rather than storing
          then in a temporary file as in the previous example. In this example
          we accept any number of<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">.csv</span></code><span
            class="Apple-converted-space">&nbsp;</span>files, parse those into
          lines and split each line before we send it to an actor for further
          processing:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">val splitLines </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Framing</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">delimiter</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="typ" style="color: rgb(0, 143, 169);">ByteString</span><span class="pun"
style="color: rgb(89, 80, 80);">(</span><span class="str" style="color: rgb(131, 185, 37);">"\n"</span><span
class="pun" style="color: rgb(89, 80, 80);">),</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="lit" style="color: rgb(25, 95, 145);">256</span><span class="pun" style="color: rgb(89, 80, 80);">)</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">val csvUploads </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  path</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="str" style="color: rgb(131, 185, 37);">"metadata"</span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">/</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">LongNumber</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">{</span><span class="pln" style="color: rgb(89, 80, 80);"> id </span><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    entity</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="kwd" style="color: rgb(48, 166, 40);">as</span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="typ" style="color: rgb(0, 143, 169);">Multipart</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">FormData</span><span class="pun" style="color: rgb(89, 80, 80);">])</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);"> formData </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      val </span><span class="kwd" style="color: rgb(48, 166, 40);">done</span><span
class="pun" style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span><span class="pun" style="color: rgb(89, 80, 80);">[</span><span
class="typ" style="color: rgb(0, 143, 169);">Done</span><span class="pun" style="color: rgb(89, 80, 80);">]</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> formData</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">parts</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">mapAsync</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="lit" style="color: rgb(25, 95, 145);">1</span><span class="pun" style="color: rgb(89, 80, 80);">)</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="kwd" style="color: rgb(48, 166, 40);">case</span><span
class="pln" style="color: rgb(89, 80, 80);"> b</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">BodyPart</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kwd" style="color: rgb(48, 166, 40);">if</span><span
class="pln" style="color: rgb(89, 80, 80);"> b</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">filename</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">exists</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">endsWith</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="str" style="color: rgb(131, 185, 37);">".csv"</span><span class="pun" style="color: rgb(89, 80, 80);">))</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          b</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">entity</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dataBytes</span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">            </span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">via</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">splitLines</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">map</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">_</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">utf8String</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">split</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="str" style="color: rgb(131, 185, 37);">","</span><span
class="pun" style="color: rgb(89, 80, 80);">).</span><span class="pln" style="color: rgb(89, 80, 80);">toVector</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">            </span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">runForeach</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">csv </span><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">              metadataActor </span><span
class="pun" style="color: rgb(89, 80, 80);">!</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">MetadataActor</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Entry</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">id</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> csv</span><span
class="pun" style="color: rgb(89, 80, 80);">))</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="kwd" style="color: rgb(48, 166, 40);">case</span><span
class="pln" style="color: rgb(89, 80, 80);"> _ </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Future</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="pln" style="color: rgb(89, 80, 80);">successful</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="typ" style="color: rgb(0, 143, 169);">Done</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}.</span><span
class="pln" style="color: rgb(89, 80, 80);">runWith</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ignore</span><span class="pun" style="color: rgb(89, 80, 80);">)</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="com" style="color: rgb(147, 161, 161);">// when processing have finished create a response for the user</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      onSuccess</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="kwd" style="color: rgb(48, 166, 40);">done</span><span class="pun" style="color: rgb(89, 80, 80);">)</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);"> _ </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        complete </span><span class="pun" style="color: rgb(89, 80, 80);">{</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">          </span><span class="str" style="color: rgb(131, 185, 37);">"ok!"</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="pun" style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="section" id="configuring-server-side-https" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Configuring_Server-side_HTTPS" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuring
        Server-side HTTPS</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        detailed documentation about configuring and using HTTPS on the
        server-side refer to<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/server-side-https-support.html#serversidehttps-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Server-Side
            HTTPS Support</span></a>.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Consuming
      HTTP-based Services (Client-Side)</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">All
      client-side functionality of Akka HTTP, for consuming HTTP-based services
      offered by other endpoints, is currently provided by the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">akka-http-core</span></code><span
        class="Apple-converted-space">&nbsp;</span>module.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">It
      is recommended to first read the<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/implications-of-streaming-http-entity.html#implications-of-streaming-http-entities"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Implications
          of the streaming nature of Request/Response Entities</span></a><span class="Apple-converted-space">&nbsp;</span>section,
      as it explains the underlying full-stack streaming concepts, which may be
      unexpected when coming from a background with non-"streaming first" HTTP
      Clients.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Depending
      on your application's specific needs you can choose from three different
      API levels:</p>
    <dl class="docutils" style="margin-bottom: 18px; color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <dt style="line-height: 18px; font-weight: bold;"><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/connection-level.html#connection-level-api"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Connection-Level
            Client-Side API</span></a></dt>
      <dd style="line-height: 18px; margin-left: 9px;">for full-control over
        when HTTP connections are opened/closed and how requests are scheduled
        across them</dd>
      <dt style="line-height: 18px; font-weight: bold;"><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/host-level.html#host-level-api"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Host-Level
            Client-Side API</span></a></dt>
      <dd style="line-height: 18px; margin-left: 9px;">for letting Akka HTTP
        manage a connection-pool to<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">one specific</em><span class="Apple-converted-space">&nbsp;</span>host/port
        endpoint</dd>
      <dt style="line-height: 18px; font-weight: bold;"><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/request-level.html#request-level-api"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Request-Level
            Client-Side API</span></a></dt>
      <dd style="line-height: 18px; margin-left: 9px;">for letting Akka HTTP
        perform all connection management</dd>
    </dl>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">You
      can interact with different API levels at the same time and, independently
      of which API level you choose, Akka HTTP will happily handle many thousand
      concurrent connections to a single or many different hosts.</p>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Connection-Level
      Client-Side API</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      connection-level API is the lowest-level client-side API Akka HTTP
      provides. It gives you full control over when HTTP connections are opened
      and closed and how requests are to be send across which connection. As
      such it offers the highest flexibility at the cost of providing the least
      convenience.</p>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is recommended to first read the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/implications-of-streaming-http-entity.html#implications-of-streaming-http-entities"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Implications
            of the streaming nature of Request/Response Entities</span></a><span
          class="Apple-converted-space">&nbsp;</span>section, as it explains the
        underlying full-stack streaming concepts, which may be unexpected when
        coming from a background with non-"streaming first" HTTP Clients.</p>
    </div>
    <div class="section" id="opening-http-connections" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Opening_HTTP_Connections" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Opening
        HTTP Connections</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
        the connection-level API you open a new HTTP connection to a target
        endpoint by materializing a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow</span></code><span
          class="Apple-converted-space">&nbsp;</span>returned by the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().outgoingConnection(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>method. Here is an example:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Failure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Success</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebClient</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Unit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connectionFlow</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span class="pun"
style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">OutgoingConnection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">outgoingConnection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.io"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">responseFuture</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">single</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"/"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">via</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">connectionFlow</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runWith</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">head</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responseFuture</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">andThen</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Success</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"request succeded"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Failure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"request failed"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">andThen</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">terminate</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Apart
        from the host name and port the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().outgoingConnection(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>method also allows you to
        specify socket options and a number of configuration settings for the
        connection.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that no connection is attempted until the returned flow is actually
        materialized! If the flow is materialized several times then several
        independent connections will be opened (one per materialization). If the
        connection attempt fails, for whatever reason, the materialized flow
        will be immediately terminated with a respective exception.</p>
    </div>
    <div class="section" id="request-response-cycle" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Request-Response_Cycle" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Request-Response
        Cycle</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        the connection flow has been materialized it is ready to consume<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code><span
          class="Apple-converted-space">&nbsp;</span>instances from the source
        it is attached to. Each request is sent across the connection and
        incoming responses dispatched to the downstream pipeline. Of course and
        as always, back-pressure is adequately maintained across all parts of
        the connection. This means that, if the downstream pipeline consuming
        the HTTP responses is slow, the request source will eventually be slowed
        down in sending requests.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Any
        errors occurring on the underlying connection are surfaced as exceptions
        terminating the response stream (and canceling the request source).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that, if the source produces subsequent requests before the prior
        responses have arrived, these requests will be<a class="reference external"
          href="http://en.wikipedia.org/wiki/HTTP_pipelining" style="color: rgb(21, 169, 206); text-decoration: none;">pipelined</a><span
          class="Apple-converted-space">&nbsp;</span>across the connection,
        which is something that is not supported by all HTTP servers. Also, if
        the server closes the connection before responses to all requests have
        been received this will result in the response stream being terminated
        with a truncation error.</p>
    </div>
    <div class="section" id="closing-connections" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Closing_Connections" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Closing
        Connections</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP actively closes an established connection upon reception of a
        response containing<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Connection:</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">close</span></code>header.
        The connection can also be closed by the server.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">An
        application can actively trigger the closing of the connection by
        completing the request stream. In this case the underlying TCP
        connection will be closed when the last pending response has been
        received.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        connection will also be closed if the response entity is cancelled (e.g.
        by attaching it to<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Sink.cancelled</span></code>)
        or consumed only partially (e.g. by using<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">take</span></code><span
          class="Apple-converted-space">&nbsp;</span>combinator). In order to
        prevent this behaviour the entity should be explicitly drained by
        attaching it to<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Sink.ignore</span></code>.</p>
    </div>
    <div class="section" id="timeouts" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Timeouts" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Timeouts</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Currently
        Akka HTTP doesn't implement client-side request timeout checking itself
        as this functionality can be regarded as a more general purpose
        streaming infrastructure feature.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        should be noted that Akka Streams provide various timeout functionality
        so any API that uses streams can benefit from the stream stages such as<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">idleTimeout</span></code>,<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">backpressureTimeout</span></code>,<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">completionTimeout</span></code>,<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">initialTimeout</span></code>and<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">throttle</span></code>.
        To learn more about these refer to their documentation in Akka Streams
        (and Scala Doc).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        more details about timeout support in Akka HTTP in general refer to<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/common/timeouts.html#http-timeouts-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Akka
            HTTP Timeouts</span></a>.</p>
    </div>
    <div class="section" id="stand-alone-http-layer-usage" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="http-client-layer"></span>
      <h2 id="Stand-Alone_HTTP_Layer_Usage" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Stand-Alone
        HTTP Layer Usage</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Due
        to its Reactive-Streams-based nature the Akka HTTP layer is fully
        detachable from the underlying TCP interface. While in most applications
        this "feature" will not be crucial it can be useful in certain cases to
        be able to "run" the HTTP layer (and, potentially, higher-layers)
        against data that do not come from the network but rather some other
        source. Potential scenarios where this might be useful include tests,
        debugging or low-level event-sourcing (e.g by replaying network
        traffic).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">On
        the client-side the stand-alone HTTP layer forms a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">BidiStage</span></code><span
          class="Apple-converted-space">&nbsp;</span>that is defined like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="cm" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">/**</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * The type of the client-side HTTP layer as a stand-alone BidiFlow</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * that can be put atop the TCP layer to form an HTTP client.</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> *</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * {{{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> *                +------+</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * HttpRequest  ~&gt;|      |~&gt; SslTlsOutbound</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> *                | bidi |</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * HttpResponse &lt;~|      |&lt;~ SslTlsInbound</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> *                +------+</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> * }}}</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="cm"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);"> */</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">type</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ClientLayer</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">BidiFlow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SslTlsOutbound</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SslTlsInbound</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">NotUsed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">You
        create an instance of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http.ClientLayer</span></code><span
          class="Apple-converted-space">&nbsp;</span>by calling one of the two
        overloads of the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().clientLayer</span></code>method,
        which also allows for varying degrees of configuration.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Host-Level
      Client-Side API</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">As
      opposed to the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
        href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/connection-level.html#connection-level-api"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Connection-Level
          Client-Side API</span></a><span class="Apple-converted-space">&nbsp;</span>the
      host-level API relieves you from manually managing individual HTTP
      connections. It autonomously manages a configurable pool of connections to<span
        class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">one
        particular target endpoint</em><span class="Apple-converted-space">&nbsp;</span>(i.e.
      host/port combination).</p>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is recommended to first read the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/implications-of-streaming-http-entity.html#implications-of-streaming-http-entities"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Implications
            of the streaming nature of Request/Response Entities</span></a><span
          class="Apple-converted-space">&nbsp;</span>section, as it explains the
        underlying full-stack streaming concepts, which may be unexpected when
        coming from a background with non-"streaming first" HTTP Clients.</p>
    </div>
    <div class="section" id="requesting-a-host-connection-pool" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Requesting_a_Host_Connection_Pool" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Requesting
        a Host Connection Pool</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        best way to get a hold of a connection pool to a given target endpoint
        is the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().cachedHostConnectionPool(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>method, which returns a<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow</span></code><span
          class="Apple-converted-space">&nbsp;</span>that can be "baked" into an
        application-level stream setup. This flow is also called a "pool client
        flow".</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        connection pool underlying a pool client flow is cached. For every<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code>,
        target endpoint and pool configuration there will never be more than a
        single pool live at any time.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Also,
        the HTTP layer transparently manages idle shutdown and restarting of
        connection pools as configured. The client flow instances therefore
        remain valid throughout the lifetime of the application, i.e. they can
        be materialized as often as required and the time between individual
        materialization is of no importance.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        you request a pool client flow with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().cachedHostConnectionPool(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>Akka HTTP will immediately
        start the pool, even before the first client flow materialization.
        However, this running pool will not actually open the first connection
        to the target endpoint until the first request has arrived.</p>
    </div>
    <div class="section" id="configuring-a-host-connection-pool" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Configuring_a_Host_Connection_Pool" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Configuring
        a Host Connection Pool</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Apart
        from the connection-level config settings and socket options there are a
        number of settings that allow you to influence the behavior of the
        connection pool logic itself. Check out the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.http.host-connection-pool</span></code><span
          class="Apple-converted-space">&nbsp;</span>section of the Akka HTTP<span
          class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/configuration.html#akka-http-configuration"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Configuration</span></a><span
          class="Apple-converted-space">&nbsp;</span>for more information about
        which settings are available and what they mean.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
        that, if you request pools with different configurations for the same
        target host you will get<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">independent</em><span class="Apple-converted-space">&nbsp;</span>pools.
        This means that, in total, your application might open more concurrent
        HTTP connections to the target endpoint than any of the individual
        pool's<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">max-connections</span></code><span
          class="Apple-converted-space">&nbsp;</span>settings allow!</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        is one setting that likely deserves a bit deeper explanation:<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">max-open-requests</span></code>.
        This setting limits the maximum number of requests that can be in-flight
        at any time for a single connection pool. If an application calls<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().cachedHostConnectionPool(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>3 times (with the same
        endpoint and settings) it will get back<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">3</span></code><span class="Apple-converted-space">&nbsp;</span>different
        client flow instances for the same pool. If each of these client flows
        is then materialized<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">4</span></code><span class="Apple-converted-space">&nbsp;</span>times
        (concurrently) the application will have 12 concurrently running client
        flow materializations. All of these share the resources of the single
        pool.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        means that, if the pool's<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">pipelining-limit</span></code><span
          class="Apple-converted-space">&nbsp;</span>is left at<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">1</span></code><span class="Apple-converted-space">&nbsp;</span>(effecitvely
        disabeling pipelining), no more than 12 requests can be open at any
        time. With a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">pipelining-limit</span></code><span
          class="Apple-converted-space">&nbsp;</span>of<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">8</span></code><span class="Apple-converted-space">&nbsp;</span>and
        12 concurrent client flow materializations the theoretical open requests
        maximum is<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">96</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">max-open-requests</span></code><span
          class="Apple-converted-space">&nbsp;</span>config setting allows for
        applying a hard limit which serves mainly as a protection against
        erroneous connection pool use, e.g. because the application is
        materializing too many client flows that all compete for the same pooled
        connections.</p>
    </div>
    <div class="section" id="using-a-host-connection-pool" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="id1"></span>
      <h2 id="Using_a_Host_Connection_Pool" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Using
        a Host Connection Pool</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        "pool client flow" returned by<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().cachedHostConnectionPool(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>has the following type:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[(</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Try</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">T</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HostConnectionPool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        means it consumes tuples of type<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">(HttpRequest,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T)</span></code><span
          class="Apple-converted-space">&nbsp;</span>and produces tuples of type<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">(Try[HttpResponse],</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">T)</span></code>which
        might appear more complicated than necessary on first sight. The reason
        why the pool API includes objects of custom type<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">T</span></code><span class="Apple-converted-space">&nbsp;</span>on
        both ends lies in the fact that the underlying transport usually
        comprises more than a single connection and as such the pool client flow
        often generates responses in an order that doesn't directly match the
        consumed requests. We could have built the pool logic in a way that
        reorders responses according to their requests before dispatching them
        to the application, but this would have meant that a single slow
        response could block the delivery of potentially many responses that
        would otherwise be ready for consumption by the application.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        order to prevent unnecessary head-of-line blocking the pool client-flow
        is allowed to dispatch responses as soon as they arrive, independently
        of the request order. Of course this means that there needs to be
        another way to associate a response with its respective request. The way
        that this is done is by allowing the application to pass along a custom
        "context" object with the request, which is then passed back to the
        application with the respective response. This context object of type<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">T</span></code><span class="Apple-converted-space">&nbsp;</span>is
        completely opaque to Akka HTTP, i.e. you can pick whatever works best
        for your particular application scenario.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">A
          consequence of using a pool is that long-running requests block a
          connection while running and may starve other requests. Make sure not
          to use a connection pool for long-running requests like long-polling
          GET requests. Use the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/connection-level.html#connection-level-api"
            style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Connection-Level
              Client-Side API</span></a><span class="Apple-converted-space">&nbsp;</span>instead.</p>
      </div>
    </div>
    <div class="section" id="connection-allocation-logic" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Connection_Allocation_Logic" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Connection
        Allocation Logic</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is how Akka HTTP allocates incoming requests to the available connection
        "slots":</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">If there is a connection alive and
          currently idle then schedule the request across this connection.</li>
        <li style="line-height: 18px;">If no connection is idle and there is
          still an unconnected slot then establish a new connection.</li>
        <li style="line-height: 18px;">If all connections are already
          established and "loaded" with other requests then pick the connection
          with the least open requests (&lt; the configured<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">pipelining-limit</span></code>)
          that only has requests with idempotent methods scheduled to it, if
          there is one.</li>
        <li style="line-height: 18px;">Otherwise apply back-pressure to the
          request source, i.e. stop accepting new requests.</li>
      </ol>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        more information about scheduling more than one request at a time across
        a single connection see<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://en.wikipedia.org/wiki/HTTP_pipelining"
          style="color: rgb(21, 169, 206); text-decoration: none;">this
          wikipedia entry on HTTP pipelining</a>.</p>
    </div>
    <div class="section" id="retrying-a-request" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Retrying_a_Request" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Retrying
        a Request</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">max-retries</span></code><span
          class="Apple-converted-space">&nbsp;</span>pool config setting is
        greater than zero the pool retries idempotent requests for which a
        response could not be successfully retrieved. Idempotent requests are
        those whose HTTP method is defined to be idempotent by the HTTP spec,
        which are all the ones currently modelled by Akka HTTP except for the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">POST</span></code>,<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">PATCH</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">CONNECT</span></code>methods.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        a response could not be received for a certain request there are
        essentially three possible error scenarios:</p>
      <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal;">
        <li style="line-height: 18px;">The request got lost on the way to the
          server.</li>
        <li style="line-height: 18px;">The server experiences a problem while
          processing the request.</li>
        <li style="line-height: 18px;">The response from the server got lost on
          the way back.</li>
      </ol>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Since
        the host connector cannot know which one of these possible reasons
        caused the problem and therefore<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">PATCH</span></code>and<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">POST</span></code><span
          class="Apple-converted-space">&nbsp;</span>requests could have already
        triggered a non-idempotent action on the server these requests cannot be
        retried.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        these cases, as well as when all retries have not yielded a proper
        response, the pool produces a failed<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Try</span></code><span
          class="Apple-converted-space">&nbsp;</span>(i.e. a<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">scala.util.Failure</span></code>)
        together with the custom request context.</p>
    </div>
    <div class="section" id="pool-shutdown" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Pool_Shutdown" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Pool
        Shutdown</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Completing
        a pool client flow will simply detach the flow from the pool. The
        connection pool itself will continue to run as it may be serving other
        client flows concurrently or in the future. Only after the configured<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">idle-timeout</span></code><span
          class="Apple-converted-space">&nbsp;</span>for the pool has expired
        will Akka HTTP automatically terminate the pool and free all its
        resources.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        a new client flow is requested with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().cachedHostConnectionPool(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>or if an already existing
        client flow is re-materialized the respective pool is automatically and
        transparently restarted.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        addition to the automatic shutdown via the configured idle timeouts it's
        also possible to trigger the immediate shutdown of a specific pool by
        calling<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">shutdown()</span></code><span
          class="Apple-converted-space">&nbsp;</span>on the<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HostConnectionPool</span></code><span
          class="Apple-converted-space">&nbsp;</span>instance that the pool
        client flow materializes into. This<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">shutdown()</span></code><span
          class="Apple-converted-space">&nbsp;</span>call produces a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Future[Unit]</span></code><span
          class="Apple-converted-space">&nbsp;</span>which is fulfilled when the
        pool termination has been completed.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It's
        also possible to trigger the immediate termination of<span class="Apple-converted-space">&nbsp;</span><em
          style="font-style: italic;">all</em><span class="Apple-converted-space">&nbsp;</span>connection
        pools in the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><span
          class="Apple-converted-space">&nbsp;</span>at the same time by calling<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().shutdownAllConnectionPools()</span></code>.
        This call too produces a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Future[Unit]</span></code><span
          class="Apple-converted-space">&nbsp;</span>which is fulfilled when all
        pools have terminated.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          encoutering unexpected<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.stream.AbruptTerminationException</span></code><span
            class="Apple-converted-space">&nbsp;</span>exceptions during<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">ActorSystem</span></code><strong
            style="font-weight: bold; color: rgb(255, 255, 255);">shutdown</strong><span
            class="Apple-converted-space">&nbsp;</span>please make sure that
          active connections are shut down before shutting down the entire
          system, this can be done by calling the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Http().shutdownAllConnectionPools()</span></code><span
            class="Apple-converted-space">&nbsp;</span>method, and only once its
          Future completes, shutting down the actor system.</p>
      </div>
    </div>
    <div class="section" id="example" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Example" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Example</h2>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Try</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// construct a pool client flow with context type `Int`</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">poolClientFlow</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">cachedHostConnectionPool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"akka.io"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responseFuture</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[(</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Try</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Int</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">single</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"/"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">42</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">via</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">poolClientFlow</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">runWith</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">head</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Request-Level
      Client-Side API</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      request-level API is the most convenient way of using Akka HTTP's
      client-side functionality. It internally builds upon the<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/host-level.html#host-level-api"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Host-Level
          Client-Side API</span></a><span class="Apple-converted-space">&nbsp;</span>to
      provide you with a simple and easy-to-use way of retrieving HTTP responses
      from remote servers. Depending on your preference you can pick the
      flow-based or the future-based variant.</p>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is recommended to first read the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/implications-of-streaming-http-entity.html#implications-of-streaming-http-entities"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Implications
            of the streaming nature of Request/Response Entities</span></a><span
          class="Apple-converted-space">&nbsp;</span>section, as it explains the
        underlying full-stack streaming concepts, which may be unexpected when
        coming from a background with non-"streaming first" HTTP Clients.</p>
    </div>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        request-level API is implemented on top of a connection pool that is
        shared inside the ActorSystem. A consequence of using a pool is that
        long-running requests block a connection while running and starve other
        requests. Make sure not to use the request-level API for long-running
        requests like long-polling GET requests. Use the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/connection-level.html#connection-level-api"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Connection-Level
            Client-Side API</span></a><span class="Apple-converted-space">&nbsp;</span>instead.</p>
    </div>
    <div class="section" id="flow-based-variant" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Flow-Based_Variant" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Flow-Based
        Variant</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        flow-based variant of the request-level client-side API is presented by
        the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().superPool(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>method. It creates a new
        "super connection pool flow", which routes incoming requests to a
        (cached) host connection pool depending on their respective effective
        URIs.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow</span></code><span
          class="Apple-converted-space">&nbsp;</span>returned by<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().superPool(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>is very similar to the one
        from the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/host-level.html#host-level-api"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Host-Level
            Client-Side API</span></a>, so the<a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/host-level.html#using-a-host-connection-pool"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Using
            a Host Connection Pool</span></a><span class="Apple-converted-space">&nbsp;</span>section
        also applies here.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">However,
        there is one notable difference between a "host connection pool client
        flow" for the host-level API and a "super-pool flow": Since in the
        former case the flow has an implicit target host context the requests it
        takes don't need to have absolute URIs or a valid<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Host</span></code><span
          class="Apple-converted-space">&nbsp;</span>header. The host connection
        pool will automatically add a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Host</span></code><span
          class="Apple-converted-space">&nbsp;</span>header if required.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        a super-pool flow this is not the case. All requests to a super-pool
        must either have an absolute URI or a valid<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Host</span></code>header,
        because otherwise it'd be impossible to find out which target endpoint
        to direct the request to.</p>
    </div>
    <div class="section" id="future-based-variant" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Future-Based_Variant" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Future-Based
        Variant</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Sometimes
        your HTTP client needs are very basic. You simply need the HTTP response
        for a certain request and don't want to bother with setting up a
        full-blown streaming infrastructure.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        these cases Akka HTTP offers the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http().singleRequest(...)</span></code><span
          class="Apple-converted-space">&nbsp;</span>method, which simply turns
        an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpRequest</span></code>instance
        into<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Future[HttpResponse]</span></code>.
        Internally the request is dispatched across the (cached) host connection
        pool for the request's effective URI.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Just
        like in the case of the super-pool flow described above the request must
        have either an absolute URI or a valid<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Host</span></code><span
          class="Apple-converted-space">&nbsp;</span>header, otherwise the
        returned future will be completed with an error.</p>
      <div class="section" id="using-the-future-based-api-in-actors">
        <h3 id="Using_the_Future-Based_API_in_Actors" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Using
          the Future-Based API in Actors</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          using the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Future</span></code><span
            class="Apple-converted-space">&nbsp;</span>based API from inside an<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Actor</span></code>,
          all the usual caveats apply to how one should deal with the futures
          completion. For example you should not access the Actors state from
          within the Future's callbacks (such as<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">map</span></code>,<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">onComplete</span></code>,
          ...) and instead you should use the<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">pipeTo</span></code><span
            class="Apple-converted-space">&nbsp;</span>pattern to pipe the
          result back to the Actor as a message.</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializerSettings</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Myself</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">extends</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Actor</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">with</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorLogging</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">pattern</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">pipe</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">context</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializerSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">http</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">context</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">override</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">preStart</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"http://akka.io"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">pipeTo</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">self</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">receive</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">OK</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">headers</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Got response, body: "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dataBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">runFold</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ByteString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">""</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">++</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">resp</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">@</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">code</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">log</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">info</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Request failed, response code: "</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">code</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">resp</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">discardEntityBytes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="section" id="example" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Example" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Example</h2>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">util</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Failure</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Success</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">responseFuture</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">singleRequest</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"http://akka.io"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li></ol></pre>
        </div>
      </div>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Be
          sure to consume the response entities<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">dataBytes:Source[ByteString,Unit]</span></code><span
            class="Apple-converted-space">&nbsp;</span>by for example connecting
          it to a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Sink</span></code><span
            class="Apple-converted-space">&nbsp;</span>(for example<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">response.discardEntityBytes()</span></code><span
            class="Apple-converted-space">&nbsp;</span>if you don't care about
          the response entity), since otherwise Akka HTTP (and the underlying
          Streams infrastructure) will understand the lack of entity consumption
          as a back-pressure signal and stop reading from the underlying TCP
          connection!</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
          is a feature of Akka HTTP that allows consuming entities (and pulling
          them through the network) in a streaming fashion, and only<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">on demand</em><span class="Apple-converted-space">&nbsp;</span>when
          the client is ready to consume the bytes - it may be a bit surprising
          at first though.</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
          are tickets open about automatically dropping entities if not consumed
          (<a class="reference external" href="https://github.com/akka/akka/issues/18716"
            style="color: rgb(11, 85, 103); text-decoration: none;">#18716</a><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://github.com/akka/akka/issues/18540"
            style="color: rgb(11, 85, 103); text-decoration: none;">#18540</a>),
          so these may be implemented in the near future.</p>
      </div>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Client-Side
      HTTPS Support</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP supports TLS encryption on the client-side as well as on the<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/server-side-https-support.html#serversidehttps-scala"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">server-side</span></a>.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      central vehicle for configuring encryption is the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpsConnectionContext</span></code>,
      which can be created using the static method<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ConnectionContext.https</span></code><span
        class="Apple-converted-space">&nbsp;</span>which is defined like this:</p>
    <div class="highlight-scala" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <div class="highlight" style="background: rgb(240, 240, 240);">
        <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// ConnectionContext</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">https</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslContext</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SSLContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sslConfig</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">           </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">AkkaSSLConfig</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);">         </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabledCipherSuites</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">immutable</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Seq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabledProtocols</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">immutable</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Seq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">clientAuth</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">TLSClientAuth</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);">         </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sslParameters</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">       </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SSLParameters</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);">         </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpsConnectionContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sslContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslConfig</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabledCipherSuites</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">enabledProtocols</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">clientAuth</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslParameters</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
      </div>
    </div>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">In
      addition to the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">outgoingConnection</span></code>,<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">newHostConnectionPool</span></code><span
        class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">cachedHostConnectionPool</span></code><span
        class="Apple-converted-space">&nbsp;</span>methods the<a class="reference external"
        href="http://github.com/akka/akka/tree/v2.4.10/akka-http-core/src/main/scala/akka/http/scaladsl/Http.scala"
        style="color: rgb(21, 169, 206); text-decoration: none;">akka.http.scaladsl.Http</a><span
        class="Apple-converted-space">&nbsp;</span>extension also defines<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">outgoingConnectionTls</span></code>,<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">newHostConnectionPoolTls</span></code><span
        class="Apple-converted-space">&nbsp;</span>and<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">cachedHostConnectionPoolTls</span></code>.
      These methods work identically to their counterparts without the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">-Tls</span></code><span class="Apple-converted-space">&nbsp;</span>suffix,
      with the exception that all connections will always be encrypted.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">singleRequest</span></code><span
        class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">superPool</span></code><span
        class="Apple-converted-space">&nbsp;</span>methods determine the
      encryption state via the scheme of the incoming request, i.e. requests to
      an "https" URI will be encrypted, while requests to an "http" URI won't.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      encryption configuration for all HTTPS connections, i.e. the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code><span
        class="Apple-converted-space">&nbsp;</span>is determined according to
      the following logic:</p>
    <ol class="arabic simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: decimal; color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <li style="line-height: 18px;">If the optional<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">httpsContext</span></code><span
          class="Apple-converted-space">&nbsp;</span>method parameter is defined
        it contains the configuration to be used (and thus takes precedence over
        any potentially set default client-side<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code>).</li>
      <li style="line-height: 18px;">If the optional<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">httpsContext</span></code><span
          class="Apple-converted-space">&nbsp;</span>method parameter is
        undefined (which is the default) the default client-side<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code><span
          class="Apple-converted-space">&nbsp;</span>is used, which can be set
        via the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">setDefaultClientHttpsContext</span></code><span
          class="Apple-converted-space">&nbsp;</span>on the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension.</li>
      <li style="line-height: 18px;">If no default client-side<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code><span
          class="Apple-converted-space">&nbsp;</span>has been set via the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">setDefaultClientHttpsContext</span></code><span
          class="Apple-converted-space">&nbsp;</span>on the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http</span></code>extension
        the default system configuration is used.</li>
    </ol>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Usually
      the process is, if the default system TLS configuration is not good enough
      for your application's needs, that you configure a custom<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code><span
        class="Apple-converted-space">&nbsp;</span>instance and set it via<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Http().setDefaultClientHttpsContext</span></code>.
      Afterwards you simply use<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">outgoingConnectionTls</span></code>,<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">newHostConnectionPoolTls</span></code>,<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">cachedHostConnectionPoolTls</span></code>,<code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">superPool</span></code><span
        class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">singleRequest</span></code><span
        class="Apple-converted-space">&nbsp;</span>without a specific<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">httpsContext</span></code><span
        class="Apple-converted-space">&nbsp;</span>argument, which causes
      encrypted connections to rely on the configured default client-side<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code>.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">If
      no custom<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code><span
        class="Apple-converted-space">&nbsp;</span>is defined the default
      context uses Java's default TLS settings. Customizing the<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code><span
        class="Apple-converted-space">&nbsp;</span>can make the Https client
      less secure. Understand what you are doing!</p>
    <div class="section" id="ssl-config" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="SSL-Config" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">SSL-Config</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP heavily relies on, and delegates most configuration of any SSL/TLS
        related options to<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://typesafehub.github.io/ssl-config/" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          SSL-Config</a>, which is a library specialized in providing an
        secure-by-default SSLContext and related options.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Please
        refer to the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://typesafehub.github.io/ssl-config/" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          SSL-Config</a><span class="Apple-converted-space">&nbsp;</span>documentation
        for detailed documentation of all available settings.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">SSL
        Config settings used by Akka HTTP (as well as Streaming TCP) are located
        under the<span class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">akka.ssl-config</cite><span
          class="Apple-converted-space">&nbsp;</span>namespace.</p>
    </div>
    <div class="section" id="detailed-configuration-and-workarounds" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Detailed_configuration_and_workarounds" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Detailed
        configuration and workarounds</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP relies on<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://typesafehub.github.io/ssl-config" style="color: rgb(21, 169, 206); text-decoration: none;">Typesafe
          SSL-Config</a><span class="Apple-converted-space">&nbsp;</span>which
        is a library maintained by Lightbend that makes configuring things
        related to SSL/TLS much simpler than using the raw SSL APIs provided by
        the JDK. Please refer to its documentation to learn more about it.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
        configuration options available to this library may be set under the<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.ssl-context</span></code><span
          class="Apple-converted-space">&nbsp;</span>configuration for Akka HTTP
        applications.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
          encountering problems connecting to HTTPS hosts we highly encourage to
          reading up on the excellent ssl-config configuration. Especially the
          quick start sections about<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://typesafehub.github.io/ssl-config/WSQuickStart.html#connecting-to-a-remote-server-over-https"
            style="color: rgb(11, 85, 103); text-decoration: none;">adding
            certificates to the trust store</a><span class="Apple-converted-space">&nbsp;</span>should
          prove very useful, for example to easily trust a self-signed
          certificate that applications might use in development mode.</p>
      </div>
      <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">While
          it is possible to disable certain checks using the so called "loose"
          settings in SSL Config, we<span class="Apple-converted-space">&nbsp;</span><strong
            style="font-weight: bold; color: rgb(255, 255, 255);">strongly
            recommend</strong><span class="Apple-converted-space">&nbsp;</span>to
          instead attempt to solve these issues by properly configuring TLS–for
          example by adding trusted keys to the keystore.</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
          however certain checks really need to be disabled because of
          misconfigured (or legacy) servers that your application has to speak
          to, instead of disabling the checks globally (i.e. in<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code>)
          we suggest configuring the loose settings for<span class="Apple-converted-space">&nbsp;</span><em
            style="font-style: italic;">specific connections</em><span class="Apple-converted-space">&nbsp;</span>that
          are known to need them disabled (and trusted for some other reason).
          The pattern of doing so is documented in the folowing sub-sections.</p>
      </div>
      <div class="section" id="hostname-verification">
        <h3 id="Hostname_verification" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Hostname
          verification</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Hostname
          verification proves that the Akka HTTP client is actually
          communicating with the server it intended to communicate with. Without
          this check a man-in-the-middle attack is possible. In the attack
          scenario, an alternative certificate would be presented which was
          issued for another host name. Checking the host name in the
          certificate against the host name the connection was opened against is
          therefore vital.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          default<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code><span
            class="Apple-converted-space">&nbsp;</span>enables hostname
          verification. Akka HTTP relies on the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="http://typesafehub.github.io/ssl-config"
            style="color: rgb(21, 169, 206); text-decoration: none;">Typesafe
            SSL-Config</a><span class="Apple-converted-space">&nbsp;</span>library
          to implement this and security options for SSL/TLS. Hostname
          verification is provided by the JDK and used by Akka HTTP since Java
          7, and on Java 6 the verification is implemented by ssl-config
          manually.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
          further recommended reading we would like to highlight the<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://tersesystems.com/2014/03/23/fixing-hostname-verification/"
            style="color: rgb(21, 169, 206); text-decoration: none;">fixing
            hostname verification blog post</a><span class="Apple-converted-space">&nbsp;</span>by
          blog post by Will Sargent.</p>
      </div>
      <div class="section" id="server-name-indication-sni">
        <h3 id="Server_Name_Indication__SNI_" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Server
          Name Indication (SNI)</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">SNI
          is an TLS extension which aims to guard against man-in-the-middle
          attacks. It does so by having the client send the name of the virtual
          domain it is expecting to talk to as part of the TLS handshake.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
          is specified as part of<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://tools.ietf.org/html/rfc6066#page-6"
            style="color: rgb(21, 169, 206); text-decoration: none;">RFC 6066</a>.</p>
      </div>
      <div class="section" id="disabling-tls-security-features-at-your-own-risk">
        <h3 id="Disabling_TLS_security_features__at_your_own_risk" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Disabling
          TLS security features, at your own risk</h3>
        <div class="admonition warning" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(240, 101, 101), rgb(226, 87, 88)); background-color: rgb(226, 87, 88); background-repeat: repeat-x;">
          <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Warning</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
            is highly discouraged to disable any of the security features of
            TLS, however do acknowlage that workarounds may sometimes be needed.</p>
          <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Before
            disabling any of the features one should consider if they may be
            solvable<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">within</em><span
              class="Apple-converted-space">&nbsp;</span>the TLS world, for
            example by<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
              href="http://typesafehub.github.io/ssl-config/WSQuickStart.html" style="color: rgb(11, 85, 103); text-decoration: none;">trusting
              a certificate</a>, or<span class="Apple-converted-space">&nbsp;</span><a
              class="reference external" href="http://typesafehub.github.io/ssl-config/CipherSuites.html"
              style="color: rgb(11, 85, 103); text-decoration: none;">configuring
              the trusted cipher suites</a><span class="Apple-converted-space">&nbsp;</span>etc.</p>
          <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
            disabling features is indeed desired, we recommend doing so for<span
              class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">specific
              connections</em>, instead of globally configuring it via<span class="Apple-converted-space">&nbsp;</span><code
              class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code>.</p>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          following shows an example of disabling SNI for a given connection:</p>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// WARNING: disabling SNI is a very bad idea, please don't unless you have a very good reason to.</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">badSslConfig</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">AkkaSSLConfig</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mapSettings</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withLoose</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">s</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">loose</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withDisableSNI</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">true</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">badCtx</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">createClientHttpsContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">badSslConfig</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">outgoingConnectionHttps</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unsafeHost</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">connectionContext</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">badCtx</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">badSslConfig</span></code><span
            class="Apple-converted-space">&nbsp;</span>is a copy of the default<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">AkkaSSLConfig</span></code><span
            class="Apple-converted-space">&nbsp;</span>with with the slightly
          changed configuration to disable SNI. This value can be cached and
          used for connections which should indeed not use this feature.</p>
      </div>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Client-Side
      WebSocket Support</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Client
      side WebSocket support is available through<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Http.singleWebSocketRequest</span></code><span
        class="Apple-converted-space">&nbsp;</span>,<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Http.webSocketClientFlow</span></code>and<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Http.webSocketClientLayer</span></code>.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">A
      WebSocket consists of two streams of messages, incoming messages (a<span class="Apple-converted-space">&nbsp;</span><code
        class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Sink</span></code>) and
      outgoing messages (a<span class="Apple-converted-space">&nbsp;</span><code
        class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Source</span></code>)
      where either may be signalled first; or even be the only direction in
      which messages flow during the lifetime of the connection. Therefore a
      WebSocket connection is modelled as either something you connect a<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Flow[Message,</span><span
          class="pre" style="color: rgb(11, 85, 103);">Message,</span><span class="Apple-converted-space">&nbsp;</span><span
          class="pre" style="color: rgb(11, 85, 103);">Mat]</span></code><span class="Apple-converted-space">&nbsp;</span>to
      or a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Flow[Message,</span><span
          class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Message,</span><span
          class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Mat]</span></code><span
        class="Apple-converted-space">&nbsp;</span>that you connect a<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Source[Message,</span><span
          class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Mat]</span></code><span
        class="Apple-converted-space">&nbsp;</span>and a<code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Sink[Message,</span><span
          class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Mat]</span></code><span
        class="Apple-converted-space">&nbsp;</span>to.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">A
      WebSocket request starts with a regular HTTP request which contains an<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">Upgrade</span></code><span
        class="Apple-converted-space">&nbsp;</span>header (and possibly other
      regular HTTP request properties), so in addition to the flow of messages
      there also is an initial response from the server, this is modelled with<span
        class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">WebSocketUpgradeResponse</span></code>.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      methods of the WebSocket client API handle the upgrade to WebSocket on
      connection success and materializes the connected WebSocket stream. If the
      connection fails, for example with a<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">404</span><span class="Apple-converted-space">&nbsp;</span><span
          class="pre" style="color: rgb(11, 85, 103);">NotFound</span></code><span
        class="Apple-converted-space">&nbsp;</span>error, this regular HTTP
      result can be found in<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">WebSocketUpgradeResponse.response</span></code></p>
    <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
      <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
      <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Make
        sure to read and understand the section about<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/websocket-support.html#half-closed-client-websockets"
          style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Half-Closed
            WebSockets</span></a><span class="Apple-converted-space">&nbsp;</span>as
        the behavior when using WebSockets for one-way communication may not be
        what you would expect.</p>
    </div>
    <div class="section" id="message" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Message" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Message</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Messages
        sent and received over a WebSocket can be either<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">TextMessage</span></code><span
          class="Apple-converted-space">&nbsp;</span>s or<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">BinaryMessage</span></code><span
          class="Apple-converted-space">&nbsp;</span>s and each of those has two
        subtypes<span class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Strict</span></code><span
          class="Apple-converted-space">&nbsp;</span>or<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Streamed</span></code>.
        In typical applications messages will be<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Strict</span></code><span
          class="Apple-converted-space">&nbsp;</span>as WebSockets are usually
        deployed to communicate using small messages not stream data, the
        protocol does however allow this (by not marking the first fragment as
        final, as described in<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://tools.ietf.org/html/rfc6455#section-5.2"
          style="color: rgb(21, 169, 206); text-decoration: none;">rfc 6455
          section 5.2</a>).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        such streamed messages<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">BinaryMessage.Streamed</span></code><span
          class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">TextMessage.Streamed</span></code><span
          class="Apple-converted-space">&nbsp;</span>will be used. In these
        cases the data is provided as a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[ByteString,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">NotUsed]</span></code><span
          class="Apple-converted-space">&nbsp;</span>for binary and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source[String,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">NotUsed]</span></code><span
          class="Apple-converted-space">&nbsp;</span>for text messages.</p>
    </div>
    <div class="section" id="singlewebsocketrequest" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="singleWebSocketRequest" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">singleWebSocketRequest</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">singleWebSocketRequest</span></code><span
          class="Apple-converted-space">&nbsp;</span>takes a<span class="Apple-converted-space">&nbsp;</span><code
          class="xref py py-class docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">WebSocketRequest</span></code><span
          class="Apple-converted-space">&nbsp;</span>and a flow it will connect
        to the source and sink of the WebSocket connection. It will trigger the
        request right away and returns a tuple containing the<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Future[WebSocketUpgradeResponse]</span></code><span
          class="Apple-converted-space">&nbsp;</span>and the materialized value
        from the flow passed to the method.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        future will succeed when the WebSocket connection has been established
        or the server returned a regular HTTP response, or fail if the
        connection fails with an exception.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Simple
        example sending a message and printing any incoming message:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Done</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">NotUsed</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ws</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SingleWebSocketRequest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">system</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// print each incoming strict text message</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">printSink</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span class="pun"
style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Done</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">message</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TextMessage</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Strict</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L0"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">helloSource</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">NotUsed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">single</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TextMessage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"hello world!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// the Future[Done] is the materialized value of Sink.foreach</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// and it is completed when the stream completes</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">flow</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span class="pun"
style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Done</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">fromSinkAndSourceMat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">printSink</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">helloSource</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Keep</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">left</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// upgradeResponse is a Future[WebSocketUpgradeResponse] that</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// completes or fails when the connection succeeds or fails</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// and closed is a Future[Done] representing the stream completion from above</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upgradeResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">closed</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">singleWebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">WebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"ws://echo.websocket.org"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">flow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connected</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upgradeResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">map</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upgrade</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// just like a regular http request we can access response status which is available via upgrade.response.status</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// status code 101 (Switching Protocols) indicates that server support WebSockets</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upgrade</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">response</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">status</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">==</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SwitchingProtocols</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Done</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">throw</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">RuntimeException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"Connection failed: </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">${</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">upgrade</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">response</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">status</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// in a real application you would not side effect here</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// and handle errors more carefully</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connected</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">closed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"closed"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        websocket request may also include additional headers, like in this
        example, HTTP Basic Auth:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">upgradeResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">singleWebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"ws://example.com:8080/some/path"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">extraHeaders</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Seq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Authorization</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">BasicHttpCredentials</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"johan"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"correcthorsebatterystaple"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))),</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="websocketclientflow" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="webSocketClientFlow" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">webSocketClientFlow</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">webSocketClientFlow</span></code><span
          class="Apple-converted-space">&nbsp;</span>takes a request, and
        returns a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow[Message,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Message,</span><span
            class="pre" style="color: rgb(11, 85, 103);">Future[WebSocketUpgradeResponse]]</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        future that is materialized from the flow will succeed when the
        WebSocket connection has been established or the server returned a
        regular HTTP response, or fail if the connection fails with an
        exception.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="xref py py-class docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Flow</span></code><span
            class="Apple-converted-space">&nbsp;</span>that is returned by this
          method can only be materialized once. For each request a new flow must
          be acquired by calling the method again.</p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Simple
        example sending a message and printing any incoming message:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Done</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">model</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ws</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">scala</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">concurrent</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">object</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebSocketClientFlow</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">main</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">args</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">materializer</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">system</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Future[Done] is the materialized value of Sink.foreach,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// emitted when the stream completes</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">incoming</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">[</span></span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span class="pun"
style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Done</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">message</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">TextMessage</span><span class="pun"
style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Strict</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">text</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// send this as a message over the WebSocket</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">outgoing</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">single</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TextMessage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"hello world!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// flow to use (note: not re-usable!)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">webSocketFlow</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">webSocketClientFlow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">WebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"ws://echo.websocket.org"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// the materialized value is a tuple with</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// upgradeResponse is a Future[WebSocketUpgradeResponse] that</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// completes or fails when the connection succeeds or fails</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// and closed is a Future[Done] with the stream completion from the incoming sink</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upgradeResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">closed</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">outgoing</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">viaMat</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">webSocketFlow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Keep</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">right</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// keep the materialized Future[WebSocketUpgradeResponse]</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toMat</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">incoming</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Keep</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">both</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// also keep the Future[Done]</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">        </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">run</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li class="L9"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// just like a regular http request we can access response status which is available via upgrade.response.status</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// status code 101 (Switching Protocols) indicates that server support WebSockets</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connected</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upgradeResponse</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">flatMap</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">upgrade</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">if</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">upgrade</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">response</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">status</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">==</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">StatusCodes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SwitchingProtocols</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">successful</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Done</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">else</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">        </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">throw</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">RuntimeException</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"Connection failed: </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">${</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">upgrade</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">response</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="str" style="color: rgb(131, 185, 37);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">status</span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">}</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// in a real application you would not side effect here</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">connected</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">closed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">_</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"closed"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="websocketclientlayer" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="webSocketClientLayer" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">webSocketClientLayer</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Just
        like the<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/connection-level.html#http-client-layer"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Stand-Alone
            HTTP Layer Usage</span></a><span class="Apple-converted-space">&nbsp;</span>for
        regular HTTP requests, the WebSocket layer can be used fully detached
        from the underlying TCP interface. The same scenarios as described for
        regular HTTP requests apply here.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        returned layer forms a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">BidiFlow[Message,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">SslTlsOutbound,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">SslTlsInbound,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Message,</span><span
            class="pre" style="color: rgb(11, 85, 103);">Future[WebSocketUpgradeResponse]]</span></code>.</p>
    </div>
    <div class="section" id="half-closed-websockets" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="half-closed-client-websockets"></span>
      <h2 id="Half-Closed_WebSockets" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Half-Closed
        WebSockets</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        Akka HTTP WebSocket API does not support half-closed connections which
        means that if the either stream completes the entire connection is
        closed (after a "Closing Handshake" has been exchanged or a timeout of 3
        seconds has passed). This may lead to unexpected behavior, for example
        if we are trying to only consume messages coming from the server, like
        this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// we may expect to be able to to just tail</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// the server websocket output like this</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">flow</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">NotUsed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">fromSinkAndSource</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">empty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">singleWebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"ws://example.com:8080/some/path"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        will in fact quickly close the connection because of the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source.empty</span></code><span
          class="Apple-converted-space">&nbsp;</span>being completed immediately
        when the stream is materialized. To solve this you can make sure to not
        complete the outgoing source by using for example<code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source.maybe</span></code><span
          class="Apple-converted-space">&nbsp;</span>like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// using Source.maybe materializes into a promise</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="c1"
style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// which will allow us to complete the source later</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">flow</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Promise</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">fromSinkAndSourceMat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">maybe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Keep</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">right</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">upgradeResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">promise</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">singleWebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"ws://example.com:8080/some/path"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// at some later time we want to disconnect</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">promise</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">success</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        will keep the outgoing source from completing, but without emitting any
        elements until the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Promise</span></code><span
          class="Apple-converted-space">&nbsp;</span>is manually completed which
        makes the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source</span></code><span
          class="Apple-converted-space">&nbsp;</span>complete and the connection
        to close.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        same problem holds true if emitting a finite number of elements, as soon
        as the last element is reached the<code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source</span></code><span
          class="Apple-converted-space">&nbsp;</span>will close and cause the
        connection to close. To avoid that you can concatenate<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Source.maybe</span></code><span
          class="Apple-converted-space">&nbsp;</span>to the finite stream:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// using emit "one" and "two" and then keep the connection open</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">flow</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Promise</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Flow</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">fromSinkAndSourceMat</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Sink</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">foreach</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">println</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">List</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TextMessage</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"one"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TextMessage</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"two"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">concatMat</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Source</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">maybe</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Message</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Keep</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">right</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Keep</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">right</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">upgradeResponse</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">promise</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">().</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">singleWebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">WebSocketRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"ws://example.com:8080/some/path"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">),</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">flow</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// at some later time we want to disconnect</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">promise</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">success</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Scenarios
        that exist with the two streams in a WebSocket and possible ways to deal
        with it:</p>
      <table class="docutils" style="max-width: 100%; border-collapse: collapse; border-spacing: 0px;"
        border="1">
        <colgroup><col width="35%"><col width="65%"></colgroup>
        <thead valign="bottom">
          <tr class="row-odd">
            <th class="head">Scenario</th>
            <th class="head">Possible solution</th>
          </tr>
        </thead>
        <tbody valign="top">
          <tr class="row-even">
            <td>Two-way communication</td>
            <td><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Flow.fromSinkAndSource</span></code>,
              or<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
                style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Flow.map</span></code><span
                class="Apple-converted-space">&nbsp;</span>for a
              request-response protocol</td>
          </tr>
          <tr class="row-odd">
            <td>Infinite incoming stream, no outgoing</td>
            <td><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Flow.fromSinkAndSource(someSink,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">Source.maybe)</span></code></td>
          </tr>
          <tr class="row-even">
            <td>Infinite outgoing stream, no incoming</td>
            <td><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
                  class="pre" style="color: rgb(11, 85, 103);">Flow.fromSinkAndSource(Sink.ignore,</span><span
                  class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">yourSource)</span></code></td>
          </tr>
        </tbody>
      </table>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Server-Side
      HTTPS Support</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Akka
      HTTP supports TLS encryption on the server-side as well as on the<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/client-https-support.html#clientsidehttps"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">client-side</span></a>.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      central vehicle for configuring encryption is the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpsConnectionContext</span></code>,
      which can be created using the static method<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">ConnectionContext.https</span></code><span
        class="Apple-converted-space">&nbsp;</span>which is defined like this:</p>
    <div class="highlight-scala" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <div class="highlight" style="background: rgb(240, 240, 240);">
        <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// ConnectionContext</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">https</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslContext</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);">          </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SSLContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sslConfig</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">           </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">AkkaSSLConfig</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);">         </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabledCipherSuites</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">immutable</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Seq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabledProtocols</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">immutable</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="typ" style="color: rgb(0, 143, 169);">Seq</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">clientAuth</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">          </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">TLSClientAuth</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);">         </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">sslParameters</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">:</span></span><span
class="pln" style="color: rgb(89, 80, 80);">       </span><span class="kt" style="color: rgb(0, 0, 128);"><span
class="typ" style="color: rgb(0, 143, 169);">Option</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SSLParameters</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);">         </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="kwd" style="color: rgb(48, 166, 40);">None</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpsConnectionContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sslContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslConfig</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">enabledCipherSuites</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">enabledProtocols</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">clientAuth</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslParameters</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
      </div>
    </div>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">On
      the server-side the<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">bind</span></code>, and<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">bindAndHandleXXX</span></code><span
        class="Apple-converted-space">&nbsp;</span>methods of the<span class="Apple-converted-space">&nbsp;</span><a
        class="reference external" href="https://github.com/akka/akka/blob/master/akka-http-core/src/main/scala/akka/http/scaladsl/Http.scala"
        style="color: rgb(21, 169, 206); text-decoration: none;">akka.http.scaladsl.Http</a><span
        class="Apple-converted-space">&nbsp;</span>extension define an optional<span
        class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
        style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">httpsContext</span></code><span
        class="Apple-converted-space">&nbsp;</span>parameter, which can receive
      the HTTPS configuration in the form of an<span class="Apple-converted-space">&nbsp;</span><code
        class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
          class="pre" style="color: rgb(11, 85, 103);">HttpsContext</span></code>instance.
      If defined encryption is enabled on all accepted connections. Otherwise it
      is disabled (which is the default).</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">For
      detailed documentation for client-side HTTPS support refer to<span class="Apple-converted-space">&nbsp;</span><a
        class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/client-side/client-https-support.html#clientsidehttps"
        style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Client-Side
          HTTPS Support</span></a>.</p>
    <div class="section" id="ssl-config" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="ssl-config-scala"></span>
      <h2 id="SSL-Config" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">SSL-Config</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP heavily relies on, and delegates most configuration of any SSL/TLS
        related options to<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://typesafehub.github.io/ssl-config/" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          SSL-Config</a>, which is a library specialized in providing an
        secure-by-default SSLContext and related options.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Please
        refer to the<span class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="http://typesafehub.github.io/ssl-config/" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          SSL-Config</a><span class="Apple-converted-space">&nbsp;</span>documentation
        for detailed documentation of all available settings.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">SSL
        Config settings used by Akka HTTP (as well as Streaming TCP) are located
        under the<span class="Apple-converted-space">&nbsp;</span><cite style="font-style: normal;">akka.ssl-config</cite><span
          class="Apple-converted-space">&nbsp;</span>namespace.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        order to use SSL-Config in Akka so it logs to the right ActorSystem-wise
        logger etc., the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">AkkaSSLConfig</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension is provided.
        Obtaining it is as simple as:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslConfig</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">AkkaSSLConfig</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">While
        typical usage, for example for configuring http client settings would be
        applied globally by configuring ssl-config in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code>,
        it's possible to obtain the extension and<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">copy</span></code><span
          class="Apple-converted-space">&nbsp;</span>it while modifying any
        configuration that you might need to change and then use that specific<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">AkkaSSLConfig</span></code><span
          class="Apple-converted-space">&nbsp;</span>instance while establishing
        connections be it client or server-side.</p>
    </div>
    <div class="section" id="obtaining-ssl-tls-certificates" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Obtaining_SSL_TLS_Certificates" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Obtaining
        SSL/TLS Certificates</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        order to run an HTTPS server a certificate has to be provided, which
        usually is either obtained from a signing authority or created by
        yourself for local or staging environment purposes.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Signing
        authorities often provide instructions on how to create a Java keystore
        (typically with reference to Tomcat configuration). If you want to
        generate your own certificates, the official Oracle documentation on how
        to generate keystores using the JDK keytool utility can be found<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html"
          style="color: rgb(21, 169, 206); text-decoration: none;">here</a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">SSL-Config
        provides a more targeted guide on generating certificates, so we
        recommend you start with the guide titled<a class="reference external" href="http://typesafehub.github.io/ssl-config/CertificateGeneration.html"
          style="color: rgb(21, 169, 206); text-decoration: none;">Generating
          X.509 Certificates</a>.</p>
    </div>
    <div class="section" id="using-https" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span
        id="using-https-scala"></span>
      <h2 id="Using_HTTPS" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Using
        HTTPS</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        you have obtained the server certificate, using it is as simple as
        preparing an<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpsConnectionContext</span></code><span
          class="Apple-converted-space">&nbsp;</span>and either setting it as
        the default one to be used by all servers started by the given<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Http</span></code><span
          class="Apple-converted-space">&nbsp;</span>extension or passing it in
        explicitly when binding the server:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">io</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">InputStream</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">java</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">security</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SecureRandom</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">KeyStore</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">javax</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">net</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">ssl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SSLContext</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">TrustManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">KeyManagerFactory</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">actor</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span></li><li class="L5"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">server</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">RouteResult</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Route</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Directives</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">scaladsl</span><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">ConnectionContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpsConnectionContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">stream</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">import</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nn" style="color: rgb(0, 0, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">com</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">typesafe</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">sslconfig</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">akka</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="typ" style="color: rgb(0, 143, 169);">AkkaSSLConfig</span></span></li></ol></pre>
        </div>
      </div>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// Manual HTTPS configuration</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">password</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Char</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// do not store passwords in code, read them from somewhere safe!</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">ks</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">KeyStore</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">KeyStore</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getInstance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"PKCS12"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">keystore</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">InputStream</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getClass</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getClassLoader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getResourceAsStream</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"server.p12"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">require</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">keystore</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">null</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Keystore required!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ks</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">load</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">keystore</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">password</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">keyManagerFactory</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">KeyManagerFactory</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">KeyManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getInstance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"SunX509"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">keyManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">init</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ks</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">password</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">tmf</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">TrustManagerFactory</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TrustManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getInstance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"SunX509"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">tmf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">init</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ks</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslContext</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SSLContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SSLContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getInstance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"TLS"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">sslContext</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">init</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">keyManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getKeyManagers</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">tmf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">getTrustManagers</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SecureRandom</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">https</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpsConnectionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ConnectionContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">https</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sslContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Once
        you configured the HTTPS context, you can set it as default:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// sets default context to HTTPS – all Http() bound servers for this ActorSystem will use HTTPS from now on</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">setDefaultServerHttpContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">https</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">routes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"127.0.0.1"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">9090</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connectionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">https</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is also possible to pass in the context to specific<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">bind...</span></code><span
          class="Apple-converted-space">&nbsp;</span>(or client) calls, like
        displayed below:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"127.0.0.1"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">connectionContext</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">https</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// or using the high level routing DSL:</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">routes</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Hello world!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">routes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"127.0.0.1"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connectionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">https</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="running-both-http-and-https" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Running_both_HTTP_and_HTTPS" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Running
        both HTTP and HTTPS</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        you want to run HTTP and HTTPS servers in a single application, you can
        call<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">bind...</span></code><span
          class="Apple-converted-space">&nbsp;</span>methods twice, one for
        HTTPS, and the other for HTTP.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        configuring HTTPS, you can do it up like explained in the above<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/server-side-https-support.html#using-https-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Using
            HTTPS</span></a><span class="Apple-converted-space">&nbsp;</span>section,</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorSystem</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mat</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ActorMaterializer</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// Manual HTTPS configuration</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">password</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Array</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Char</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">???</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// do not store passwords in code, read them from somewhere safe!</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">ks</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">KeyStore</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">KeyStore</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getInstance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"PKCS12"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">keystore</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">InputStream</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getClass</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getClassLoader</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getResourceAsStream</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"server.p12"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">require</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">keystore</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kc" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">null</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Keystore required!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ks</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">load</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">keystore</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">password</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">keyManagerFactory</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">KeyManagerFactory</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">KeyManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getInstance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"SunX509"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">keyManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">init</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ks</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">password</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">tmf</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">TrustManagerFactory</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">TrustManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getInstance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"SunX509"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">tmf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">init</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">ks</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">sslContext</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">SSLContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">SSLContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getInstance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"TLS"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">sslContext</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">init</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">keyManagerFactory</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">getKeyManagers</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">tmf</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">getTrustManagers</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">SecureRandom</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">https</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">HttpsConnectionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ConnectionContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">https</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sslContext</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">or
        via<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/scala/http/server-side-https-support.html#ssl-config-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">SSL-Config</span></a><span
          class="Apple-converted-space">&nbsp;</span>(not explained here
        though).</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Then,
        call<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">bind...</span></code><span
          class="Apple-converted-space">&nbsp;</span>methods twice like below.
        The passed<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">https</span></code><span
          class="Apple-converted-space">&nbsp;</span>context is from the above
        code snippet.</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// you can run both HTTP and HTTPS in the same application as follows:</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">commonRoutes</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">get</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Hello world!"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">commonRoutes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"127.0.0.1"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">443</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">connectionContext</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">https</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">commonRoutes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"127.0.0.1"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">80</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="further-reading" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Further_reading" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Further
        reading</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        topic of properly configuring HTTPS for your web server is an always
        changing one, thus we recommend staying up to date with various security
        breach news and of course keep your JVM at the latest version possible,
        as the default settings are often updated by Oracle in reaction to
        various security updates and known issues.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">We
        also recommend having a look at the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://www.playframework.com/documentation/2.5.x/ConfiguringHttps#ssl-certificates"
          style="color: rgb(21, 169, 206); text-decoration: none;">Play
          documentation about securing your app</a>, as well as the techniques
        described in the Play documentation about setting up a<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://www.playframework.com/documentation/2.5.x/HTTPServer"
          style="color: rgb(21, 169, 206); text-decoration: none;">reverse proxy
          to terminate TLS in front of your application</a>instead of
        terminating TLS inside the JVM, and therefore Akka HTTP, itself.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Other
        excellent articles on the subject:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#CreateKeystore"
            style="color: rgb(21, 169, 206); text-decoration: none;">Oracle Java
            SE 8: Creating a Keystore using JSSE</a></li>
        <li style="line-height: 18px;"><a class="reference external" href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/certpath/CertPathProgGuide.html"
            style="color: rgb(21, 169, 206); text-decoration: none;">Java PKI
            Programmer's Guide</a></li>
        <li style="line-height: 18px;"><a class="reference external" href="https://tersesystems.com/2014/03/20/fixing-x509-certificates/"
            style="color: rgb(21, 169, 206); text-decoration: none;">Fixing
            X.509 Certificates</a></li>
      </ul>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Handling
      blocking operations in Akka HTTP</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Sometimes
      it is difficult to avoid performing the blocking operations and there are
      good chances that the blocking is done inside a Future execute, which may
      lead to problems. It is important to handle the blocking operations
      correctly.</p>
    <div class="section" id="problem" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Problem" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Problem</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Using<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">context.dispatcher</span></code><span
          class="Apple-converted-space">&nbsp;</span>as the dispatcher on which
        the blocking Future executes, can be a problem. The same dispatcher is
        used by the routing infrastructure to actually handle the incoming
        requests.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        all of the available threads are blocked, the routing infrastructure
        will end up<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">starving</em>.
        Therefore, routing infrastructure should not be blocked. Instead, a
        dedicated dispatcher for blocking operations should be used.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Blocking
          APIs should also be avoided if possible. Try to find or build Reactive
          APIs, such that blocking is minimised, or moved over to dedicated
          dispatchers.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Often
          when integrating with existing libraries or systems it is not possible
          to avoid blocking APIs, then following solution explains how to handle
          blocking operations properly.</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Note
          that the same hints apply to managing blocking operations anywhere in
          Akka, including in Actors etc.</p>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        the below thread state diagrams the colours have the following meaning:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;">Turquoise - Sleeping state</li>
        <li style="line-height: 18px;">Orange - Waiting state</li>
        <li style="line-height: 18px;">Green - Runnable state</li>
      </ul>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        thread information was recorded using the YourKit profiler, however any
        good JVM profiler has this feature (including the free and bundled with
        the Oracle JDK VisualVM as well as Oracle Flight Recorder).</p>
      <div class="section" id="problem-example-blocking-the-default-dispatcher">
        <h3 id="Problem_example__blocking_the_default_dispatcher" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Problem
          example: blocking the default dispatcher</h3>
        <div class="highlight-scala">
          <div class="highlight" style="background: rgb(240, 240, 240);">
            <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// BAD (due to blocking in Future, on default dispatcher)</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">defaultDispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">routes</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">post</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// uses defaultDispatcher</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Thread</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sleep</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5000</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// will block on default dispatcher,</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">System</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">currentTimeMillis</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toString</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// Starving the routing infrastructure</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
          </div>
        </div>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here
          the app is exposed to load of continous GET requests and large number
          of akka.actor.default-dispatcher threads are handling requests. The
          orange portion of the thread shows that they are idle. Idle threads
          are fine, they're ready to accept new work. However large amounts of
          Turquoise (sleeping) threads are very bad!</p>
        <img alt="../../_images/DispatcherBehaviourOnBadCode.png" src="http://doc.akka.io/docs/akka/2.4/_images/DispatcherBehaviourOnBadCode.png"
          style="max-width: 100%; height: auto; border: 0px;">
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">After
          some time, the app is exposed to the load of requesting POST requests,
          which will block these threads. For example "<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">default-akka.default-dispatcher2,3,4</span></code>"
          are going into the blocking state, after being idle before. It can be
          observed that the number of new threads increase, "<code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">default-akka.actor.default-dispatcher</span><span
              class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">18,19,20,...</span></code>"
          however they go to sleep state immediately, thus wasting the
          resources.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
          number of such new threads depend on the default dispatcher
          configuration, but likely will not exceed 50. Since many POST requests
          are done, the entire thread pool is starved. The blocking operations
          dominate such that the routing infra has no thread available to handle
          the other requests.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
          essence, the<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">Thread.sleep</span></code><span
            class="Apple-converted-space">&nbsp;</span>has dominated all threads
          and caused anything executing on the default dispatcher to starve for
          resources (including any Actors that you have not configured an
          explicit dispatcher for (sic!)).</p>
      </div>
    </div>
    <div class="section" id="solution-dedicated-dispatcher-for-blocking-operations"
      style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Solution__Dedicated_dispatcher_for_blocking_operations" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Solution:
        Dedicated dispatcher for blocking operations</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">application.conf</span></code>,
        the dispatcher dedicated for blocking behaviour should be configured as
        follows:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">my</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">blocking</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">type</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Dispatcher</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">executor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"thread-pool-executor"</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">thread</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">executor</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// or in Akka 2.4.2+</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="kwd" style="color: rgb(48, 166, 40);">fixed</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">pool</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">size</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">16</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">throughput</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">100</span></span></li><li class="L8"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        are many dispatcher options available which can be found in<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/dispatchers.html#dispatchers-scala"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Dispatchers</span></a>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Here<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">thread-pool-executor</span></code><span
          class="Apple-converted-space">&nbsp;</span>is used, which has a hard
        limit of threads, it can keep available for blocking operations. The
        size settings depend on the app functionality and the number of cores
        the server has.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Whenever
        blocking has to be done, use the above configured dispatcher instead of
        the default one:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// GOOD (the blocking is now isolated onto a dedicated dispatcher):</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="k"
style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">implicit</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">val</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">blockingDispatcher</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">dispatchers</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">lookup</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"my-blocking-dispatcher"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">routes</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">post</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Future</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="c1" style="color: rgb(119, 119, 102);"><span class="com" style="color: rgb(147, 161, 161);">// uses the good "blocking dispatcher" that we configured,</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="c1" style="color: rgb(119, 119, 102);"><span
class="com" style="color: rgb(147, 161, 161);">// instead of the default dispatcher- the blocking is isolated.</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Thread</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">sleep</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mi" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5000</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">System</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">currentTimeMillis</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toString</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        forces the app to use the same load, initially normal requests and then
        the blocking requests. The thread pool behaviour is shown in the figrue.</p>
      <img alt="../../_images/DispatcherBehaviourOnGoodCode.png" src="http://doc.akka.io/docs/akka/2.4/_images/DispatcherBehaviourOnGoodCode.png"
        style="max-width: 100%; height: auto; border: 0px;">
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Initially,
        the normal requests are easily handled by default dispatcher, the green
        lines, which represents the actual execution.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">When
        blocking operations are issued, the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">my-blocking-dispatcher</span></code><span
          class="Apple-converted-space">&nbsp;</span>starts up to the number of
        configured threads. It handles sleeping. After certain period of nothing
        happening to the threads, it shuts them down.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">If
        another bunch of operations have to be done, the pool will start new
        threads that will take care of putting them into sleep state, but the
        threads are not wasted.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        this case, the throughput of the normal GET requests are not impacted
        they were still served on the default dispatcher.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        is the recommended way of dealing with any kind of blocking in reactive
        applications. It is referred as "bulkheading" or "isolating" the bad
        behaving parts of an app. In this case, bad behaviour of blocking
        operations.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">There
        is good documentation availabe in Akka docs section,<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="http://doc.akka.io/docs/akka/current/general/actor-systems.html#Blocking_Needs_Careful_Management"
          style="color: rgb(21, 169, 206); text-decoration: none;">Blocking
          needs careful management</a>.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Migration
      Guide from Spray</h1>
    <div class="section" id="general-notes" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="General_notes" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">General
        notes</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Features
        which are not ported to the akka-http:</p>
      <ul class="simple" style="padding: 0px; margin: 0px 0px 9px 25px; list-style: disc;">
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">respondWithStatus</span></code><span
            class="Apple-converted-space">&nbsp;</span>also known as<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">overrideStatusCode</span></code><span
            class="Apple-converted-space">&nbsp;</span>has not been forward
          ported to Akka HTTP, as it has been seen mostly as an anti-pattern.
          More information here:<span class="Apple-converted-space">&nbsp;</span><a
            class="reference external" href="https://github.com/akka/akka/issues/18626"
            style="color: rgb(21, 169, 206); text-decoration: none;">https://github.com/akka/akka/issues/18626</a></li>
        <li style="line-height: 18px;"><code class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">respondWithMediaType</span></code><span
            class="Apple-converted-space">&nbsp;</span>was considered an
          anti-pattern in spray and is not ported to Akka HTTP. Instead users
          should rely on content type negotiation as Akka HTTP implements it.
          More information here:<a class="reference external" href="https://github.com/akka/akka/issues/18625"
            style="color: rgb(21, 169, 206); text-decoration: none;">https://github.com/akka/akka/issues/18625</a></li>
        <li style="line-height: 18px;"><a class="reference internal" href="http://doc.akka.io/docs/akka/2.4/scala/http/common/http-model.html#registeringcustommediatypes"
            style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Registering
              Custom Media Types</span></a><span class="Apple-converted-space">&nbsp;</span>changed
          from Spray in order not to rely on global state.</li>
      </ul>
    </div>
    <div class="section" id="removed-httpservice" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Removed_HttpService" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Removed
        HttpService</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Spray’s<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpService</span></code><span
          class="Apple-converted-space">&nbsp;</span>was removed. This means
        that scala code like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">service</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">system</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">actorOf</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Props</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">new</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpServiceActor</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">routes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="nc"
style="color: rgb(0, 0, 0);"><span class="pln" style="color: rgb(89, 80, 80);">IO</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">system</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">!</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Bind</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">service</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"0.0.0.0"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">port</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">needs
        to be changed into:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Http</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">().</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">bindAndHandle</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">routes</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"0.0.0.0"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">port</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="mi" style="color: rgb(0, 128, 0);"><span
class="lit" style="color: rgb(25, 95, 145);">8080</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="changes-in-marshalling" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Changes_in_Marshalling" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Changes
        in Marshalling</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Marshaller.of
        can be replaced with<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Marshaller.withFixedContentType</span></code>.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Was:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">of</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">JsonApiObject</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/json`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">value</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">contentType</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ctx</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ctx</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">marshalTo</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">value</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toJson</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Replace
        with:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withFixedContentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/json`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">obj</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L1"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/json`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">obj</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">toJson</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">compactPrint</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        HTTP marshallers support content negotiation, now it's not necessary to
        specify content type when creating one “super” marshaller from other
        marshallers:</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Before:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">ToResponseMarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">oneOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/vnd.api+json`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/json`</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)(</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonApiMarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonMarshaller</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">After:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Marshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">oneOf</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonApiMarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">jsonMarshaller</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="changes-in-unmarshalling" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Changes_in_Unmarshalling" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Changes
        in Unmarshalling</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Akka
        Http contains a set of predefined unmarshallers. This means that scala
        code like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">](</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/json`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">NonEmpty</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">contentType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">data</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">data</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">asString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">parseJson</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">convertTo</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">]</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">needs
        to be changed into:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unmarshaller</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">stringUnmarshaller</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">forContentTypes</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`application/json`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">map</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">parseJson</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">convertTo</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="changes-in-mediatypes" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Changes_in_MediaTypes" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Changes
        in MediaTypes</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MediaType.custom</span></code><span
          class="Apple-converted-space">&nbsp;</span>can be replaced with
        specific methods in<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">MediaType</span></code><span
          class="Apple-converted-space">&nbsp;</span>object.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Was:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">MediaType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">custom</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"application/vnd.acme+json"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Replace
        with:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">MediaType</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">applicationWithFixedCharset</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"application/vnd.acme+json"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">HttpCharsets</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="str" style="color: rgb(131, 185, 37);">`UTF-8`</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="changes-in-rejection-handling" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Changes_in_Rejection_Handling" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Changes
        in Rejection Handling</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">RejectionHandler</span></code><span
          class="Apple-converted-space">&nbsp;</span>now uses a builder pattern
        – see the example:</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Before:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">def</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">rootRejectionHandler</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RejectionHandler</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Nil</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">requestUri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">logger</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">error</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Route: {} does not exist."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">uri</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">((</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">mapErrorToRootObject</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">notFoundError</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">AuthenticationFailedRejection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cause</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">challengeHeaders</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">::</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">logger</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">error</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="pln" style="color: rgb(89, 80, 80);">s</span><span class="str" style="color: rgb(131, 185, 37);">"Request is rejected with cause: </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$cause</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">((</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unauthorized</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">mapErrorToRootObject</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unauthenticatedError</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">After:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RejectionHandler</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">newBuilder</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handle</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">AuthenticationFailedRejection</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">cause</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">challengeHeaders</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">logger</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">error</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="pln" style="color: rgb(89, 80, 80);">s</span><span
class="str" style="color: rgb(131, 185, 37);">"Request is rejected with cause: </span></span><span
class="si" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">$cause</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">((</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Unauthorized</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">mapErrorToRootObject</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">unauthenticatedError</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">handleNotFound</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ctx</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L7"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">logger</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">error</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Route: {} does not exist."</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">ctx</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">request</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">uri</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toString</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">())</span></span></li><li
class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ctx</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">((</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">NotFound</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">mapErrorToRootObject</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">notFoundError</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)))</span></span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">result</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">()</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">withFallback</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RejectionHandler</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">default</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="changes-in-http-client" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Changes_in_HTTP_Client" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Changes
        in HTTP Client</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        Spray-client pipeline was removed. Http’s<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">singleRequest</span></code><span
          class="Apple-converted-space">&nbsp;</span>should be used instead of<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">sendReceive</span></code>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="com" style="color: rgb(147, 161, 161);">//this will not longer work</span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">val token </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Authorization</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="typ" style="color: rgb(0, 143, 169);">OAuth2BearerToken</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">accessToken</span><span
class="pun" style="color: rgb(89, 80, 80);">))</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">val pipeline</span><span class="pun"
style="color: rgb(89, 80, 80);">:</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Future</span><span
class="pun" style="color: rgb(89, 80, 80);">[</span><span class="typ" style="color: rgb(0, 143, 169);">HttpResponse</span><span
class="pun" style="color: rgb(89, 80, 80);">]</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">addHeader</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">token</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="pun" style="color: rgb(89, 80, 80);">~&gt;</span><span class="pln" style="color: rgb(89, 80, 80);"> sendReceive</span><span
class="pun" style="color: rgb(89, 80, 80);">)</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">val patch</span><span class="pun" style="color: rgb(89, 80, 80);">:</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Patch</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">uri</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">object</span><span class="pun" style="color: rgb(89, 80, 80);">))</span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">pipeline</span><span class="pun" style="color: rgb(89, 80, 80);">(</span><span
class="pln" style="color: rgb(89, 80, 80);">patch</span><span class="pun" style="color: rgb(89, 80, 80);">).</span><span
class="pln" style="color: rgb(89, 80, 80);">map </span><span class="pun" style="color: rgb(89, 80, 80);">{</span><span
class="pln" style="color: rgb(89, 80, 80);"> response </span><span class="pun" style="color: rgb(89, 80, 80);">⇒</span></li><li
class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="pun" style="color: rgb(89, 80, 80);">…</span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">needs
        to be changed into:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="pln" style="color: rgb(89, 80, 80);">val request </span><span class="pun"
style="color: rgb(89, 80, 80);">=</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="typ" style="color: rgb(0, 143, 169);">HttpRequest</span><span class="pun"
style="color: rgb(89, 80, 80);">(</span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  method </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> PATCH</span><span class="pun" style="color: rgb(89, 80, 80);">,</span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  uri </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">Uri</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">uri</span><span
class="pun" style="color: rgb(89, 80, 80);">),</span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  headers </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">List</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="typ" style="color: rgb(0, 143, 169);">Authorization</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="typ" style="color: rgb(0, 143, 169);">OAuth2BearerToken</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">accessToken</span><span
class="pun" style="color: rgb(89, 80, 80);">))),</span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  entity </span><span class="pun" style="color: rgb(89, 80, 80);">=</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="typ" style="color: rgb(0, 143, 169);">HttpEntity</span><span
class="pun" style="color: rgb(89, 80, 80);">(</span><span class="typ" style="color: rgb(0, 143, 169);">MediaTypes</span><span
class="pun" style="color: rgb(89, 80, 80);">.</span><span class="str" style="color: rgb(131, 185, 37);">`application/json`</span><span
class="pun" style="color: rgb(89, 80, 80);">,</span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kwd" style="color: rgb(48, 166, 40);">object</span><span class="pun" style="color: rgb(89, 80, 80);">)</span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">)</span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">http</span><span class="pun" style="color: rgb(89, 80, 80);">.</span><span
class="pln" style="color: rgb(89, 80, 80);">singleRequest</span><span class="pun"
style="color: rgb(89, 80, 80);">(</span><span class="pln" style="color: rgb(89, 80, 80);">request</span><span
class="pun" style="color: rgb(89, 80, 80);">).</span><span class="pln" style="color: rgb(89, 80, 80);">map </span><span
class="pun" style="color: rgb(89, 80, 80);">{</span></li><li class="L8" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="kwd" style="color: rgb(48, 166, 40);">case</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">…</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="pun" style="color: rgb(89, 80, 80);">…</span></li><li
class="L9" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pun"
style="color: rgb(89, 80, 80);">}</span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="changes-in-headers" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Changes_in_Headers" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Changes
        in Headers</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">All
        HTTP headers have been moved to the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.model.headers._</span></code><span
          class="Apple-converted-space">&nbsp;</span>package.</p>
    </div>
    <div class="section" id="changes-in-form-fields-and-file-upload-directives"
      style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Changes_in_form_fields_and_file_upload_directives" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Changes
        in form fields and file upload directives</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">With
        the streaming nature of http entity, it’s important to have a strict
        http entity before accessing multiple form fields or use file upload
        directives. One solution might be using next directive before working
        with form fields:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pln" style="color: rgb(89, 80, 80);">val</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">toStrict</span></span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">:</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">Directive0</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">extractRequest</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">flatMap</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">request</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">onComplete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">request</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toStrict</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="mf" style="color: rgb(0, 128, 0);"><span class="lit" style="color: rgb(25, 95, 145);">5.</span></span><span
class="n"><span class="lit" style="color: rgb(25, 95, 145);">seconds</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">flatMap</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li
class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Success</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">strict</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L3"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">      </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">mapRequest</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">req</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">copy</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">entity</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">strict</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">))</span></span></li><li
class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">    </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="kwd" style="color: rgb(48, 166, 40);">case</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pln" style="color: rgb(89, 80, 80);">_</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">reject</span></span></li><li class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L6" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">And
        one can use it like this:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">toStrict</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">formFields</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"name"</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">as</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">[</span></span><span
class="kt" style="color: rgb(0, 0, 128);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">])</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">{</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">name</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=&gt;</span></span></li><li class="L2"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">  </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">...</span></span></li><li
class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">}</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">}</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Migration
      Guide from "old" HTTP JavaDSL</h1>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      so-called "old" JavaDSL for Akka HTTP was initially developed during the
      project's experimental phase, and thanks to multiple user comments and
      contributions we were able to come up with a more Java 8 "feel", which at
      the same time is also closer to the existing ScalaDSL.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      previous DSL has been entirely removed and replaced with the the so-called
      "new" one. Upgrading to the new DSL is<span class="Apple-converted-space">&nbsp;</span><strong
        style="font-weight: bold; color: rgb(11, 85, 103);">highly encouraged</strong><span
        class="Apple-converted-space">&nbsp;</span>since the old one not only
      was rather hard to work with, it actually was not possible to express many
      typical use-cases using it.</p>
    <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px; color: rgb(11, 85, 103); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The
      most major changes include:</p>
    <div class="section" id="httpapp-is-gone" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="HttpApp_is_gone" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">HttpApp
        is gone</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">HttpApp</span></code><span
          class="Apple-converted-space">&nbsp;</span>(a helper class containing
        a<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">main()</span></code><span
          class="Apple-converted-space">&nbsp;</span>implementation) is gone, as
        we would like to encourage understanding how the various elements of the
        API fit together.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Instead
        developers should start applications "manually", by converting a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Route</span></code><span
          class="Apple-converted-space">&nbsp;</span>to a<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Flow&lt;HttpRequest,</span><span
            class="pre" style="color: rgb(11, 85, 103);">HttpResponse,</span><span
            class="Apple-converted-space">&nbsp;</span><span class="pre" style="color: rgb(11, 85, 103);">?&gt;</span></code><span
          class="Apple-converted-space">&nbsp;</span>using the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Route.flow</span></code><span
          class="Apple-converted-space">&nbsp;</span>method. For examples of
        full apps refer to<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
          href="http://doc.akka.io/docs/akka/2.4/java/http/routing-dsl/testkit.html#http-testkit-java"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Route
            Testkit</span></a>.</p>
    </div>
    <div class="section" id="requestval-is-gone" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="RequestVal_is_gone" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);"><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103); font-size: 20px;">RequestVal</span></code><span
          class="Apple-converted-space">&nbsp;</span>is gone</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        old API heavily relied on the concept of "request values" which could be
        used to extract a value from a request context.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Based
        on community feedback and our own experience we found them too hard to
        work with in more complex settings. The concept of a request value has
        been completely removed, and replaced with proper "directives", exacly
        like in the ScalaDSL.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><strong
          style="font-weight: bold; color: rgb(11, 85, 103);">Previously</strong>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">RequestVal</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&lt;</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Host</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">host</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="k" style="color: rgb(0, 0, 128);"><span class="pun" style="color: rgb(89, 80, 80);">=</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Headers</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">byClass</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">Host</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">).</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">instance</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">();</span></span></li><li
class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">&nbsp;</span></li><li class="L2" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Route</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L3" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">route</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span></li><li class="L4" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">    </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">handleWith1</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">,</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">ctx</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">h</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">)</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span></li><li
class="L5" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">      </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">ctx</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">complete</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="nc" style="color: rgb(0, 0, 0);"><span class="typ" style="color: rgb(0, 143, 169);">String</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">.</span></span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">format</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">(</span></span><span
class="s" style="color: rgb(0, 128, 0);"><span class="str" style="color: rgb(131, 185, 37);">"Host header was: %s"</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">h</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="pln" style="color: rgb(89, 80, 80);">host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">()))</span></span></li><li class="L6"
style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln" style="color: rgb(89, 80, 80);">    </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">)</span></span></li><li
class="L7" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span class="pln"
style="color: rgb(89, 80, 80);">  </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">);</span></span></li></ol></pre>
        </div>
      </div>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><strong
          style="font-weight: bold; color: rgb(11, 85, 103);">Now</strong>:</p>
      <div class="highlight-scala">
        <div class="highlight" style="background: rgb(240, 240, 240);">
          <pre class="prettyprint lang-scala linenums" style="padding: 9px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; display: block; margin: 0px 0px 18px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.2); word-break: break-all; box-shadow: rgba(0, 0, 0, 0.0980392) 0px 1px 2px; background: rgb(239, 242, 245);"><ol
class="linenums" style="padding: 0px; margin: 0px 0px 0px 40px; list-style: decimal;"><li
class="L0" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span></span><span
class="k" style="color: rgb(0, 0, 128);"><span class="kwd" style="color: rgb(48, 166, 40);">final</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Route</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln" style="color: rgb(89, 80, 80);">route</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="k" style="color: rgb(0, 0, 128);"><span
class="pun" style="color: rgb(89, 80, 80);">=</span></span></li><li class="L1" style="line-height: 20px; color: rgba(0, 0, 0, 0.34902);"><span
class="pln" style="color: rgb(89, 80, 80);">  </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">headerValueByType</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="nc" style="color: rgb(0, 0, 0);"><span
class="typ" style="color: rgb(0, 143, 169);">Host</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">.</span></span><span class="n"><span
class="kwd" style="color: rgb(48, 166, 40);">class</span></span><span class="o"
style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">,</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">host</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">-&gt;</span></span><span
class="pln" style="color: rgb(89, 80, 80);"> </span><span class="n"><span class="pln"
style="color: rgb(89, 80, 80);">complete</span></span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">(</span></span><span class="s" style="color: rgb(0, 128, 0);"><span
class="str" style="color: rgb(131, 185, 37);">"Host was: "</span></span><span class="pln"
style="color: rgb(89, 80, 80);"> </span><span class="o" style="color: rgb(0, 0, 0);"><span
class="pun" style="color: rgb(89, 80, 80);">+</span></span><span class="pln" style="color: rgb(89, 80, 80);"> </span><span
class="n"><span class="pln" style="color: rgb(89, 80, 80);">host</span></span><span
class="o" style="color: rgb(0, 0, 0);"><span class="pun" style="color: rgb(89, 80, 80);">));</span></span></li></ol></pre>
        </div>
      </div>
    </div>
    <div class="section" id="all-of-scaladsl-routing-has-corresponding-javadsl"
      style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="All_of_ScalaDSL_routing_has_corresponding_JavaDSL" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">All
        of ScalaDSL routing has corresponding JavaDSL</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Both<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Route</span></code>,<span
          class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">RouteResult</span></code><span
          class="Apple-converted-space">&nbsp;</span>and other important core
        concepts such as<span class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
          style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">Rejections</span></code><span
          class="Apple-converted-space">&nbsp;</span>are now modeled 1:1 with
        Scala, making is much simpler to understand one API based on the other
        one – tremendously useful when learning about some nice pattern from
        blogs which used Scala, yet need to apply it in Java and the other way
        around.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">It
        is now possible to implement marshallers using Java. Refer to<span class="Apple-converted-space">&nbsp;</span><a
          class="reference internal" href="http://doc.akka.io/docs/akka/2.4/java/http/routing-dsl/marshalling.html#marshalling-java"
          style="color: rgb(21, 169, 206); text-decoration: none;"><span class="std std-ref">Marshalling
            &amp; Unmarshalling</span></a><span class="Apple-converted-space">&nbsp;</span>for
        details.</p>
    </div>
    <div class="section" id="some-complete-overloads-changed-to-completeok" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Some_complete*_overloads_changed_to_completeOK*" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Some
        complete* overloads changed to completeOK*</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">In
        JavaDSL when complete is called with only an entity, the<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">OK</span></code><span class="Apple-converted-space">&nbsp;</span>response
        code is<span class="Apple-converted-space">&nbsp;</span><em style="font-style: italic;">assumed</em>,
        to make this more explicit these methods contain the word<span class="Apple-converted-space">&nbsp;</span><code
          class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
            class="pre" style="color: rgb(11, 85, 103);">OK</span></code><span class="Apple-converted-space">&nbsp;</span>in
        them.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">This
        has been made more consistent than previously, across all overloads and
        Future-versions of these APIs.</p>
    </div>
    <div class="section" id="migration-help" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Migration_help" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Migration
        help</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">As
        always, feel free to reach out via the<span class="Apple-converted-space">&nbsp;</span><a
          class="reference external" href="https://groups.google.com/forum/#%21searchin/akka-user/"
          style="color: rgb(21, 169, 206); text-decoration: none;">akka-user</a><span
          class="Apple-converted-space">&nbsp;</span>mailing list or gitter
        channels, to seek help or guidance when migrating from the old APIs.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">For
        Lightbend subscription owners it is possible to reach out to the core
        team for help in the migration by asking specific questions via the<span
          class="Apple-converted-space">&nbsp;</span><a class="reference external"
          href="https://portal.lightbend.com/" style="color: rgb(21, 169, 206); text-decoration: none;">Lightbend
          customer portal</a>.</p>
    </div>
    <h1 style="margin: 0px; font-weight: bold; color: rgb(21, 169, 206); text-rendering: optimizeLegibility; font-size: 30px; line-height: 36px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Migration
      Guide between experimental builds of Akka HTTP (2.4.x)</h1>
    <div class="section" id="general-notes" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="General_notes" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">General
        notes</h2>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Please
        note that Akka HTTP consists of a number of modules, most notably<span class="Apple-converted-space">&nbsp;</span><cite
          style="font-style: normal;">akka-http-core</cite><span class="Apple-converted-space">&nbsp;</span>which
        is<span class="Apple-converted-space">&nbsp;</span><strong style="font-weight: bold; color: rgb(11, 85, 103);">stable</strong><span
          class="Apple-converted-space">&nbsp;</span>and won't be breaking
        compatibility without a proper deprecation cycle, and<span class="Apple-converted-space">&nbsp;</span><cite
          style="font-style: normal;">akka-http</cite><span class="Apple-converted-space">&nbsp;</span>which
        contains the routing DSLs which is<strong style="font-weight: bold; color: rgb(11, 85, 103);">experimental</strong><span
          class="Apple-converted-space">&nbsp;</span>still.</p>
      <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The
        following migration guide explains migration steps to be made between
        breaking versions of the<span class="Apple-converted-space">&nbsp;</span><strong
          style="font-weight: bold; color: rgb(11, 85, 103);">experimental</strong><span
          class="Apple-converted-space">&nbsp;</span>part of Akka HTTP.</p>
      <div class="admonition note" style="margin-bottom: 18px; position: relative; padding: 7px 15px; color: rgb(255, 255, 255); border-color: rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.0980392) rgba(0, 0, 0, 0.247059); border-width: 1px; border-style: solid; border-radius: 4px; box-shadow: rgba(255, 255, 255, 0.247059) 0px 1px 0px inset; background-image: -webkit-linear-gradient(top, rgb(115, 203, 226), rgb(21, 169, 206)); background-color: rgb(253, 245, 217); background-repeat: repeat-x;">
        <p class="first admonition-title" style="margin: 0px 0px 6px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 16px; line-height: 20px; padding-top: 4px; color: rgb(255, 255, 255); font-weight: bold;">Note</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Please
          note that experimental modules are allowed (and are expected to) break
          compatibility in search of the best API we can offer, before the API
          is frozen in a stable release.</p>
        <p class="last" style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Please
          read<span class="Apple-converted-space">&nbsp;</span><a class="reference internal"
            href="http://doc.akka.io/docs/akka/2.4/common/binary-compatibility-rules.html#bincompatrules"
            style="color: rgb(11, 85, 103); text-decoration: none;"><span class="std std-ref">Binary
              Compatibility Rules</span></a><span class="Apple-converted-space">&nbsp;</span>to
          understand in depth what bin-compat rules are, and where they are
          applied.</p>
      </div>
    </div>
    <div class="section" id="akka-http-2-4-7-2-4-8" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Akka_HTTP_2_4_7_-&gt;_2_4_8" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Akka
        HTTP 2.4.7 -&gt; 2.4.8</h2>
      <div class="section" id="securitydirectives-challengefor-has-moved">
        <h3 id="SecurityDirectives_challengeFor_has_moved" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103); font-size: 16px;">SecurityDirectives#challengeFor</span></code><span
            class="Apple-converted-space">&nbsp;</span>has moved</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">The<span
            class="Apple-converted-space">&nbsp;</span><code class="docutils literal"
            style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">challengeFor</span></code><span
            class="Apple-converted-space">&nbsp;</span>directive was actually
          more like a factory for<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">HttpChallenge</span></code>,
          thus it was moved to become such. It is now available as<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.javadsl.model.headers.HttpChallenge#create[Basic|OAuth2]</span></code><span
            class="Apple-converted-space">&nbsp;</span>for JavaDSL and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.scaladsl.model.headers.HttpChallenges#[basic|oAuth2]</span></code><span
            class="Apple-converted-space">&nbsp;</span>for ScalaDSL.</p>
      </div>
    </div>
    <div class="section" id="akka-http-2-4-8-2-4-9" style="color: rgb(11, 85, 103); font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
      <h2 id="Akka_HTTP_2_4_8_-&gt;_2_4_9" style="margin: 0px 0px 2px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; font-size: 24px; line-height: 36px; padding-top: 14px; padding-bottom: 4px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgba(0, 0, 0, 0.14902);">Akka
        HTTP 2.4.8 -&gt; 2.4.9</h2>
      <div class="section" id="java-dsl-package-structure-changes">
        <h3 id="Java_DSL_Package_structure_changes" style="margin: 0px; font-weight: bold; color: rgb(11, 85, 103); text-rendering: optimizeLegibility; line-height: 27px; font-size: 18px; padding-top: 10px;">Java
          DSL Package structure changes</h3>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">We
          have aligned the package structure of the Java based DSL with the
          Scala based DSL and moved classes that were in the wrong or unexpected
          places around a bit. This means that Java DSL users must update their
          imports as follows:</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;">Classes
          dealing with unmarshalling and marshalling used to reside in<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.javadsl.server</span></code>,
          but are now available from the packages<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.javadsl.unmarshalling</span></code><span
            class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.javadsl.marshalling</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.javadsl.server.Coder</span></code><span
            class="Apple-converted-space">&nbsp;</span>is now<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.javadsl.coding.Coder</span></code>.</p>
        <p style="margin: 0px 0px 9px; font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif; font-size: 14px; line-height: 18px; padding-top: 4px;"><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.javadsl.server.RegexConverters</span></code><span
            class="Apple-converted-space">&nbsp;</span>is now<span class="Apple-converted-space">&nbsp;</span><code
            class="docutils literal" style="padding: 1px 4px; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; color: rgb(221, 17, 68); border-radius: 3px; border: 1px solid rgb(225, 225, 232); background-color: rgb(247, 247, 249);"><span
              class="pre" style="color: rgb(11, 85, 103);">akka.http.javadsl.common.RegexConverters</span></code>.</p>
      </div>
    </div>
    <br>
  </body>
</html>
