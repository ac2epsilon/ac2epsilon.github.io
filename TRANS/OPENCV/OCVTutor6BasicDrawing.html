<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
    <title>Базове малювання. Перекладено українською: Арсеній Чеботарьов, Ніжин 2015.
              ac2epsilon@gmail.com</title>
  </head>
  <body>
    <div class="related"><br />
    </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            <address>© Copyright 2011-2014, opencv dev team<br />
              Перекладено українською: Арсеній Чеботарьов, Ніжин 2015.
              ac2epsilon@gmail.com</address>
            <div id="basic-drawing" class="section"> <span id="drawing-1"></span>
              <h1>Базове малювання<a title="Permalink to this headline" href="#basic-drawing"
                  class="headerlink"><br />
                </a></h1>
              <div id="goals" class="section">
                <h2>Ціль<a title="Permalink to this headline" href="#goals" class="headerlink"><br />
                  </a></h2>
                <p>В цьому занятті ви вивчите як:</p>
                <div class="enumeratevisibleitemswithsquare container">
                  <ul class="simple">
                    <li>Використовувати <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#point"
                        class="reference external">Point</a> для визначення 2D
                      крапок в зображенні.</li>
                    <li>Використовувати <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#scalar"
                        class="reference external">Scalar</a> та зрозуміти, чому
                      він корисний</li>
                    <li>Малювати <strong>лінію</strong> з використанням функції
                      OpenCV <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#line"
                        class="reference external">line</a></li>
                    <li>Малювати <strong>єліпс</strong> з використанням функції
                      OpenCV <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#ellipse"
                        class="reference external">ellipse</a></li>
                    <li>Малювати <strong>прямокутник</strong> з використанням
                      функції OpenCV <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#rectangle"
                        class="reference external">rectangle</a></li>
                    <li>Малювати <strong>коло</strong> з використанням функції
                      OpenCV <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#circle"
                        class="reference external">circle</a></li>
                    <li>Малювати <strong>суцільний багатокутник</strong> з
                      використанням функції OpenCV <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#fillpoly"
                        class="reference external">fillPoly</a></li>
                  </ul>
                </div>
              </div>
              <div id="opencv-theory" class="section">
                <h2>Теорія OpenCV<a title="Permalink to this headline" href="#opencv-theory"
                    class="headerlink"><br />
                  </a></h2>
                <p>Ми будемо використовувати дві структури: <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#point"
                    class="reference external">Point</a> та <a href="http://docs.opencv.org/modules/core/doc/basic_structures.html#scalar"
                    class="reference external">Scalar</a>:</p>
                <div id="point" class="section">
                  <h3>Point<a title="Permalink to this headline" href="#point" class="headerlink">
                      <br />
                    </a></h3>
                  <div class="enumeratevisibleitemswithsquare container"> Це
                    представлення для 2D крапки, заданої своїми координатами. Ми
                    можемо визначити це так:</div>
                  <div class="highlight-cpp">
                    <div class="highlight">
                      <pre><span class="n">Point</span> <span class="n">pt</span><span
class="p">;</span>
<span class="n">pt</span><span class="p">.</span><span class="n">x</span> <span
class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">pt</span><span class="p">.</span><span class="n">y</span> <span
class="o">=</span> <span class="mi">8</span><span class="p">;</span>
</pre></div>
                  </div>
                  <p>або</p>
                  <div class="highlight-cpp">
                    <div class="highlight">
                      <pre><span class="n">Point</span> <span class="n">pt</span> <span
class="o">=</span>  <span class="n">Point</span><span class="p">(</span><span class="mi">10</span><span
class="p">,</span> <span class="mi">8</span><span class="p">);</span>
</pre></div>
                  </div>
                </div>
                <div id="scalar" class="section">
                  <h3>Scalar<a title="Permalink to this headline" href="#scalar"
                      class="headerlink"> <br />
                    </a></h3>
                  <ul>
                    <li>
                      <p class="first">Представлення для 4-елементного вектора.
                        Тип Scalar широко використовується в OpenCV для
                        представлення крапок зображення.</p>
                    </li>
                    <li>
                      <p class="first">Ми будемо інтенсивно використовувати
                        представлення крапок в просторі RGB (3 параметри). Не
                        треба визначати останній компонент, якщо він не буде
                        використовуватись. </p>
                    </li>
                    <li>
                      <p class="first">Подивімось на приклад. Якщо ми спитаємо
                        аргументи кольорів ми отримаємо:</p>
                      <div class="highlight-cpp">
                        <div class="highlight">
                          <pre><span class="n">Scalar</span><span class="p">(</span> <span
class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span
class="n">c</span> <span class="p">)</span>
</pre></div>
                      </div>
                      <p>Ми позначаємо кольори наступним чином: <em>Red = c</em>,
                        <em>Green = b</em> та <em>Blue = a</em></p>
                    </li>
                  </ul>
                </div>
              </div>
              <div id="code" class="section">
                <h2>Код<a title="Permalink to this headline" href="#code" class="headerlink"><br />
                  </a></h2>
                <ul class="simple">
                  <li>Цей код знаходиться в папці прикладів OpenCV. Або ви
                    можете знайти його <a href="https://github.com/Itseez/opencv/tree/master/samples/cpp/tutorial_code/core/Matrix/Drawing_1.cpp"
                      class="reference external">тут</a></li>
                </ul>
              </div>
              <div id="explanation" class="section">
                <h2>Пояснення<a title="Permalink to this headline" href="#explanation"
                    class="headerlink"><br />
                  </a></h2>
                <ol class="arabic">
                  <li>
                    <p class="first">Оскільки ми плануємо намалювати два
                      приклади, ми маємо створити два зображення та два вікна
                      для цього.</p>
                    <div class="highlight-cpp">
                      <div class="highlight">
                        <pre><span class="c1">/// Імена для вікон, щоб не друкувати двічі</span>
<span class="kt">char</span> <span class="n">atom_window</span><span class="p">[]</span> <span
class="o">=</span> <span class="s">"Drawing 1: Atom"</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">rook_window</span><span class="p">[]</span> <span
class="o">=</span> <span class="s">"Drawing 2: Rook"</span><span class="p">;</span>

<span class="c1">/// Створюємо пусті зображення</span>
<span class="n">Mat</span> <span class="n">atom_image</span> <span class="o">=</span> <span
class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span> <span
class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span
class="n">CV_8UC3</span> <span class="p">);</span>
<span class="n">Mat</span> <span class="n">rook_image</span> <span class="o">=</span> <span
class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span> <span
class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span
class="n">CV_8UC3</span> <span class="p">);</span>
</pre></div>
                    </div>
                  </li>
                  <li>
                    <p class="first">Ми створили фукнції для малювання
                      геометричних фігур. Наприклад, щоб малювати атом ми
                      виконуємо <em>MyEllipse</em> та <em>MyFilledCircle</em>:</p>
                    <div class="highlight-cpp">
                      <div class="highlight">
                        <pre><span class="c1">/// 1. Малюємо простий атом:</span>

<span class="c1">/// 1.a. Створюємо еліпси</span>
<span class="n">MyEllipse</span><span class="p">(</span> <span class="n">atom_image</span><span
class="p">,</span> <span class="mi">90</span> <span class="p">);</span>
<span class="n">MyEllipse</span><span class="p">(</span> <span class="n">atom_image</span><span
class="p">,</span> <span class="mi">0</span> <span class="p">);</span>
<span class="n">MyEllipse</span><span class="p">(</span> <span class="n">atom_image</span><span
class="p">,</span> <span class="mi">45</span> <span class="p">);</span>
<span class="n">MyEllipse</span><span class="p">(</span> <span class="n">atom_image</span><span
class="p">,</span> <span class="o">-</span><span class="mi">45</span> <span class="p">);</span>

<span class="c1">/// 1.b. Створюємо коло</span>
<span class="n">MyFilledCircle</span><span class="p">(</span> <span class="n">atom_image</span><span
class="p">,</span> <span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span
class="o">/</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">w</span><span
class="o">/</span><span class="mf">2.0</span><span class="p">)</span> <span class="p">);</span>
</pre></div>
                    </div>
                  </li>
                  <li>
                    <p class="first">Для малювання вежі використовуємо <em>MyLine</em>,
                      <em>rectangle</em> та <em>MyPolygon</em>:</p>
                    <div class="highlight-cpp">
                      <div class="highlight">
                        <pre><span class="c1">/// 2. Малюємо вежу</span>

<span class="c1">/// 2.a. Створюємо полігон</span>
<span class="n">MyPolygon</span><span class="p">(</span> <span class="n">rook_image</span> <span
class="p">);</span>

<span class="c1">/// 2.b. Створюємо прямокутники</span>
<span class="n">rectangle</span><span class="p">(</span> <span class="n">rook_image</span><span
class="p">,</span>
           <span class="n">Point</span><span class="p">(</span> <span class="mi">0</span><span
class="p">,</span> <span class="mi">7</span><span class="o">*</span><span class="n">w</span><span
class="o">/</span><span class="mf">8.0</span> <span class="p">),</span>
           <span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span
class="p">,</span> <span class="n">w</span><span class="p">),</span>
           <span class="n">Scalar</span><span class="p">(</span> <span class="mi">0</span><span
class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span> <span
class="p">),</span>
           <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
           <span class="mi">8</span> <span class="p">);</span>

<span class="c1">/// 2.c. Створюємо декілька ліній</span>
<span class="n">MyLine</span><span class="p">(</span> <span class="n">rook_image</span><span
class="p">,</span> <span class="n">Point</span><span class="p">(</span> <span class="mi">0</span><span
class="p">,</span> <span class="mi">15</span><span class="o">*</span><span class="n">w</span><span
class="o">/</span><span class="mi">16</span> <span class="p">),</span> <span class="n">Point</span><span
class="p">(</span> <span class="n">w</span><span class="p">,</span> <span class="mi">15</span><span
class="o">*</span><span class="n">w</span><span class="o">/</span><span class="mi">16</span> <span
class="p">)</span> <span class="p">);</span>
<span class="n">MyLine</span><span class="p">(</span> <span class="n">rook_image</span><span
class="p">,</span> <span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span
class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span
class="o">*</span><span class="n">w</span><span class="o">/</span><span class="mi">8</span> <span
class="p">),</span> <span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span
class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">w</span> <span
class="p">)</span> <span class="p">);</span>
<span class="n">MyLine</span><span class="p">(</span> <span class="n">rook_image</span><span
class="p">,</span> <span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span
class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span
class="o">*</span><span class="n">w</span><span class="o">/</span><span class="mi">8</span> <span
class="p">),</span> <span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span
class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">w</span> <span
class="p">)</span> <span class="p">);</span>
<span class="n">MyLine</span><span class="p">(</span> <span class="n">rook_image</span><span
class="p">,</span> <span class="n">Point</span><span class="p">(</span> <span class="mi">3</span><span
class="o">*</span><span class="n">w</span><span class="o">/</span><span class="mi">4</span><span
class="p">,</span> <span class="mi">7</span><span class="o">*</span><span class="n">w</span><span
class="o">/</span><span class="mi">8</span> <span class="p">),</span> <span class="n">Point</span><span
class="p">(</span> <span class="mi">3</span><span class="o">*</span><span class="n">w</span><span
class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">w</span> <span
class="p">)</span> <span class="p">);</span>
</pre></div>
                    </div>
                  </li>
                  <li>
                    <p class="first">Давайте подивитесь на кожну з ціх функцій:</p>
                    <ul>
                      <li>
                        <p class="first"><em>MyLine</em></p>
                        <div class="highlight-cpp">
                          <div class="highlight">
                            <pre><span class="kt">void</span> <span class="nf">MyLine</span><span
class="p">(</span> <span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span
class="n">Point</span> <span class="n">start</span><span class="p">,</span> <span
class="n">Point</span> <span class="n">end</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">thickness</span> <span class="o">=</span> <span
class="mi">2</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">lineType</span> <span class="o">=</span> <span
class="mi">8</span><span class="p">;</span>
  <span class="n">line</span><span class="p">(</span> <span class="n">img</span><span
class="p">,</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">end</span><span class="p">,</span>
        <span class="n">Scalar</span><span class="p">(</span> <span class="mi">0</span><span
class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span
class="p">),</span>
        <span class="n">thickness</span><span class="p">,</span>
        <span class="n">lineType</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
                        </div>
                        <p>Як ми бачимо, <em>MyLine</em> тільки викликає
                          функцію <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#line"
                            class="reference external">line</a>, що робить
                          наступне:</p>
                        <div class="enumeratevisibleitemswithsquare container">
                          <ul class="simple">
                            <li>Малює лінію від Point <strong>start</strong> до
                              Point <strong>end</strong></li>
                            <li>Лінія відображується в зображенні <strong>img</strong></li>
                            <li>Колір лінії визначений в <strong>Scalar( 0, 0,
                                0)</strong> що означає чорний колір в просторі
                              RGB<strong></strong></li>
                            <li>Товщина лінії встановлена в <strong>thickness</strong>
                              (2 в нашому випадку)</li>
                            <li>Лінія має тип 8 - поєднана лінія (<strong>lineType</strong>
                              = 8)</li>
                          </ul>
                        </div>
                      </li>
                      <li>
                        <p class="first"><em>MyEllipse</em></p>
                        <div class="highlight-cpp">
                          <div class="highlight">
                            <pre><span class="kt">void</span> <span class="nf">MyEllipse</span><span
class="p">(</span> <span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span
class="kt">double</span> <span class="n">angle</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">thickness</span> <span class="o">=</span> <span
class="mi">2</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">lineType</span> <span class="o">=</span> <span
class="mi">8</span><span class="p">;</span>

  <span class="n">ellipse</span><span class="p">(</span> <span class="n">img</span><span
class="p">,</span>
           <span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span
class="o">/</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">w</span><span
class="o">/</span><span class="mf">2.0</span> <span class="p">),</span>
           <span class="n">Size</span><span class="p">(</span> <span class="n">w</span><span
class="o">/</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">w</span><span
class="o">/</span><span class="mf">16.0</span> <span class="p">),</span>
           <span class="n">angle</span><span class="p">,</span>
           <span class="mi">0</span><span class="p">,</span>
           <span class="mi">360</span><span class="p">,</span>
           <span class="n">Scalar</span><span class="p">(</span> <span class="mi">255</span><span
class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span
class="p">),</span>
           <span class="n">thickness</span><span class="p">,</span>
           <span class="n">lineType</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
                        </div>
                        <p>З коду вище ми бачимо, що  <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#ellipse"
                            class="reference external">ellipse</a> малює еліпси:</p>
                      </li>
                      <li>
                        <div class="enumeratevisibleitemswithsquare container">
                          <ul class="simple">
                            <li>Еліпс відображуєтся на зображенні <strong>img</strong></li>
                            <li>Центр еліпсу розміщений в <strong>(w/2.0,
                                w/2.0)</strong> та сам еліпс закутий в
                              прямокутник розміром  <strong>(w/4.0, w/16.0)</strong></li>
                            <li>Еліпс повернутий на кут <strong>angle</strong>
                              градусів </li>
                            <li>Еліпс родовжується від <strong>0</strong> до <strong>360</strong>
                              градусів</li>
                            <li>Колір фігури є <strong>Scalar( 255, 255, 0)</strong>
                              в просторі RGB.</li>
                            <li>Товщина <strong>thickness</strong> дорівнює 2.</li>
                          </ul>
                        </div>
                      </li>
                      <li>
                        <p class="first"><em>MyFilledCircle</em></p>
                        <div class="highlight-cpp">
                          <div class="highlight">
                            <pre><span class="kt">void</span> <span class="nf">MyFilledCircle</span><span
class="p">(</span> <span class="n">Mat</span> <span class="n">img</span><span class="p">,</span> <span
class="n">Point</span> <span class="n">center</span> <span class="p">)</span>
<span class="p">{</span>
 <span class="kt">int</span> <span class="n">thickness</span> <span class="o">=</span> <span
class="o">-</span><span class="mi">1</span><span class="p">;</span>
 <span class="kt">int</span> <span class="n">lineType</span> <span class="o">=</span> <span
class="mi">8</span><span class="p">;</span>

 <span class="n">circle</span><span class="p">(</span> <span class="n">img</span><span
class="p">,</span>
         <span class="n">center</span><span class="p">,</span>
         <span class="n">w</span><span class="o">/</span><span class="mf">32.0</span><span
class="p">,</span>
         <span class="n">Scalar</span><span class="p">(</span> <span class="mi">0</span><span
class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span> <span
class="p">),</span>
         <span class="n">thickness</span><span class="p">,</span>
         <span class="n">lineType</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
                        </div>
                        <p>Подібно до фукнції еліпсу існує функція  <em>circle</em>:</p>
                        <div class="enumeratevisibleitemswithsquare container">
                          <ul class="simple">
                            <li>Зображення, де треба малювати (<strong>img</strong>)</li>
                            <li>Центр кола заданий Point <strong>center</strong></li>
                            <li>Радіус кола <strong>w/32.0</strong></li>
                            <li>Колір кола  <strong>Scalar(0, 0, 255)</strong>
                              , що в просторі BGR означає червоний</li>
                            <li>Оскільки <strong>thickness</strong> = -1, коло
                              буде намальоване заповненим</li>
                          </ul>
                        </div>
                      </li>
                      <li>
                        <p class="first"><em>MyPolygon</em></p>
                        <div class="highlight-cpp">
                          <div class="highlight">
                            <pre><span class="kt">void</span> <span class="nf">MyPolygon</span><span
class="p">(</span> <span class="n">Mat</span> <span class="n">img</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">lineType</span> <span class="o">=</span> <span
class="mi">8</span><span class="p">;</span>

  <span class="cm">/** Створюємо деякі крапки */</span>
  <span class="n">Point</span> <span class="n">rook_points</span><span class="p">[</span><span
class="mi">1</span><span class="p">][</span><span class="mi">20</span><span class="p">];</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="n">w</span><span class="o">/</span><span
class="mf">4.0</span><span class="p">,</span> <span class="mi">7</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">3</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">4.0</span><span class="p">,</span> <span
class="mi">7</span><span class="o">*</span><span class="n">w</span><span class="o">/</span><span
class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">3</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">4.0</span><span class="p">,</span> <span
class="mi">13</span><span class="o">*</span><span class="n">w</span><span class="o">/</span><span
class="mf">16.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">11</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">16.0</span><span class="p">,</span> <span
class="mi">13</span><span class="o">*</span><span class="n">w</span><span class="o">/</span><span
class="mf">16.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">19</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">32.0</span><span class="p">,</span> <span
class="mi">3</span><span class="o">*</span><span class="n">w</span><span class="o">/</span><span
class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">3</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">4.0</span><span class="p">,</span> <span
class="mi">3</span><span class="o">*</span><span class="n">w</span><span class="o">/</span><span
class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">3</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">4.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">26</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">40.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">26</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">40.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">4.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">22</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">40.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">4.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">22</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">40.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">18</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">40.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">18</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">40.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">4.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">13</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">14</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">40.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">4.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">14</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">14</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">40.0</span><span class="p">,</span> <span
class="n">w</span><span class="o">/</span><span class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">15</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="n">w</span><span class="o">/</span><span
class="mf">4.0</span><span class="p">,</span> <span class="n">w</span><span class="o">/</span><span
class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">16</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="n">w</span><span class="o">/</span><span
class="mf">4.0</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">17</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">13</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">32.0</span><span class="p">,</span> <span
class="mi">3</span><span class="o">*</span><span class="n">w</span><span class="o">/</span><span
class="mf">8.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">18</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="mi">5</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">16.0</span><span class="p">,</span> <span
class="mi">13</span><span class="o">*</span><span class="n">w</span><span class="o">/</span><span
class="mf">16.0</span> <span class="p">);</span>
  <span class="n">rook_points</span><span class="p">[</span><span class="mi">0</span><span
class="p">][</span><span class="mi">19</span><span class="p">]</span> <span class="o">=</span> <span
class="n">Point</span><span class="p">(</span> <span class="n">w</span><span class="o">/</span><span
class="mf">4.0</span><span class="p">,</span> <span class="mi">13</span><span class="o">*</span><span
class="n">w</span><span class="o">/</span><span class="mf">16.0</span><span class="p">)</span> <span
class="p">;</span>

  <span class="k">const</span> <span class="n">Point</span><span class="o">*</span> <span
class="n">ppt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span
class="o">=</span> <span class="p">{</span> <span class="n">rook_points</span><span
class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">};</span>
  <span class="kt">int</span> <span class="n">npt</span><span class="p">[]</span> <span
class="o">=</span> <span class="p">{</span> <span class="mi">20</span> <span class="p">};</span>

  <span class="n">fillPoly</span><span class="p">(</span> <span class="n">img</span><span
class="p">,</span>
            <span class="n">ppt</span><span class="p">,</span>
            <span class="n">npt</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="n">Scalar</span><span class="p">(</span> <span class="mi">255</span><span
class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span> <span
class="p">),</span>
            <span class="n">lineType</span> <span class="p">);</span>
 <span class="p">}</span>
</pre></div>
                        </div>
                        <p>Щоб намалювати полігонми використовуємо <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#fillpoly"
                            class="reference external">fillPoly</a>. Зауважимо
                          що:</p>
                        <div class="enumeratevisibleitemswithsquare container">
                          <ul class="simple">
                            <li>Полігон буде намальований в <strong>img</strong></li>
                            <li>Вершини полігону - це крапки в <strong>ppt</strong></li>
                            <li>Загальна кількість вершин в <strong>npt</strong></li>
                            <li>Число полігонів <strong>1</strong></li>
                            <li>Колір полігону визначений як <strong>Scalar(
                                255, 255, 255)</strong>, що в просторі BGR
                              означає <em>білий</em></li>
                          </ul>
                        </div>
                      </li>
                      <li>
                        <p class="first"><em>rectangle</em></p>
                        <div class="highlight-cpp">
                          <div class="highlight">
                            <pre><span class="n">rectangle</span><span class="p">(</span> <span
class="n">rook_image</span><span class="p">,</span>
           <span class="n">Point</span><span class="p">(</span> <span class="mi">0</span><span
class="p">,</span> <span class="mi">7</span><span class="o">*</span><span class="n">w</span><span
class="o">/</span><span class="mf">8.0</span> <span class="p">),</span>
           <span class="n">Point</span><span class="p">(</span> <span class="n">w</span><span
class="p">,</span> <span class="n">w</span><span class="p">),</span>
           <span class="n">Scalar</span><span class="p">(</span> <span class="mi">0</span><span
class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span> <span
class="p">),</span>
           <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
           <span class="mi">8</span> <span class="p">);</span>
</pre></div>
                        </div>
                        <p>Нарешті, ми маємо функцію <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#rectangle"
                            class="reference external">rectangle</a> (ми не
                          створюємо для неї окрему функцію. Зауважимо наступне:</p>
                        <div class="enumeratevisibleitemswithsquare container">
                          <ul class="simple">
                            <li>Прямокутник буде намальовано на <strong>rook_image</strong></li>
                            <li>Дві протилежні вершини визначені в ** Point( 0,
                              7*w/8.0 )** та <strong>Point( w, w)</strong></li>
                            <li>Колір заданий <strong>Scalar(0, 255, 255)</strong>,
                              що в просторі BGR означає <em>жовтий</em></li>
                            <li>Оскільки товщина задана як <strong>-1</strong>,<strong>
                              </strong>прямокутник буде заповнений кольором.</li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                  </li>
                </ol>
              </div>
              <div id="result" class="section">
                <h2>Результат<a title="Permalink to this headline" href="#result"
                    class="headerlink"><br />
                  </a></h2>
                <p>Компіляція та виконання цієй програми має дати щось подібне
                  до цього:</p>
                <img src="../../../../_images/Drawing_1_Tutorial_Result_0.png" class="align-center"
                  alt="Drawing Tutorial 1 - Final Result" /><img src="basicDrawing.png"
                  alt="Basic Drawing" /> </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
