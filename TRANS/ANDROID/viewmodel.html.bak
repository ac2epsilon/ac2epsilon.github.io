<!DOCTYPE html>
<!-- saved from url=(0073)https://developer.android.com/topic/libraries/architecture/viewmodel.html -->
<html lang="en" itemscope="" itemtype="http://schema.org/Article" class="gr__developer_android_com"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  



<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">





<script async="" src="./viewmodel_files/async-ads.js"></script><script type="text/javascript" async="" src="./viewmodel_files/linkid.js"></script><script async="" src="./viewmodel_files/analytics.js"></script><script type="text/javascript" async="" src="./viewmodel_files/recaptcha__en.js"></script><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>





<meta name="xsrf_token" content="UnIVaQn8iWhatyf3hwPq3a6vdreIEK0wlucl6v4JBe06MTUxNTEwNzI2NjcyODEwMA">

  
    <link rel="canonical" href="https://developer.android.com/topic/libraries/architecture/viewmodel.html">
  

  
    <link rel="alternate" href="https://developer.android.com/topic/libraries/architecture/viewmodel.html" hreflang="en">
  
    <link rel="alternate" href="https://developer.android.google.cn/topic/libraries/architecture/viewmodel.html" hreflang="en-cn">
  

  <link rel="alternate" href="https://developer.android.com/topic/libraries/architecture/viewmodel.html" hreflang="x-default">




<link rel="shortcut icon" href="https://developer.android.com/_static/0d76052693/images/android/favicon.png">

<link rel="apple-touch-icon" href="https://developer.android.com/_static/0d76052693/images/android/touchicon-180.png">


<title>

  ViewModel | Android Developers

</title>

  <meta name="description" content="ViewModel lets you manage your UI&#39;s data in a lifecycle-aware fashion.">



  <meta itemprop="dateModified" content="2017-11-06T20:52:22.007570">


<!-- STYLESHEETS -->
<link rel="stylesheet" href="./viewmodel_files/css">
<link rel="stylesheet" href="./viewmodel_files/css(1)" title="roboto">
<link rel="stylesheet" href="./viewmodel_files/dac-devsite.css">







<link href="./viewmodel_files/default.css" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="./viewmodel_files/android_3p-bundle.js" type="text/javascript"></script>
<script src="./viewmodel_files/script_foot_closure_android.js"></script>
<script src="./viewmodel_files/script_foot_android.js"></script>

<script type="text/javascript">
  var toRoot = '/';
  devsite.permissions.init({"f62218c009ec029abef196bba5aa34cf": true, "098dafe57affddc137df300142652cfd": false, "8e03e230de0bd8a6fe173fdf172e8b3f": true, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "d169d485cf24243a263783dbe42029b1": true, "039e5d84b87fd75807ffb37b7f1bbf2c": true, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true});

  var replaceBlog = false;
  var replaceYouTube = false;
  var siteDefaultLocale = 'en';

  var ANDROID_LANGUAGES = [
      'id','de','en','es','es-419','fr','pt-br','vi','tr','ru','th','ja','zh-cn','zh-tw','ko'
  ];
</script>
<script src="./viewmodel_files/docs.js" type="text/javascript"></script>


<script src="./viewmodel_files/jsapi" type="text/javascript"></script><link type="text/css" href="./viewmodel_files/default+en.css" rel="stylesheet"><link type="text/css" href="./viewmodel_files/default(1).css" rel="stylesheet"><script type="text/javascript" src="./viewmodel_files/default+en.I.js"></script><style type="text/css">.gsc-control-cse{font-family:Arial, sans-serif;border-color:#ECEFF1;background-color:#ECEFF1}.gsc-control-cse .gsc-table-result{font-family:Arial, sans-serif}input.gsc-input,.gsc-input-box,.gsc-input-box-hover,.gsc-input-box-focus{border-color:#D9D9D9}input.gsc-search-button,input.gsc-search-button:hover,input.gsc-search-button:focus{border-color:#2F5BB7;background-color:#357AE8;background-image:none;filter:none}.gsc-tabHeader.gsc-tabhInactive{border-color:#CCCCCC;background-color:#FFFFFF}.gsc-tabHeader.gsc-tabhActive{border-color:#CCCCCC;border-bottom-color:#FFFFFF;background-color:#FFFFFF}.gsc-tabsArea{border-color:#CCCCCC}.gsc-webResult.gsc-result,.gsc-results .gsc-imageResult{border-color:#ECEFF1;background-color:#ECEFF1}.gsc-webResult.gsc-result:hover,.gsc-imageResult:hover{border-color:#ECEFF1;background-color:#ECEFF1}.gs-webResult.gs-result a.gs-title:link,.gs-webResult.gs-result a.gs-title:link b,.gs-imageResult a.gs-title:link,.gs-imageResult a.gs-title:link b{color:#039BE5}.gs-webResult.gs-result a.gs-title:visited,.gs-webResult.gs-result a.gs-title:visited b,.gs-imageResult a.gs-title:visited,.gs-imageResult a.gs-title:visited b{color:#039BE5}.gs-webResult.gs-result a.gs-title:hover,.gs-webResult.gs-result a.gs-title:hover b,.gs-imageResult a.gs-title:hover,.gs-imageResult a.gs-title:hover b{color:#039BE5}.gs-webResult.gs-result a.gs-title:active,.gs-webResult.gs-result a.gs-title:active b,.gs-imageResult a.gs-title:active,.gs-imageResult a.gs-title:active b{color:#039BE5}.gsc-cursor-page{color:#039BE5}a.gsc-trailing-more-results:link{color:#039BE5}.gs-webResult .gs-snippet,.gs-imageResult .gs-snippet,.gs-fileFormatType{color:#333333}.gs-webResult div.gs-visibleUrl,.gs-imageResult div.gs-visibleUrl{color:#333333}.gs-webResult div.gs-visibleUrl-short{color:#333333}.gs-webResult div.gs-visibleUrl-short{display:none}.gs-webResult div.gs-visibleUrl-long{display:block}.gs-promotion div.gs-visibleUrl-short{display:none}.gs-promotion div.gs-visibleUrl-long{display:block}.gsc-cursor-box{border-color:#ECEFF1}.gsc-results .gsc-cursor-box .gsc-cursor-page{border-color:#CCCCCC;background-color:#ECEFF1;color:#039BE5}.gsc-results .gsc-cursor-box .gsc-cursor-current-page{border-color:#CCCCCC;background-color:#FFFFFF;color:#039BE5}.gsc-webResult.gsc-result.gsc-promotion{border-color:#F6F6F6;background-color:#F6F6F6}.gsc-completion-title{color:#039BE5}.gsc-completion-snippet{color:#333333}.gs-promotion a.gs-title:link,.gs-promotion a.gs-title:link *,.gs-promotion .gs-snippet a:link{color:#1155CC}.gs-promotion a.gs-title:visited,.gs-promotion a.gs-title:visited *,.gs-promotion .gs-snippet a:visited{color:#1155CC}.gs-promotion a.gs-title:hover,.gs-promotion a.gs-title:hover *,.gs-promotion .gs-snippet a:hover{color:#1155CC}.gs-promotion a.gs-title:active,.gs-promotion a.gs-title:active *,.gs-promotion .gs-snippet a:active{color:#1155CC}.gs-promotion .gs-snippet,.gs-promotion .gs-title .gs-promotion-title-right,.gs-promotion .gs-title .gs-promotion-title-right *{color:#666666}.gs-promotion .gs-visibleUrl,.gs-promotion .gs-visibleUrl-short{color:#039BE5}</style><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-webkit-user-select:none;white-space:nowrap}.gsst_e{opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gsq_a{padding:0}.gsq_a{padding:0}.gscsep_a{display:none}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em;-webkit-appearance:button}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gsfe_a{border:1px solid #b9b9b9;border-top-color:#a0a0a0;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);}.gsfe_b{border:1px solid #4d90fe;outline:none;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);}.gssb_a{padding:0 9px}.gsib_a{padding-right:8px;padding-left:8px}.gsst_a{padding-top:5.5px}.gssb_e{border:0}.gssb_l{margin:5px 0}input.gsc-input::-webkit-input-placeholder{font-size:14px}input.gsc-input:-moz-placeholder{font-size:14px}input.gsc-input::-moz-placeholder{font-size:14px}input.gsc-input:-ms-input-placeholder{font-size:14px}input.gsc-input:focus::-webkit-input-placeholder{color:transparent}input.gsc-input:focus:-moz-placeholder{color:transparent}input.gsc-input:focus::-moz-placeholder{color:transparent}input.gsc-input:focus:-ms-input-placeholder{color:transparent}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style></head>

<body class="gc-documentation                                         develop               libraries                           dac-nav-open" data-gr-c-s-loaded="true">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;Develop&quot;, &quot;dimension5&quot;: &quot;en&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;Develop&quot;, &quot;dimension5&quot;: &quot;en&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "UA", "language": {"requested": "en", "served": "en"}, "projectName": "Develop", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  
  <a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        
        <a class="dac-nav-toggle" data-dac-toggle-nav="" href="https://developer.android.com/topic/libraries/architecture/viewmodel.html" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
        <a class="dac-header-logo" href="https://developer.android.com/index.html">
          <img class="dac-header-logo-image" src="./viewmodel_files/android_logo.png" srcset="https://developer.android.com/static/images/android_logo_2x.png 2x" width="32" height="36" alt="Android"> Developers</a>
        <ul class="dac-header-tabs">
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/design/index.html" zh-tw-lang="設計" zh-cn-lang="设计" ru-lang="Проектирование" ko-lang="디자인" ja-lang="設計" es-lang="Diseñar">
              
              Design</a>
          </li>
          <li>
            <a class="dac-header-tab selected" href="https://developer.android.com/develop/index.html" zh-tw-lang="開發" zh-cn-lang="开发" ru-lang="Разработка" ko-lang="개발" ja-lang="開発" es-lang="Desarrollar">
              
              Develop</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/distribute/index.html" zh-tw-lang="發佈" zh-cn-lang="分发" ru-lang="Распространение" ko-lang="배포" ja-lang="配布" es-lang="Distribuir">
              
              Distribute</a>
          </li>
        </ul>


        

        <a class="dac-header-console-btn gc-analytics-event" href="https://play.google.com/apps/publish/" data-category="User" data-action="Console" data-label="Clicked">
          
          <img src="./viewmodel_files/developer-console-icon.svg" width="18" height="19" alt="">Play Console</a>
        

<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="Search">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>

        
      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    

<div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap dac-hidden">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          
          <h2 style="padding-bottom: 0px;">Most visited</h2><hr>
          <div class="resource-flow-layout" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          
          <h2 style="padding-bottom: 0px;">Recently visited</h2><hr>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
          <h2 style="padding-bottom: 0px;">
          
          Results for <span id="search-results-for"></span>
          </h2><hr>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-6of6 col-tablet-2of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
      </div>

      <div class="cols dac-search-results-cse">
        <script src="./viewmodel_files/cse.js" async=""></script>
        <div id="___gcse_0"><div class="gsc-control-cse gsc-control-cse-en"><div class="gsc-control-wrapper-cse" dir="ltr" style="visibility: hidden;"><form class="gsc-search-box gsc-search-box-tools" accept-charset="utf-8" style="display: none;"><table cellspacing="0" cellpadding="0" class="gsc-search-box"><tbody><tr><td class="gsc-input"><div class="gsc-input-box" id="gsc-iw-id1"><table cellspacing="0" cellpadding="0" id="gs_id50" class="gstl_50 " style="width: 100%; padding: 0px;"><tbody><tr><td id="gs_tti50" class="gsib_a"><input autocomplete="off" type="text" size="10" class="gsc-input" name="search" title="search" id="gsc-i-id1" x-webkit-speech="" x-webkit-grammar="builtin:search" lang="en" dir="ltr" spellcheck="false" placeholder="Custom Search" style="width: 100%; padding: 0px; border: none; margin: 0px; height: auto; outline: none; background: url(&quot;https://www.google.com/cse/static/images/1x/googlelogo_lightgrey_46x16dp.png&quot;) left center no-repeat rgb(255, 255, 255); text-indent: 48px;"></td><td class="gsib_b"><div class="gsst_b" id="gs_st50" dir="ltr"><a class="gsst_a" href="javascript:void(0)" style="display: none;"><span class="gscb_a" id="gs_cb50">×</span></a></div></td></tr></tbody></table></div><input type="hidden" name="bgresponse" id="bgresponse"></td><td class="gsc-search-button"><input type="image" src="./viewmodel_files/search_box_icon.png" class="gsc-search-button gsc-search-button-v2" title="search"></td><td class="gsc-clear-button"><div class="gsc-clear-button" title="clear results">&nbsp;</div></td></tr></tbody></table><table cellspacing="0" cellpadding="0" class="gsc-branding"><tbody><tr><td class="gsc-branding-user-defined"></td><td class="gsc-branding-text"><div class="gsc-branding-text">powered by</div></td><td class="gsc-branding-img"><img src="./viewmodel_files/googlelogo_grey_46x15dp.png" class="gsc-branding-img" srcset="https://www.google.com/cse/static/images/2x/googlelogo_grey_46x15dp.png 2x"></td></tr></tbody></table></form><div class="gsc-results-wrapper-nooverlay"><div class="gsc-tabsAreaInvisible"><div class="gsc-tabHeader gsc-inline-block gsc-tabhActive">Custom Search</div><span class="gs-spacer"> </span></div><div class="gsc-tabsAreaInvisible"></div><div class="gsc-above-wrapper-area-invisible"><table cellspacing="0" cellpadding="0" class="gsc-above-wrapper-area-container"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td><td class="gsc-orderby-container"><div class="gsc-orderby-invisible"><div class="gsc-orderby-label gsc-inline-block">Sort by:</div><div class="gsc-option-menu-container gsc-inline-block"><div class="gsc-selected-option-container gsc-inline-block"><div class="gsc-selected-option">Relevance</div><div class="gsc-option-selector"></div></div><div class="gsc-option-menu-invisible"><div class="gsc-option-menu-item gsc-option-menu-item-highlighted"><div class="gsc-option">Relevance</div></div><div class="gsc-option-menu-item"><div class="gsc-option">Date</div></div></div></div></div></td></tr></tbody></table></div><div class="gsc-adBlockInvisible"></div><div class="gsc-wrapper"><div class="gsc-adBlockInvisible"></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">Web</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-all-results-active"><div class="gsc-result-selector gsc-one-result" title="show one result">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="show more results">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="show all results">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div></div></div></div></div></div></div>
      </div>
    </div>
  </div>
</div>

  </header>

  <a name="navigation" tabindex="0" class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav=""></div>
    <div class="dac-nav-sidebar" data-swap="" data-dynamic="false" data-transition-speed="300" data-dac-nav="">
      <div data-swap-container="">
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-active" tabindex="0" data-swap-button="">
          
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">Libraries</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope="" itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section expanded"><div class="nav-section-header"><a href="https://developer.android.com/topic/libraries/architecture/index.html">Architecture Components</a><span class="toggle-icon" tabindex="0"></span></div><ul style="display: block;"><li><a href="https://developer.android.com/topic/libraries/architecture/guide.html">Guide to App Architecture</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/adding-components.html">Adding Components to your Project</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/lifecycle.html">Handling Lifecycles</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/livedata.html">LiveData</a></li><li class="selected"><a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html">ViewModel</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/saving-states.html">Saving States</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/room.html">Room Persistence Library</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/paging.html">Paging Library</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/feedback.html">Feedback</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/release-notes.html">Release Notes</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/topic/libraries/support-library/index.html">Support Library</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/topic/libraries/support-library/features.html">Features</a></li><li><a href="https://developer.android.com/topic/libraries/support-library/packages.html">Packages</a></li><li><a href="https://developer.android.com/topic/libraries/support-library/setup.html">Setup</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/topic/libraries/support-library/revisions.html">Recent Revisions</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/topic/libraries/support-library/rev-archive.html">Revision Archive</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header empty"><a href="https://developer.android.com/topic/libraries/data-binding/index.html">Data Binding Library</a></div></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/topic/libraries/testing-support-library/index.html">Testing Support Library</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/topic/libraries/testing-support-library/packages.html">Packages</a></li><li><a href="https://developer.android.com/topic/libraries/testing-support-library/release-notes.html">Release Notes</a></li></ul></li><li class="nav-section"><div class="nav-section-header empty"><a href="https://developer.android.com/google/play/billing/billing_library.html">Play Billing Library</a></div></li>
            </ul>
            
          
        </div>
        
        
          



<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left" tabindex="0">
  <li class="dac-nav-item home">
    
    <a class="dac-nav-link" href="https://developer.android.com/index.html">Home</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex="0"></i>
    <ul class="dac-nav-secondary about" style="display: none;">
      <li class="dac-nav-item versions">
        
        <a class="dac-nav-link" href="https://developer.android.com/about/versions/o/index.html">Android</a>
      </li>
      <li class="dac-nav-item wear">
        
        <a class="dac-nav-link" href="https://developer.android.com/wear/index.html">Wear</a>
      </li>
      <li class="dac-nav-item tv">
        
        <a class="dac-nav-link" href="https://developer.android.com/tv/index.html">TV</a>
      </li>
      <li class="dac-nav-item auto">
        
        <a class="dac-nav-link" href="https://developer.android.com/auto/index.html">Auto</a>
      </li>
      
      <li class="dac-nav-item chrome-os">
        
        <a class="dac-nav-link" href="https://developer.android.com/chrome-os/index.html">Chrome OS</a>
      </li>
      
      <li class="dac-nav-item things">
        
        <a class="dac-nav-link" href="https://developer.android.com/things/index.html">Things</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item design">
    <a class="dac-nav-link" href="https://developer.android.com/design/index.html" zh-tw-lang="設計" zh-cn-lang="设计" ru-lang="Проектирование" ko-lang="디자인" ja-lang="設計" es-lang="Diseñar">
      
      Design</a>
  </li>
  <li class="dac-nav-item develop">
    <a class="dac-nav-link has-subnav" href="https://developer.android.com/develop/index.html" zh-tw-lang="開發" zh-cn-lang="开发" ru-lang="Разработка" ko-lang="개발" ja-lang="開発" es-lang="Desarrollar">
      
      Develop</a>
    <i class="dac-sprite dac-nav-sub-slider dac-expand-less-black" tabindex="0"></i>
    <ul class="dac-nav-secondary develop">
      <li class="dac-nav-item training">
        <a class="dac-nav-link" href="https://developer.android.com/training/index.html" zh-tw-lang="訓練課程" zh-cn-lang="培训" ru-lang="Курсы" ko-lang="교육" ja-lang="トレーニング" es-lang="Capacitación">
            
            Training</a>
      </li>
      <li class="dac-nav-item guide">
        <a class="dac-nav-link" href="https://developer.android.com/guide/index.html" zh-tw-lang="API 指南" zh-cn-lang="API 指南" ru-lang="Руководства по API" ko-lang="API 가이드" ja-lang="API ガイド" es-lang="Guías de la API">
          
          API Guides</a>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="https://developer.android.com/reference/packages.html" zh-tw-lang="參考資源" zh-cn-lang="参考" ru-lang="Справочник" ko-lang="참조문서" ja-lang="リファレンス" es-lang="Referencia">
          
          Reference</a>
      </li>
      <li class="dac-nav-item samples">
        
        <a class="dac-nav-link" href="https://developer.android.com/samples/index.html">Samples</a>
      </li>
      <li class="dac-nav-item libraries">
        
        <a class="dac-nav-link selected" href="https://developer.android.com/topic/libraries/index.html">Libraries</a><span class="dac-nav-link-forward" tabindex="0"><i class="dac-sprite dac-nav-forward"></i></span></li>
      <li class="dac-nav-item studio">
        
        <a class="dac-nav-link" href="https://developer.android.com/studio/index.html">Android Studio</a></li>
      <li class="dac-nav-item ndk">
        
        <a class="dac-nav-link" href="https://developer.android.com/ndk/index.html">Android NDK</a></li>
      <li class="dac-nav-item google">
        
        <a class="dac-nav-link" href="https://developer.android.com/google/index.html">Google Services</a>
      </li>
      <li class="dac-nav-item quality-guidelines">
        
        <a class="dac-nav-link" href="https://developer.android.com/develop/quality-guidelines/index.html">Quality Guidelines</a>
      </li>
      <li class="dac-nav-item kotlin">
        
        <a class="dac-nav-link" href="https://developer.android.com/kotlin/index.html">Kotlin</a>
       </li>
    </ul>
  </li>
  <li class="dac-nav-item distribute">
    <a class="dac-nav-link" href="https://developer.android.com/distribute/index.html" zh-tw-lang="發佈" zh-cn-lang="分发" ru-lang="Распространение" ko-lang="배포" ja-lang="配布" de-lang="Vertrieb" es-lang="Distribuir" es-419-lang="Distribuye" fr-lang="Distribuer" id-lang="Distribusikan" pt-br-lang="Distribuição" th-lang="จัดจำหน่าย" tr-lang="Dağıtma" vi-lang="Phân phối">
      
      Distribute</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex="0"></i>
    <ul class="dac-nav-secondary distribute" style="display: none;">
      <li class="dac-nav-item google-play">
        
        <a class="dac-nav-link" href="https://developer.android.com/distribute/google-play/index.html">Google Play</a>
      </li>
      <li class="dac-nav-item console">
        
        <a class="dac-nav-link" href="https://developer.android.com/distribute/console/index.html">Play Console</a>
      </li>
      <li class="dac-nav-item best-practices">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/best-practices/index.html" es-419-lang="Recomendaciones" fr-lang="Bonnes pratiques" id-lang="Praktik terbaik" ja-lang="おすすめの方法" ko-lang="권장사항" pt-br-lang="Práticas recomendadas" ru-lang="Рекомендации" th-lang="จัดจำหน่าย" tr-lang="En iyi uygulamalar" vi-lang="Các phương pháp hay nhất" zh-cn-lang="最佳做法" zh-tw-lang="最佳做法">
          
          Best practices</a>
      </li>
      <li class="dac-nav-item marketing-tools">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/marketing-tools/index.html" de-lang="Marketing-Tools" es-419-lang="Herramientas de marketing" fr-lang="Outils marketing" id-lang="Fitur pemasaran" ja-lang="マーケティング ツール" ko-lang="마케팅 도구" pt-br-lang="Ferramentas de marketing" ru-lang="Маркетинговые инструменты" th-lang="เครื่องมือการตลาด" tr-lang="Pazarlama araçları" vi-lang="Công cụ tiếp thị" zh-cn-lang="营销工具" zh-tw-lang="行銷工具">
          
          Marketing tools</a>
      </li>
      <li class="dac-nav-item policy-center">
        
        <a class="dac-nav-link" href="https://play.google.com/about/developer-content-policy/" target="_blank">Policy center</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item stories">
    
    <a class="dac-nav-link" href="https://developer.android.com/stories/index.html">Stories</a>
  </li>
  
</ul>

        
      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content" style="padding-bottom: 40px;">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs dac-has-content"><li class="dac-header-crumbs-item"><a class="dac-header-crumbs-link" href="https://developer.android.com/develop/index.html">
      
      Develop</a></li><li class="dac-header-crumbs-item"><a class="dac-header-crumbs-link" href="https://developer.android.com/topic/libraries/index.html">Libraries</a></li><li class="dac-header-crumbs-item"><a class="dac-header-crumbs-link" href="https://developer.android.com/topic/libraries/architecture/index.html">Architecture Components</a></li></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">ViewModel</h1>
      
        
      
      </div>
      
    
    <div class="jd-descr " itemprop="articleBody">
      

<style>
    .sidebox a.bug {
        padding-right: 25px;
        background: transparent url(images/bug.png) no-repeat center right;
    }
    .sidebox a.g-plus {
        padding-right: 25px;
        background: transparent url(images/g+.ico) no-repeat center right;
    }
</style>

<div class="sidebox-wrapper">
  <div class="sidebox">
    <a class="dac-hero-cta bug" href="https://issuetracker.google.com/issues/new?component=197448&amp;template=878802">
      <span class="dac-sprite dac-auto-chevron"></span>
      Issue Tracker
    </a>
    <p>Report issues so we can fix bugs.</p>

    <a class="dac-hero-cta g-plus" href="https://plus.google.com/b/108967384991768947849/communities/105153134372062985968/stream/1bd006e4-f2d6-41cc-93c6-38b4afcdc36f">
      <span class="dac-sprite dac-auto-chevron"></span>
      G+ Community
    </a>
    <p>Provide feedback and discuss ideas with other developers.</p>

    <a class="dac-hero-cta" href="https://codelabs.developers.google.com/codelabs/android-lifecycles/#0">
      <span class="dac-sprite dac-auto-chevron"></span>
      Codelab
    </a>
    <p>

    <a class="dac-hero-cta" href="https://github.com/googlesamples/android-architecture-components">
      <span class="dac-sprite dac-auto-chevron"></span>
      Sample App
    </a>
    </p><p>
  </p></div>
</div>

<nav class="inline-toc"><ol class="toc"><li><a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#implement">Implement a ViewModel</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#lifecycle">The lifecycle of a ViewModel</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#sharing">Share data between fragments</a></li><li><a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#loaders">Replacing Loaders with ViewModel</a></li></ol></nav>
<p>The <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> class is
designed to store and manage UI-related data in a lifecycle conscious way. The
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> class allows
data to survive configuration changes such as screen rotations.</p>
<aside class="note"><strong>Note:</strong><span> To import
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> into your
Android project, see <a href="https://developer.android.com/topic/libraries/architecture/adding-components.html">adding components to your
project</a>.</span></aside>
<p>The Android framework manages the lifecycles of UI controllers, such as
activities and fragments. The framework may decide to destroy or re-create a
UI controller in response to certain user actions or device events that are
completely out of your control.</p>
<p>If the system destroys or re-creates a UI controller, any transient
UI-related data you store in them is lost. For example, your app may include a
list of users in one of its  activities. When the activity is re-created for a
configuration change, the new activity has to re-fetch the list of users. For
simple data, the activity can use the
<code><a href="https://developer.android.com/reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> method
and restore its data from the bundle in
<code><a href="https://developer.android.com/reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code>, but this approach is only
suitable for small amounts of data that can be serialized then deserialized, not
for potentially large amounts of data like a list of users or bitmaps.</p>
<p>Another problem is that UI controllers frequently need to make asynchronous
calls that may take some time to return. The UI controller needs to manage these
calls and ensure the system cleans them up after it's destroyed to avoid
potential memory leaks. This management requires a lot of maintenance, and in
the case where the object is re-created for a configuration change, it's a waste
of resources since the object may have to reissue calls it has already made.</p>
<p>UI controllers such as activities and fragments  are primarily intended to
display UI data, react to user actions, or handle operating system
communication, such as permission requests. Requiring UI controllers to also  be
responsible for loading data from a database or network adds bloat to the class.
Assigning excessive responsibility to UI controllers can result in a single
class that tries to handle all of an app's work by itself, instead of delegating
work to other classes. Assigning excessive responsibility to the UI controllers
in this way also makes testing a lot harder.</p>
<p>It's easier and more efficient to separate out view data ownership from
UI controller logic.</p>
<h2 id="implement" style="padding-bottom: 0px;">Implement a ViewModel</h2><hr>
<p>Architecture Components provides
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> helper class for
the UI controller that is responsible for preparing data for the UI.
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> objects are
automatically retained during configuration changes so that data they hold is
immediately available to the next activity or fragment instance. For example,
if you need to display a list of users in your app, make sure to assign
responsibility to acquire and keep the list of users to a
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewMode</code>l</a>, instead of
an activity or fragment, as illustrated by the following sample code:</p>
<pre class="prettyprint notranslate" translate="no"><code><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MyViewModel</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">ViewModel</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">MutableLiveData</span><span class="pun">&lt;</span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;&gt;</span><span class="pln"> users</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">LiveData</span><span class="pun">&lt;</span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;&gt;</span><span class="pln"> getUsers</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">users </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; users </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MutableLiveData</span><span class="pun">&lt;</span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">Users</span><span class="pun">&gt;&gt;();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; loadUsers</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> users</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> loadUsers</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Do an asyncronous operation to fetch users.</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>
<p>You can then access the list from an activity as follows:</p>
<pre class="prettyprint notranslate" translate="no"><code><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MyActivity</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">AppCompatActivity</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCreate</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create a ViewModel the first time the system calls an activity's onCreate() method.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Re-created activities receive the same MyViewModel instance created by the first activity.</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">MyViewModel</span><span class="pln"> model </span><span class="pun">=</span><span class="pln"> </span><span class="typ">ViewModelProviders</span><span class="pun">.</span><span class="pln">of</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="kwd">get</span><span class="pun">(</span><span class="typ">MyViewModel</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; model</span><span class="pun">.</span><span class="pln">getUsers</span><span class="pun">().</span><span class="pln">observe</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> users </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// update UI</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>
<p>If the activity is re-created, it receives the same <code>MyViewModel</code> instance that
was created by the first activity. When the owner activity is finished, the
framework calls the
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> objects's
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html#onCleared()"><code>onCleared()</code></a>
method so that it can clean up resources.</p>
<aside class="caution"><strong>Caution:</strong><span> A <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a>
must never reference a view,
<a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html"><code>Lifecycle</code></a>, or any class
that may hold a reference to the activity context.</span></aside>
<p><a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> objects are
designed to outlive specific instantiations of views or
<a href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html"><code>LifecycleOwners</code></a>. This
design also means you can write tests to cover a
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> more easily as
it doesn't know about view and
<a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html"><code>Lifecycle</code></a> objects.
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a>
objects can contain
<a href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleObserver.html"><code>LifecycleObservers</code></a>,
such as
<a href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> objects. However
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> objects must
never observe changes to lifecycle-aware observables,
such as <a href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> objects.
If the
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> needs the
<code><a href="https://developer.android.com/reference/android/app/Application.html">Application</a></code> context, for example to find a system service,
it can extend the
<a href="https://developer.android.com/reference/android/arch/lifecycle/AndroidViewModel.html"><code>AndroidViewModel</code></a>
class and have a constructor that receives the <code><a href="https://developer.android.com/reference/android/app/Application.html">Application</a></code>
in the constructor, since <code><a href="https://developer.android.com/reference/android/app/Application.html">Application</a></code> class extends <code><a href="https://developer.android.com/reference/android/content/Context.html">Context</a></code>.</p>
<h2 id="lifecycle" style="padding-bottom: 0px;">The lifecycle of a ViewModel</h2><hr>
<p><a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> objects are scoped
to the <a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html"><code>Lifecycle</code></a> passed to
the
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider.html"><code>ViewModelProvider</code></a>
when getting the
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a>. The
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> remains in
memory until the <a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html"><code>Lifecycle</code></a>
it's scoped to goes away permanently: in the case of an activity, when it
finishes, while in the case of a fragment, when it's detached.</p>
<p>Figure 1 illustrates the various lifecycle states of an activity as it undergoes
a rotation and then is finished. The illustration also shows the lifetime of the
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> next to the
associated activity lifecycle. This particular diagram illustrates the states of
an activity. The same basic states apply to the lifecycle of a fragment.</p>
<p><img alt="Illustrates the lifecycle of a ViewModel as an activity changes state." src="./viewmodel_files/viewmodel-lifecycle.png"></p>
<p>You usually request a
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> the first time
the system calls an activity object's
<code><a href="https://developer.android.com/reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> method. The system may call
<code><a href="https://developer.android.com/reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> several times throughout the
life of an activity, such as when a device screen is rotated. The
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> exists from when
you first request a
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> until the
activity is finished and destroyed.</p>
<h2 id="sharing" style="padding-bottom: 0px;">Share data between fragments</h2><hr>
<p>It's very common that two or more fragments in an activity need to communicate
with each other. Imagine a common case of master-detail fragments, where you
have a fragment in which the user selects an item from a list and another
fragment that displays the contents of the selected item. This case is never
trivial as both fragments need to define some interface description, and the
owner activity must bind the two together. In addition, both fragments must
handle the scenario where the other fragment is not yet created or visible.</p>
<p>This common pain point can be addressed by using
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> objects. These
fragments can share a
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewMode</code>l</a> using their
activity scope to handle this communication, as illustrated by the following
sample code:</p>
<pre class="prettyprint notranslate" translate="no"><code><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SharedViewModel</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">ViewModel</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">MutableLiveData</span><span class="pun">&lt;</span><span class="typ">Item</span><span class="pun">&gt;</span><span class="pln"> selected </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MutableLiveData</span><span class="pun">&lt;</span><span class="typ">Item</span><span class="pun">&gt;();</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">select</span><span class="pun">(</span><span class="typ">Item</span><span class="pln"> item</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; selected</span><span class="pun">.</span><span class="pln">setValue</span><span class="pun">(</span><span class="pln">item</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">LiveData</span><span class="pun">&lt;</span><span class="typ">Item</span><span class="pun">&gt;</span><span class="pln"> getSelected</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> selected</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MasterFragment</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Fragment</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">SharedViewModel</span><span class="pln"> model</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCreate</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onCreate</span><span class="pun">(</span><span class="pln">savedInstanceState</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; model </span><span class="pun">=</span><span class="pln"> </span><span class="typ">ViewModelProviders</span><span class="pun">.</span><span class="pln">of</span><span class="pun">(</span><span class="pln">getActivity</span><span class="pun">()).</span><span class="kwd">get</span><span class="pun">(</span><span class="typ">SharedViewModel</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; itemSelector</span><span class="pun">.</span><span class="pln">setOnClickListener</span><span class="pun">(</span><span class="pln">item </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; model</span><span class="pun">.</span><span class="kwd">select</span><span class="pun">(</span><span class="pln">item</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DetailFragment</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Fragment</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCreate</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onCreate</span><span class="pun">(</span><span class="pln">savedInstanceState</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">SharedViewModel</span><span class="pln"> model </span><span class="pun">=</span><span class="pln"> </span><span class="typ">ViewModelProviders</span><span class="pun">.</span><span class="pln">of</span><span class="pun">(</span><span class="pln">getActivity</span><span class="pun">()).</span><span class="kwd">get</span><span class="pun">(</span><span class="typ">SharedViewModel</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; model</span><span class="pun">.</span><span class="pln">getSelected</span><span class="pun">().</span><span class="pln">observe</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> item </span><span class="pun">-&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Update the UI.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>
<p>Notice that both fragments use
<code><a href="https://developer.android.com/reference/android/app/Fragment.html#getActivity()">getActivity()</a></code> when getting the
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider.html"><code>ViewModelProvider</code></a>.
As a result, both fragments receive the same <code>SharedViewModel</code> instance, which
is scoped to the activity.</p>
<p>This approach offers the following benefits:</p>
<ul>
<li>The activity does not need to do anything, or know anything about this
communication.</li>
<li>Fragments don't need to know about each other besides the <code>SharedViewModel</code>
contract. If one of the fragments disappears, the other one keeps working as
usual.</li>
<li>Each fragment has its own lifecycle, and is not affected by the lifecycle of
the other one. If one fragment replaces the other one, the UI continues to work
without any problems.</li>
</ul>
<h2 id="loaders" style="padding-bottom: 0px;">Replacing Loaders with ViewModel</h2><hr>
<p>Loader classes like <code><a href="https://developer.android.com/reference/android/content/CursorLoader.html">CursorLoader</a></code> are frequently used to
keep the data in an app's UI in sync with a database. You can use
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a>, with
a few other classes, to replace the loader. Using a
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> separates your
UI controller from the data-loading operation, which means you have fewer strong
references between classes.</p>
<p>In one common approach to using loaders, an app might use a
<code><a href="https://developer.android.com/reference/android/content/CursorLoader.html">CursorLoader</a></code> to
observe the contents of a database. When a value in the database changes, the
loader automatically triggers a reload of the data and updates the UI:</p>
<figure id="fig-loader">
  <img src="./viewmodel_files/viewmodel-loader.png" width="600" alt="">
  <figcaption><b>Figure 2.</b> Loading data with loaders</figcaption>
</figure>

<p><a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> works with
<a href="https://developer.android.com/topic/libraries/architecture/room.html">Room</a> and
<a href="https://developer.android.com/topic/libraries/architecture/livedata.html">LiveData</a> to replace the loader.
The <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> ensures that
the data survives a device configuration change.
<a href="https://developer.android.com/topic/libraries/architecture/room.html">Room</a> informs your
 <a href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> when the database
changes, and the <a href="https://developer.android.com/topic/libraries/architecture/livedata.html">LiveData</a>, in
turn, updates your UI with the revised data.</p>
<figure id="fig-replace-loader">
  <img src="./viewmodel_files/viewmodel-replace-loader.png" width="600" alt="">
  <figcaption><b>Figure 3.</b> Loading data with ViewModel</figcaption>
</figure>

<p><a href="https://medium.com/google-developers/lifecycle-aware-data-loading-with-android-architecture-components-f95484159de4">This blog post</a> describes how to use a <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> with a  <a href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> to replace an
<code><a href="https://developer.android.com/reference/android/content/AsyncTaskLoader.html">AsyncTaskLoader</a></code>.</p>
<p>As your data grows more complex, you might choose to have a separate class just
to load the data. The purpose of
<a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> is to
encapsulate the data for a UI controller to let the data survive configuration
changes.  For information about how to load, persist, and manage data across
configuration changes, see
<a href="https://developer.android.com/topic/libraries/architecture/saving-state.html">Saving UI State</a>.</p>
<p>The <a href="https://developer.android.com/topic/libraries/architecture/guide.html#fetching_data">Guide to Android App
Architecture</a> suggests
building a repository class to handle these functions.</p>

    </div>

    

  
    
  
    




  


<footer class="devsite-footer-promos nocontent">
  <nav class="devsite-full-site-width">
    <ul class="devsite-footer-promos-list">
      
      <li class="devsite-footer-promo">
        <a href="https://twitter.com/AndroidDev" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Twitter Promo">
          
          
          <img class="devsite-footer-promo-icon" src="./viewmodel_files/logo-twitter.svg">
          
          
            Twitter
          
        </a>
        <div class="devsite-footer-promo-description">Follow @AndroidDev on Twitter</div>
      </li>
      
      <li class="devsite-footer-promo">
        <a href="https://plus.google.com/+AndroidDevelopers" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google+ Promo">
          
          
          <img class="devsite-footer-promo-icon" src="./viewmodel_files/google_plus_48dp.png">
          
          
            Google+
          
        </a>
        <div class="devsite-footer-promo-description">Follow Android Developers on Google+</div>
      </li>
      
      <li class="devsite-footer-promo">
        <a href="https://www.youtube.com/user/androiddevelopers" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer YouTube Promo">
          
          
          <img class="devsite-footer-promo-icon" src="./viewmodel_files/youtube_48dp.png">
          
          
            YouTube
          
        </a>
        <div class="devsite-footer-promo-description">Check out Android Developers on YouTube</div>
      </li>
      
    </ul>
  </nav>
</footer>



<div class="wrap dac-footer-container">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of1">
        <div class="dac-footer-contact">
          
          <a class="dac-footer-contact-link" href="https://developer.android.com/newsletter/index.html" title="Newsletter">Newsletter</a>
          
          <a class="dac-footer-contact-link" href="https://android-developers.blogspot.com/" title="Blog" target="_blank">Blog</a>
          
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html" title="Support">Support</a>
          
          <a class="dac-footer-contact-link" href="https://docs.google.com/forms/d/e/1FAIpQLSf27XIxoFmNpTjTYdk-m1uKWGqEnd7_4C_E1AD5fdCfyTBWNA/viewform?usp=pp_url&amp;entry.1909689089&amp;entry.208743710&amp;entry.408796755&amp;entry.1341430893&amp;entry.594931249&amp;entry.1640656812&amp;entry.1759804042&amp;entry.1441312344=developer.android.com" title="Join user studies" target="_blank">Join user studies</a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator">
      
      <p class="dac-footer-copyright">
        
        Except as noted, this content is licensed under <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>. For details and restrictions, see the <a href="https://developer.android.com/license.html">Content License</a>.
      </p>
    

    <p class="dac-footer-links">
      
      <a href="https://www.android.com/" title="Android.com" target="_blank">Android.com</a>
      
      <a href="https://developer.android.com/" title="Android Developers">Android Developers</a>
      
      <a href="https://developer.android.com/studio/index.html" title="Android Studio">Android Studio</a>
      
      <a href="https://developer.android.com/distribute/console/index.html" title="Google Play Console">Google Play Console</a>
      
      <a href="https://developer.android.com/legal.html" title="Legal Notice">Legal Notice</a>
    </p>

    
    <form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
      <input type="hidden" name="xsrf_token" value="UnIVaQn8iWhatyf3hwPq3a6vdreIEK0wlucl6v4JBe06MTUxNTEwNzI2NjcyODEwMA">
      <input type="hidden" name="next" value="/topic/libraries/architecture/viewmodel.html">
      <span id="language" class="locales">
        <select class="devsite-utility-footer-language-select" name="language">
          
          <option value="id">
            Bahasa Indonesia
          </option>
          
          <option value="de">
            Deutsch
          </option>
          
          <option value="en" selected="selected">
            English
          </option>
          
          <option value="es">
            español
          </option>
          
          <option value="es-419">
            Español (América Latina)
          </option>
          
          <option value="fr">
            français
          </option>
          
          <option value="pt-br">
            Português Brasileiro
          </option>
          
          <option value="vi">
            Tiếng Việt
          </option>
          
          <option value="tr">
            Türkçe
          </option>
          
          <option value="ru">
            Русский
          </option>
          
          <option value="th">
            ภาษาไทย
          </option>
          
          <option value="ja">
            日本語
          </option>
          
          <option value="zh-cn">
            简体中文
          </option>
          
          <option value="zh-tw">
            繁體中文
          </option>
          
          <option value="ko">
            한국어
          </option>
          
        </select>
      </span>
    </form>
  </footer>
</div><!--/.wrap -->

<div class="dac-toast-group">
  <div class="dac-toast dac-visible" data-toast="">
    <div class="dac-toast-wrap">
      
      This site uses cookies to store your preferences for site-specific language and display options.
      <button class="dac-toast-close-btn">
        
        <span class="dac-button dac-raised dac-primary">OK</span>
      </button>
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter-fb="" data-swap="" class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <div class="dac-swap" data-swap-container="">
          <section class="dac-swap-section dac-active dac-down">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container="">
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://services.google.com/fb/submissions/android-developer-mailing-list/" class="dac-form" method="post">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">Full name</label>
                      <input type="text" class="dac-form-input" name="fullname" id="newsletter-full-name" required="">
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">Email address</label>
                      <input type="email" class="dac-form-input" name="emailaddress" id="newsletter-email" required="">
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="companydevelopername" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="playstoreappurls" id="newsletter-play-store">
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  
                  <div class="col-1of2 newsletter-leftCol newsletter-interested" data-validation-message="Please check at least one item.">
                    
                    <legend class="dac-form-legend">What are you interested in?<span class="dac-form-required">*</span></legend>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-whats-new" value="whats-new">
                      <label for="interested-whats-new" class="dac-form-checkbox-button"></label>
                      
                      <label for="interested-whats-new" class="dac-form-label">What's new</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-games-updates" value="games-updates">
                      <label for="interested-games-updates" class="dac-form-checkbox-button"></label>
                      
                      <label for="interested-games-updates" class="dac-form-label">Games updates</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-android-development" value="android-development">
                      <label for="interested-android-development" class="dac-form-checkbox-button"></label>
                      
                      <label for="interested-android-development" class="dac-form-label">Android development</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-input-group">
                      
                      <label for="newsletter-receive-in">Receive newsletter in</label>
                      <select name="language" class="dac-form-select" id="newsletter-receive-in">
                        <option value="en-US" selected="">English</option>
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese (Simplified)</option>
                        <option value="zh-TW">Chinese (Traditional)</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="id">Indonesian (Bahasa)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="pt-BR">Portuguese (Brazilian)</option>
                        <option value="ru">Russian</option>
                        <option value="es-419">Spanish (Latin American)</option>
                        <option value="th">Thai</option>
                        <option value="tr">Turkish</option>
                        <option value="vi">Vietnamese</option>
                      </select>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="marketingoptin" id="newsletter-add" required="" value="Add me to the mailing list.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">
                            
                            Add me to the mailing list.
                            <span class="dac-form-required">*</span>
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="privacystatement" id="newsletter-terms" required="" value="I acknowledge that the information provided in this form will be subject to Google&#39;s privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html="">I acknowledge that the information provided in this form will be subject to Google's <a href="https://www.google.com/policies/privacy/" target="_blank">privacy policy</a>.</span>
                          <span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <script src="./viewmodel_files/api.js"></script>
                      <div class="g-recaptcha" data-sitekey="6Lfc9CkTAAAAAEdusoAjrREyhAgNE1ppGE1Fc5q0"><div style="width: 304px; height: 78px;"><div><iframe src="./viewmodel_files/anchor.html" width="304" height="78" role="presentation" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid #c1c1c1; margin: 10px 25px; padding: 0px; resize: none;  display: none; "></textarea></div></div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <input type="hidden" name="referrer" value="dac">
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">You have successfully signed up for the latest Android developer news and tips.</p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->

<div data-modal="wechat" class="dac-modal">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <section>
          
          <h2 class="norule dac-modal-header-title">Follow Google Developers on WeChat</h2>
        </section>
      </header>
      <section class="dac-modal-content figure-center center-img">
        <img src="./viewmodel_files/qr-wechat.png">
      </section>
    </div>
  </div>
</div><!--/.dac-modal[dac-modal=wechat]-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            
            Browse this site in <span class="span-target-lang">English</span>?
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">
                    
                    You requested a page in <span class="span-target-lang">English</span>, but your language preference for this site is <span class="span-current-lang">English</span>.
                  </p>
                  <p id="resetLangCta">
                    
                    Would you like to change your language preference and browse this site in <span class="span-target-lang">English</span>? If you want to change your language preference later, use the language menu at the bottom of each page.
                  </p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle="">Change Language</button>
            </a>
            <a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle="">Not Now</button>
            </a>
          </footer>
        
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            
            This class requires API level <span class="api-level"></span> or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <p>
              
              This doc is hidden because your selected API level for the documentation is <span class="api-level"></span>. You can change the documentation API level with the selector above the left navigation.
            </p>
            
            <p>For more information about specifying the API level your app requires, read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting Different Platform Versions</a>.</p>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok" data-modal-toggle="">
                
                OK, make this page visible
              </button>
            </a>
          </footer>
        
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="./viewmodel_files/ytblogger_lists_unified.js" defer=""></script>
  <script src="./viewmodel_files/android_metadata_en.js" defer=""></script>
  
  <script src="./viewmodel_files/lists.js" defer=""></script>
  <script src="./viewmodel_files/gms_lists.js" defer=""></script>
  <script src="./viewmodel_files/lists(1).js" defer=""></script>
  <script src="./viewmodel_files/lists(2).js" defer=""></script>
  <script src="./viewmodel_files/lists(3).js" defer=""></script>
  <script src="./viewmodel_files/lists(4).js" defer=""></script>
  <script src="./viewmodel_files/saved_resource"></script>
  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      document.write('<script src="https://developer.android.com/android_metadata_en.js?v=2018010411" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('.devsite-utility-footer-language-select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('.devsite-utility-footer-language').submit();
      });
    });
  </script>

  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
      devsite.navigatingRadio.init();
      devsite.kennedy.InitializeTabbars();
      // overflowMenu must be initialized after tabbar.
      devsite.overflowMenu.init();
    })(jQuery);
  </script>

  


<div id="survey-box-wrapper">
  <div class="material-dialog" style="width:270px">
    <div class="material-dialog-title">
      Take a short survey?
    </div>
    <div class="material-dialog-description">
      Help us improve the Android developer experience.
      (Dec 2017 Android Platform &amp; Tools Survey)
    </div>
    <div class="material-button-bar">
      <a class="dac-button dac-primary dac-raised" target="_blank" href="https://goo.gl/UwhSLi">Okay</a>
      <a class="dac-button" href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#">No thanks</a>
    </div>
  </div>
</div>



<table cellspacing="0" cellpadding="0" class="gstl_50 gssb_c" style="width: 2px; display: none; top: 3px; position: absolute; left: -1px;"><tbody><tr><td class="gssb_f"></td><td class="gssb_e" style="width: 100%;"></td></tr></tbody></table><div style="background-color: #fff; border: 1px solid #ccc; box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.2); position: absolute; left: 0px; top: -10000px; transition: visibility 0s linear 0.3s, opacity 0.3s linear; opacity: 0; visibility: hidden; z-index: 2000000000;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: #fff; opacity: 0.05;  filter: alpha(opacity=5)"></div><div class="g-recaptcha-bubble-arrow" style="border: 11px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;"></div><div class="g-recaptcha-bubble-arrow" style="border: 10px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge" src="./viewmodel_files/bframe.html" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" name="8hohcba2ob7j" style="width: 100%; height: 100%;"></iframe></div></div></body></html>